/*! For license information please see anilist-script.js.LICENSE.txt */
(()=>{var e={2262:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>s,Fl:()=>Ne,IU:()=>ke,Jd:()=>w,PG:()=>ve,Um:()=>fe,WL:()=>Pe,X$:()=>E,X3:()=>we,Xl:()=>xe,dq:()=>Ce,iH:()=>Ie,j:()=>x,lk:()=>k,nZ:()=>r,qj:()=>pe,qq:()=>y,yT:()=>_e});var a=n(3577);let i;class s{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=i;try{return i=this,e()}finally{i=t}}}on(){i=this}off(){i=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function r(){return i}const o=e=>{const t=new Set(e);return t.w=0,t.n=0,t},l=e=>(e.w&m)>0,c=e=>(e.n&m)>0,u=new WeakMap;let d=0,m=1;const h=30;let p;const f=Symbol(""),g=Symbol("");class y{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,function(e,t=i){t&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();let e=p,t=b;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=p,p=this,b=!0,m=1<<++d,d<=h?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=m})(this):v(this),this.fn()}finally{d<=h&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let a=0;a<t.length;a++){const i=t[a];l(i)&&!c(i)?i.delete(e):t[n++]=i,i.w&=~m,i.n&=~m}t.length=n}})(this),m=1<<--d,p=this.parent,b=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){p===this?this.deferStop=!0:this.active&&(v(this),this.onStop&&this.onStop(),this.active=!1)}}function v(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let b=!0;const _=[];function w(){_.push(b),b=!1}function k(){const e=_.pop();b=void 0===e||e}function x(e,t,n){if(b&&p){let t=u.get(e);t||u.set(e,t=new Map);let a=t.get(n);a||t.set(n,a=o()),S(a)}}function S(e,t){let n=!1;d<=h?c(e)||(e.n|=m,n=!l(e)):n=!e.has(p),n&&(e.add(p),p.deps.push(e))}function E(e,t,n,i,s,r){const l=u.get(e);if(!l)return;let c=[];if("clear"===t)c=[...l.values()];else if("length"===n&&(0,a.kJ)(e)){const e=Number(i);l.forEach(((t,n)=>{("length"===n||n>=e)&&c.push(t)}))}else switch(void 0!==n&&c.push(l.get(n)),t){case"add":(0,a.kJ)(e)?(0,a.S0)(n)&&c.push(l.get("length")):(c.push(l.get(f)),(0,a._N)(e)&&c.push(l.get(g)));break;case"delete":(0,a.kJ)(e)||(c.push(l.get(f)),(0,a._N)(e)&&c.push(l.get(g)));break;case"set":(0,a._N)(e)&&c.push(l.get(f))}if(1===c.length)c[0]&&A(c[0]);else{const e=[];for(const t of c)t&&e.push(...t);A(o(e))}}function A(e,t){const n=(0,a.kJ)(e)?e:[...e];for(const e of n)e.computed&&T(e);for(const e of n)e.computed||T(e)}function T(e,t){(e!==p||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const C=(0,a.fY)("__proto__,__v_isRef,__isVue"),I=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(a.yk)),$=R(),L=R(!1,!0),P=R(!0),M=N();function N(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=ke(this);for(let e=0,t=this.length;e<t;e++)x(n,0,e+"");const a=n[t](...e);return-1===a||!1===a?n[t](...e.map(ke)):a}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){w();const n=ke(this)[t].apply(this,e);return k(),n}})),e}function O(e){const t=ke(this);return x(t,0,e),t.hasOwnProperty(e)}function R(e=!1,t=!1){return function(n,i,s){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&s===(e?t?he:me:t?de:ue).get(n))return n;const r=(0,a.kJ)(n);if(!e){if(r&&(0,a.RI)(M,i))return Reflect.get(M,i,s);if("hasOwnProperty"===i)return O}const o=Reflect.get(n,i,s);return((0,a.yk)(i)?I.has(i):C(i))?o:(e||x(n,0,i),t?o:Ce(o)?r&&(0,a.S0)(i)?o:o.value:(0,a.Kn)(o)?e?ge(o):pe(o):o)}}const U=j(),D=j(!0);function j(e=!1){return function(t,n,i,s){let r=t[n];if(be(r)&&Ce(r)&&!Ce(i))return!1;if(!e&&(_e(i)||be(i)||(r=ke(r),i=ke(i)),!(0,a.kJ)(t)&&Ce(r)&&!Ce(i)))return r.value=i,!0;const o=(0,a.kJ)(t)&&(0,a.S0)(n)?Number(n)<t.length:(0,a.RI)(t,n),l=Reflect.set(t,n,i,s);return t===ke(s)&&(o?(0,a.aU)(i,r)&&E(t,"set",n,i):E(t,"add",n,i)),l}}const F={get:$,set:U,deleteProperty:function(e,t){const n=(0,a.RI)(e,t),i=(e[t],Reflect.deleteProperty(e,t));return i&&n&&E(e,"delete",t,void 0),i},has:function(e,t){const n=Reflect.has(e,t);return(0,a.yk)(t)&&I.has(t)||x(e,0,t),n},ownKeys:function(e){return x(e,0,(0,a.kJ)(e)?"length":f),Reflect.ownKeys(e)}},V={get:P,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},W=(0,a.l7)({},F,{get:L,set:D}),B=e=>e,H=e=>Reflect.getPrototypeOf(e);function z(e,t,n=!1,a=!1){const i=ke(e=e.__v_raw),s=ke(t);n||(t!==s&&x(i,0,t),x(i,0,s));const{has:r}=H(i),o=a?B:n?Ee:Se;return r.call(i,t)?o(e.get(t)):r.call(i,s)?o(e.get(s)):void(e!==i&&e.get(t))}function K(e,t=!1){const n=this.__v_raw,a=ke(n),i=ke(e);return t||(e!==i&&x(a,0,e),x(a,0,i)),e===i?n.has(e):n.has(e)||n.has(i)}function q(e,t=!1){return e=e.__v_raw,!t&&x(ke(e),0,f),Reflect.get(e,"size",e)}function J(e){e=ke(e);const t=ke(this);return H(t).has.call(t,e)||(t.add(e),E(t,"add",e,e)),this}function G(e,t){t=ke(t);const n=ke(this),{has:i,get:s}=H(n);let r=i.call(n,e);r||(e=ke(e),r=i.call(n,e));const o=s.call(n,e);return n.set(e,t),r?(0,a.aU)(t,o)&&E(n,"set",e,t):E(n,"add",e,t),this}function Y(e){const t=ke(this),{has:n,get:a}=H(t);let i=n.call(t,e);i||(e=ke(e),i=n.call(t,e)),a&&a.call(t,e);const s=t.delete(e);return i&&E(t,"delete",e,void 0),s}function Z(){const e=ke(this),t=0!==e.size,n=e.clear();return t&&E(e,"clear",void 0,void 0),n}function X(e,t){return function(n,a){const i=this,s=i.__v_raw,r=ke(s),o=t?B:e?Ee:Se;return!e&&x(r,0,f),s.forEach(((e,t)=>n.call(a,o(e),o(t),i)))}}function Q(e,t,n){return function(...i){const s=this.__v_raw,r=ke(s),o=(0,a._N)(r),l="entries"===e||e===Symbol.iterator&&o,c="keys"===e&&o,u=s[e](...i),d=n?B:t?Ee:Se;return!t&&x(r,0,c?g:f),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function ee(e){return function(...t){return"delete"!==e&&this}}function te(){const e={get(e){return z(this,e)},get size(){return q(this)},has:K,add:J,set:G,delete:Y,clear:Z,forEach:X(!1,!1)},t={get(e){return z(this,e,!1,!0)},get size(){return q(this)},has:K,add:J,set:G,delete:Y,clear:Z,forEach:X(!1,!0)},n={get(e){return z(this,e,!0)},get size(){return q(this,!0)},has(e){return K.call(this,e,!0)},add:ee("add"),set:ee("set"),delete:ee("delete"),clear:ee("clear"),forEach:X(!0,!1)},a={get(e){return z(this,e,!0,!0)},get size(){return q(this,!0)},has(e){return K.call(this,e,!0)},add:ee("add"),set:ee("set"),delete:ee("delete"),clear:ee("clear"),forEach:X(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{e[i]=Q(i,!1,!1),n[i]=Q(i,!0,!1),t[i]=Q(i,!1,!0),a[i]=Q(i,!0,!0)})),[e,n,t,a]}const[ne,ae,ie,se]=te();function re(e,t){const n=t?e?se:ie:e?ae:ne;return(t,i,s)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,a.RI)(n,i)&&i in t?n:t,i,s)}const oe={get:re(!1,!1)},le={get:re(!1,!0)},ce={get:re(!0,!1)},ue=new WeakMap,de=new WeakMap,me=new WeakMap,he=new WeakMap;function pe(e){return be(e)?e:ye(e,!1,F,oe,ue)}function fe(e){return ye(e,!1,W,le,de)}function ge(e){return ye(e,!0,V,ce,me)}function ye(e,t,n,i,s){if(!(0,a.Kn)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=function(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,a.W7)(e))}(e);if(0===o)return e;const l=new Proxy(e,2===o?i:n);return s.set(e,l),l}function ve(e){return be(e)?ve(e.__v_raw):!(!e||!e.__v_isReactive)}function be(e){return!(!e||!e.__v_isReadonly)}function _e(e){return!(!e||!e.__v_isShallow)}function we(e){return ve(e)||be(e)}function ke(e){const t=e&&e.__v_raw;return t?ke(t):e}function xe(e){return(0,a.Nj)(e,"__v_skip",!0),e}const Se=e=>(0,a.Kn)(e)?pe(e):e,Ee=e=>(0,a.Kn)(e)?ge(e):e;function Ae(e){b&&p&&S((e=ke(e)).dep||(e.dep=o()))}function Te(e,t){const n=(e=ke(e)).dep;n&&A(n)}function Ce(e){return!(!e||!0!==e.__v_isRef)}function Ie(e){return n=!1,Ce(t=e)?t:new $e(t,n);var t,n}class $e{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ke(e),this._value=t?e:Se(e)}get value(){return Ae(this),this._value}set value(e){const t=this.__v_isShallow||_e(e)||be(e);e=t?e:ke(e),(0,a.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Se(e),Te(this))}}const Le={get:(e,t,n)=>{return Ce(a=Reflect.get(e,t,n))?a.value:a;var a},set:(e,t,n,a)=>{const i=e[t];return Ce(i)&&!Ce(n)?(i.value=n,!0):Reflect.set(e,t,n,a)}};function Pe(e){return ve(e)?e:new Proxy(e,Le)}class Me{constructor(e,t,n,a){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new y(e,(()=>{this._dirty||(this._dirty=!0,Te(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const e=ke(this);return Ae(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Ne(e,t,n=!1){let i,s;const r=(0,a.mf)(e);return r?(i=e,s=a.dG):(i=e.get,s=e.set),new Me(i,s,r||!s,n)}},3577:(e,t,n)=>{"use strict";function a(e,t){const n=Object.create(null),a=e.split(",");for(let e=0;e<a.length;e++)n[a[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{C_:()=>Z,DM:()=>y,E9:()=>H,F7:()=>c,Gg:()=>$,HD:()=>w,He:()=>W,Kj:()=>b,Kn:()=>x,NO:()=>o,Nj:()=>F,Od:()=>m,PO:()=>C,Pq:()=>X,RI:()=>p,S0:()=>I,W7:()=>T,WV:()=>ee,Z6:()=>s,_A:()=>M,_N:()=>g,aU:()=>D,dG:()=>r,e1:()=>z,fY:()=>a,h5:()=>V,hR:()=>U,hq:()=>te,ir:()=>j,j5:()=>K,kC:()=>R,kJ:()=>f,kT:()=>i,l7:()=>d,mf:()=>_,rs:()=>O,tI:()=>S,tR:()=>u,yA:()=>Q,yk:()=>k,zw:()=>ne});const i={},s=[],r=()=>{},o=()=>!1,l=/^on[^a-z]/,c=e=>l.test(e),u=e=>e.startsWith("onUpdate:"),d=Object.assign,m=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},h=Object.prototype.hasOwnProperty,p=(e,t)=>h.call(e,t),f=Array.isArray,g=e=>"[object Map]"===A(e),y=e=>"[object Set]"===A(e),v=e=>"[object Date]"===A(e),b=e=>"[object RegExp]"===A(e),_=e=>"function"==typeof e,w=e=>"string"==typeof e,k=e=>"symbol"==typeof e,x=e=>null!==e&&"object"==typeof e,S=e=>x(e)&&_(e.then)&&_(e.catch),E=Object.prototype.toString,A=e=>E.call(e),T=e=>A(e).slice(8,-1),C=e=>"[object Object]"===A(e),I=e=>w(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,$=a(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),L=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},P=/-(\w)/g,M=L((e=>e.replace(P,((e,t)=>t?t.toUpperCase():"")))),N=/\B([A-Z])/g,O=L((e=>e.replace(N,"-$1").toLowerCase())),R=L((e=>e.charAt(0).toUpperCase()+e.slice(1))),U=L((e=>e?`on${R(e)}`:"")),D=(e,t)=>!Object.is(e,t),j=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},F=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},V=e=>{const t=parseFloat(e);return isNaN(t)?e:t},W=e=>{const t=w(e)?Number(e):NaN;return isNaN(t)?e:t};let B;const H=()=>B||(B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),z=a("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console");function K(e){if(f(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],i=w(a)?Y(a):K(a);if(i)for(const e in i)t[e]=i[e]}return t}return w(e)||x(e)?e:void 0}const q=/;(?![^(]*\))/g,J=/:([^]+)/,G=/\/\*[^]*?\*\//g;function Y(e){const t={};return e.replace(G,"").split(q).forEach((e=>{if(e){const n=e.split(J);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Z(e){let t="";if(w(e))t=e;else if(f(e))for(let n=0;n<e.length;n++){const a=Z(e[n]);a&&(t+=a+" ")}else if(x(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const X=a("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Q(e){return!!e||""===e}function ee(e,t){if(e===t)return!0;let n=v(e),a=v(t);if(n||a)return!(!n||!a)&&e.getTime()===t.getTime();if(n=k(e),a=k(t),n||a)return e===t;if(n=f(e),a=f(t),n||a)return!(!n||!a)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let a=0;n&&a<e.length;a++)n=ee(e[a],t[a]);return n}(e,t);if(n=x(e),a=x(t),n||a){if(!n||!a)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const a=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(a&&!i||!a&&i||!ee(e[n],t[n]))return!1}}return String(e)===String(t)}function te(e,t){return e.findIndex((e=>ee(e,t)))}const ne=e=>w(e)?e:null==e?"":f(e)||x(e)&&(e.toString===E||!_(e.toString))?JSON.stringify(e,ae,2):String(e),ae=(e,t)=>t&&t.__v_isRef?ae(e,t.value):g(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:y(t)?{[`Set(${t.size})`]:[...t.values()]}:!x(t)||f(t)||C(t)?t:String(t)},84990:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(87537),i=n.n(a),s=n(23645),r=n.n(s)()(i());r.push([e.id,".site-theme-dark .nextStream img,\n.entry-card .nextStream img,\n.site-theme-dark .resumeStream img,\n.entry-card .resumeStream img {\n  filter: invert(100%);\n}\n.entry-card .mal-sync-stream {\n  position: absolute;\n  max-height: 17px !important;\n  left: 7px;\n  top: -17px;\n  background: rgb(var(--color-overlay) 0.8);\n  border-radius: 100% 100% 0 0;\n}\n.entry-card .mal-sync-stream img {\n  padding: 5px;\n  padding-top: 7px;\n}\n.entry-card .nextStream,\n.entry-card .resumeStream {\n  position: absolute;\n  max-height: 17px !important;\n  right: 7px;\n  top: -15px;\n  margin-right: 0 !important;\n  background: rgb(var(--color-overlay) 0.8);\n  border-radius: 100% 100% 0 0;\n}\n.entry-card .nextStream img,\n.entry-card .resumeStream img {\n  margin: 5px;\n  margin-top: 7px;\n}\n.mal-sync-ep-pre {\n  display: inline-block;\n  width: 0;\n}\n","",{version:3,sources:["webpack://./src/anilist/style.less"],names:[],mappings:"AAAA;;;;EAII,oBAAA;AACJ;AAGA;EAEI,kBAAA;EACA,2BAAA;EACA,SAAA;EACA,UAAA;EACA,yCAAA;EACA,4BAAA;AAFJ;AALA;EASM,YAAA;EACA,gBAAA;AADN;AATA;;EAeI,kBAAA;EACA,2BAAA;EACA,UAAA;EACA,UAAA;EACA,0BAAA;EACA,yCAAA;EACA,4BAAA;AAFJ;AAnBA;;EAuBM,WAAA;EACA,eAAA;AAAN;AAKA;EACE,qBAAA;EACA,QAAA;AAHF",sourcesContent:[".site-theme-dark,\n.entry-card {\n  .nextStream img,\n  .resumeStream img {\n    filter: invert(100%);\n  }\n}\n\n.entry-card {\n  .mal-sync-stream {\n    position: absolute;\n    max-height: 17px !important;\n    left: 7px;\n    top: -17px;\n    background: rgb(var(--color-overlay) 0.8);\n    border-radius: 100% 100% 0 0;\n    img {\n      padding: 5px;\n      padding-top: 7px;\n    }\n  }\n  .nextStream,\n  .resumeStream {\n    position: absolute;\n    max-height: 17px !important;\n    right: 7px;\n    top: -15px;\n    margin-right: 0 !important;\n    background: rgb(var(--color-overlay) 0.8);\n    border-radius: 100% 100% 0 0;\n    img {\n      margin: 5px;\n      margin-top: 7px;\n    }\n  }\n}\n\n.mal-sync-ep-pre {\n  display: inline-block;\n  width: 0;\n}\n"],sourceRoot:""}]);const o=r},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(a)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);a&&r[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},87537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),s="/*# ".concat(i," */");return[t].concat([s]).join("\n")}return[t].join("\n")}},27856:function(e){e.exports=function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:a,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:r,create:o}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e,t,n){return e.apply(t,n)}),s||(s=function(e){return e}),r||(r=function(e){return e}),c||(c=function(e,t){return new e(...t)});const u=k(Array.prototype.forEach),d=k(Array.prototype.pop),m=k(Array.prototype.push),h=k(String.prototype.toLowerCase),p=k(String.prototype.toString),f=k(String.prototype.match),g=k(String.prototype.replace),y=k(String.prototype.indexOf),v=k(String.prototype.trim),b=k(RegExp.prototype.test),_=(w=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(w,t)});var w;function k(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return l(e,t,a)}}function x(e,a,i){var s;i=null!==(s=i)&&void 0!==s?s:h,t&&t(e,null);let r=a.length;for(;r--;){let t=a[r];if("string"==typeof t){const e=i(t);e!==t&&(n(a)||(a[r]=e),t=e)}e[t]=!0}return e}function S(t){const n=o(null);for(const[a,i]of e(t))n[a]=i;return n}function E(e,t){for(;null!==e;){const n=i(e,t);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}e=a(e)}return function(e){return console.warn("fallback value for",e),null}}const A=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),C=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),L=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=s(["#text"]),M=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),N=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),O=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),U=r(/\{\{[\w\W]*|[\w\W]*\}\}/gm),D=r(/<%[\w\W]*|[\w\W]*%>/gm),j=r(/\${[\w\W]*}/gm),F=r(/^data-[\-\w.\u00B7-\uFFFF]/),V=r(/^aria-[\-\w]+$/),W=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=r(/^(?:\w+script|data):/i),H=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),z=r(/^html$/i);var K=Object.freeze({__proto__:null,MUSTACHE_EXPR:U,ERB_EXPR:D,TMPLIT_EXPR:j,DATA_ATTR:F,ARIA_ATTR:V,IS_ALLOWED_URI:W,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:H,DOCTYPE_NAME:z});const q=()=>"undefined"==typeof window?null:window;return function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q();const a=e=>t(e);if(a.version="3.0.3",a.removed=[],!n||!n.document||9!==n.document.nodeType)return a.isSupported=!1,a;const i=n.document,r=i.currentScript;let{document:o}=n;const{DocumentFragment:l,HTMLTemplateElement:c,Node:w,Element:k,NodeFilter:U,NamedNodeMap:D=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:j,DOMParser:F,trustedTypes:V}=n,B=k.prototype,H=E(B,"cloneNode"),J=E(B,"nextSibling"),G=E(B,"childNodes"),Y=E(B,"parentNode");if("function"==typeof c){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let Z,X="";const{implementation:Q,createNodeIterator:ee,createDocumentFragment:te,getElementsByTagName:ne}=o,{importNode:ae}=i;let ie={};a.isSupported="function"==typeof e&&"function"==typeof Y&&Q&&void 0!==Q.createHTMLDocument;const{MUSTACHE_EXPR:se,ERB_EXPR:re,TMPLIT_EXPR:oe,DATA_ATTR:le,ARIA_ATTR:ce,IS_SCRIPT_OR_DATA:ue,ATTR_WHITESPACE:de}=K;let{IS_ALLOWED_URI:me}=K,he=null;const pe=x({},[...A,...T,...C,...$,...P]);let fe=null;const ge=x({},[...M,...N,...O,...R]);let ye=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,be=null,_e=!0,we=!0,ke=!1,xe=!0,Se=!1,Ee=!1,Ae=!1,Te=!1,Ce=!1,Ie=!1,$e=!1,Le=!0,Pe=!1,Me=!0,Ne=!1,Oe={},Re=null;const Ue=x({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let De=null;const je=x({},["audio","video","img","source","image","track"]);let Fe=null;const Ve=x({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),We="http://www.w3.org/1998/Math/MathML",Be="http://www.w3.org/2000/svg",He="http://www.w3.org/1999/xhtml";let ze=He,Ke=!1,qe=null;const Je=x({},[We,Be,He],p);let Ge;const Ye=["application/xhtml+xml","text/html"];let Ze,Xe=null;const Qe=o.createElement("form"),et=function(e){return e instanceof RegExp||e instanceof Function},tt=function(e){if(!Xe||Xe!==e){if(e&&"object"==typeof e||(e={}),e=S(e),Ge=Ge=-1===Ye.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ze="application/xhtml+xml"===Ge?p:h,he="ALLOWED_TAGS"in e?x({},e.ALLOWED_TAGS,Ze):pe,fe="ALLOWED_ATTR"in e?x({},e.ALLOWED_ATTR,Ze):ge,qe="ALLOWED_NAMESPACES"in e?x({},e.ALLOWED_NAMESPACES,p):Je,Fe="ADD_URI_SAFE_ATTR"in e?x(S(Ve),e.ADD_URI_SAFE_ATTR,Ze):Ve,De="ADD_DATA_URI_TAGS"in e?x(S(je),e.ADD_DATA_URI_TAGS,Ze):je,Re="FORBID_CONTENTS"in e?x({},e.FORBID_CONTENTS,Ze):Ue,ve="FORBID_TAGS"in e?x({},e.FORBID_TAGS,Ze):{},be="FORBID_ATTR"in e?x({},e.FORBID_ATTR,Ze):{},Oe="USE_PROFILES"in e&&e.USE_PROFILES,_e=!1!==e.ALLOW_ARIA_ATTR,we=!1!==e.ALLOW_DATA_ATTR,ke=e.ALLOW_UNKNOWN_PROTOCOLS||!1,xe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Se=e.SAFE_FOR_TEMPLATES||!1,Ee=e.WHOLE_DOCUMENT||!1,Ce=e.RETURN_DOM||!1,Ie=e.RETURN_DOM_FRAGMENT||!1,$e=e.RETURN_TRUSTED_TYPE||!1,Te=e.FORCE_BODY||!1,Le=!1!==e.SANITIZE_DOM,Pe=e.SANITIZE_NAMED_PROPS||!1,Me=!1!==e.KEEP_CONTENT,Ne=e.IN_PLACE||!1,me=e.ALLOWED_URI_REGEXP||W,ze=e.NAMESPACE||He,ye=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&et(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ye.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&et(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ye.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ye.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Se&&(we=!1),Ie&&(Ce=!0),Oe&&(he=x({},[...P]),fe=[],!0===Oe.html&&(x(he,A),x(fe,M)),!0===Oe.svg&&(x(he,T),x(fe,N),x(fe,R)),!0===Oe.svgFilters&&(x(he,C),x(fe,N),x(fe,R)),!0===Oe.mathMl&&(x(he,$),x(fe,O),x(fe,R))),e.ADD_TAGS&&(he===pe&&(he=S(he)),x(he,e.ADD_TAGS,Ze)),e.ADD_ATTR&&(fe===ge&&(fe=S(fe)),x(fe,e.ADD_ATTR,Ze)),e.ADD_URI_SAFE_ATTR&&x(Fe,e.ADD_URI_SAFE_ATTR,Ze),e.FORBID_CONTENTS&&(Re===Ue&&(Re=S(Re)),x(Re,e.FORBID_CONTENTS,Ze)),Me&&(he["#text"]=!0),Ee&&x(he,["html","head","body"]),he.table&&(x(he,["tbody"]),delete ve.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z=e.TRUSTED_TYPES_POLICY,X=Z.createHTML("")}else void 0===Z&&(Z=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(n=t.getAttribute(a));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(V,r)),null!==Z&&"string"==typeof X&&(X=Z.createHTML(""));s&&s(e),Xe=e}},nt=x({},["mi","mo","mn","ms","mtext"]),at=x({},["foreignobject","desc","title","annotation-xml"]),it=x({},["title","style","font","a","script"]),st=x({},T);x(st,C),x(st,I);const rt=x({},$);x(rt,L);const ot=function(e){m(a.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},lt=function(e,t){try{m(a.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){m(a.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!fe[e])if(Ce||Ie)try{ot(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ct=function(e){let t,n;if(Te)e="<remove></remove>"+e;else{const t=f(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Ge&&ze===He&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const a=Z?Z.createHTML(e):e;if(ze===He)try{t=(new F).parseFromString(a,Ge)}catch(e){}if(!t||!t.documentElement){t=Q.createDocument(ze,"template",null);try{t.documentElement.innerHTML=Ke?X:a}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),ze===He?ne.call(t,Ee?"html":"body")[0]:Ee?t.documentElement:i},ut=function(e){return ee.call(e.ownerDocument||e,e,U.SHOW_ELEMENT|U.SHOW_COMMENT|U.SHOW_TEXT,null,!1)},dt=function(e){return"object"==typeof w?e instanceof w:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},mt=function(e,t,n){ie[e]&&u(ie[e],(e=>{e.call(a,t,n,Xe)}))},ht=function(e){let t;if(mt("beforeSanitizeElements",e,null),(n=e)instanceof j&&("string"!=typeof n.nodeName||"string"!=typeof n.textContent||"function"!=typeof n.removeChild||!(n.attributes instanceof D)||"function"!=typeof n.removeAttribute||"function"!=typeof n.setAttribute||"string"!=typeof n.namespaceURI||"function"!=typeof n.insertBefore||"function"!=typeof n.hasChildNodes))return ot(e),!0;var n;const i=Ze(e.nodeName);if(mt("uponSanitizeElement",e,{tagName:i,allowedTags:he}),e.hasChildNodes()&&!dt(e.firstElementChild)&&(!dt(e.content)||!dt(e.content.firstElementChild))&&b(/<[/\w]/g,e.innerHTML)&&b(/<[/\w]/g,e.textContent))return ot(e),!0;if(!he[i]||ve[i]){if(!ve[i]&&ft(i)){if(ye.tagNameCheck instanceof RegExp&&b(ye.tagNameCheck,i))return!1;if(ye.tagNameCheck instanceof Function&&ye.tagNameCheck(i))return!1}if(Me&&!Re[i]){const t=Y(e)||e.parentNode,n=G(e)||e.childNodes;if(n&&t)for(let a=n.length-1;a>=0;--a)t.insertBefore(H(n[a],!0),J(e))}return ot(e),!0}return e instanceof k&&!function(e){let t=Y(e);t&&t.tagName||(t={namespaceURI:ze,tagName:"template"});const n=h(e.tagName),a=h(t.tagName);return!!qe[e.namespaceURI]&&(e.namespaceURI===Be?t.namespaceURI===He?"svg"===n:t.namespaceURI===We?"svg"===n&&("annotation-xml"===a||nt[a]):Boolean(st[n]):e.namespaceURI===We?t.namespaceURI===He?"math"===n:t.namespaceURI===Be?"math"===n&&at[a]:Boolean(rt[n]):e.namespaceURI===He?!(t.namespaceURI===Be&&!at[a])&&!(t.namespaceURI===We&&!nt[a])&&!rt[n]&&(it[n]||!st[n]):!("application/xhtml+xml"!==Ge||!qe[e.namespaceURI]))}(e)?(ot(e),!0):"noscript"!==i&&"noembed"!==i||!b(/<\/no(script|embed)/i,e.innerHTML)?(Se&&3===e.nodeType&&(t=e.textContent,t=g(t,se," "),t=g(t,re," "),t=g(t,oe," "),e.textContent!==t&&(m(a.removed,{element:e.cloneNode()}),e.textContent=t)),mt("afterSanitizeElements",e,null),!1):(ot(e),!0)},pt=function(e,t,n){if(Le&&("id"===t||"name"===t)&&(n in o||n in Qe))return!1;if(we&&!be[t]&&b(le,t));else if(_e&&b(ce,t));else if(!fe[t]||be[t]){if(!(ft(e)&&(ye.tagNameCheck instanceof RegExp&&b(ye.tagNameCheck,e)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(e))&&(ye.attributeNameCheck instanceof RegExp&&b(ye.attributeNameCheck,t)||ye.attributeNameCheck instanceof Function&&ye.attributeNameCheck(t))||"is"===t&&ye.allowCustomizedBuiltInElements&&(ye.tagNameCheck instanceof RegExp&&b(ye.tagNameCheck,n)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(n))))return!1}else if(Fe[t]);else if(b(me,g(n,de,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!De[e])if(ke&&!b(ue,g(n,de,"")));else if(n)return!1;return!0},ft=function(e){return e.indexOf("-")>0},gt=function(e){let t,n,i,s;mt("beforeSanitizeAttributes",e,null);const{attributes:r}=e;if(!r)return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fe};for(s=r.length;s--;){t=r[s];const{name:l,namespaceURI:c}=t;if(n="value"===l?t.value:v(t.value),i=Ze(l),o.attrName=i,o.attrValue=n,o.keepAttr=!0,o.forceKeepAttr=void 0,mt("uponSanitizeAttribute",e,o),n=o.attrValue,o.forceKeepAttr)continue;if(lt(l,e),!o.keepAttr)continue;if(!xe&&b(/\/>/i,n)){lt(l,e);continue}Se&&(n=g(n,se," "),n=g(n,re," "),n=g(n,oe," "));const u=Ze(e.nodeName);if(pt(u,i,n)){if(!Pe||"id"!==i&&"name"!==i||(lt(l,e),n="user-content-"+n),Z&&"object"==typeof V&&"function"==typeof V.getAttributeType)if(c);else switch(V.getAttributeType(u,i)){case"TrustedHTML":n=Z.createHTML(n);break;case"TrustedScriptURL":n=Z.createScriptURL(n)}try{c?e.setAttributeNS(c,l,n):e.setAttribute(l,n),d(a.removed)}catch(e){}}}mt("afterSanitizeAttributes",e,null)},yt=function e(t){let n;const a=ut(t);for(mt("beforeSanitizeShadowDOM",t,null);n=a.nextNode();)mt("uponSanitizeShadowNode",n,null),ht(n)||(n.content instanceof l&&e(n.content),gt(n));mt("afterSanitizeShadowDOM",t,null)};return a.sanitize=function(e){let t,n,s,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ke=!e,Ke&&(e="\x3c!--\x3e"),"string"!=typeof e&&!dt(e)){if("function"!=typeof e.toString)throw _("toString is not a function");if("string"!=typeof(e=e.toString()))throw _("dirty is not a string, aborting")}if(!a.isSupported)return e;if(Ae||tt(o),a.removed=[],"string"==typeof e&&(Ne=!1),Ne){if(e.nodeName){const t=Ze(e.nodeName);if(!he[t]||ve[t])throw _("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof w)t=ct("\x3c!----\x3e"),n=t.ownerDocument.importNode(e,!0),1===n.nodeType&&"BODY"===n.nodeName||"HTML"===n.nodeName?t=n:t.appendChild(n);else{if(!Ce&&!Se&&!Ee&&-1===e.indexOf("<"))return Z&&$e?Z.createHTML(e):e;if(t=ct(e),!t)return Ce?null:$e?X:""}t&&Te&&ot(t.firstChild);const c=ut(Ne?e:t);for(;s=c.nextNode();)ht(s)||(s.content instanceof l&&yt(s.content),gt(s));if(Ne)return e;if(Ce){if(Ie)for(r=te.call(t.ownerDocument);t.firstChild;)r.appendChild(t.firstChild);else r=t;return(fe.shadowroot||fe.shadowrootmod)&&(r=ae.call(i,r,!0)),r}let u=Ee?t.outerHTML:t.innerHTML;return Ee&&he["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&b(z,t.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+u),Se&&(u=g(u,se," "),u=g(u,re," "),u=g(u,oe," ")),Z&&$e?Z.createHTML(u):u},a.setConfig=function(e){tt(e),Ae=!0},a.clearConfig=function(){Xe=null,Ae=!1},a.isValidAttribute=function(e,t,n){Xe||tt({});const a=Ze(e),i=Ze(t);return pt(a,i,n)},a.addHook=function(e,t){"function"==typeof t&&(ie[e]=ie[e]||[],m(ie[e],t))},a.removeHook=function(e){if(ie[e])return d(ie[e])},a.removeHooks=function(e){ie[e]&&(ie[e]=[])},a.removeAllHooks=function(){ie={}},a}()}()},56387:(e,t,n)=>{var a;!function(i){var s=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o="object"==typeof process&&"function"==typeof process.nextTick,l="function"==typeof Symbol,c="object"==typeof Reflect,u="function"==typeof setImmediate?setImmediate:setTimeout,d=l?c&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function m(){this._events={},this._conf&&h.call(this,this._conf)}function h(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==i&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function p(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var a=new Error(n);a.name="MaxListenersExceededWarning",a.emitter=this,a.count=e,process.emitWarning(a)}else console.error(n),console.trace&&console.trace()}var f=function(e,t,n){var a=arguments.length;switch(a){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=new Array(a);a--;)i[a]=arguments[a];return i}};function g(e,t){for(var n={},a=e.length,s=t?value.length:0,r=0;r<a;r++)n[e[r]]=r<s?t[r]:i;return n}function y(e,t,n){var a,i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(a=n.on,i=n.off),t.addEventListener?(a=t.addEventListener,i=t.removeEventListener):t.addListener?(a=t.addListener,i=t.removeListener):t.on&&(a=t.on,i=t.off),!a&&!i)throw Error("target does not implement any known event API");if("function"!=typeof a)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=a,this._off=i;var s=e._observers;s?s.push(this):e._observers=[this]}function v(e,t,n,a){var r=Object.assign({},t);if(!e)return r;if("object"!=typeof e)throw TypeError("options must be an object");var o,l,c,u=Object.keys(e),d=u.length;function m(e){throw Error('Invalid "'+o+'" option value'+(e?". Reason: "+e:""))}for(var h=0;h<d;h++){if(o=u[h],!a&&!s.call(t,o))throw Error('Unknown "'+o+'" option');(l=e[o])!==i&&(c=n[o],r[o]=c?c(l,m):l)}return r}function b(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function _(e){var t="value must be type of "+e.join("|"),n=e.length,a=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===a)return e;n(t)}:2===n?function(e,n){var s=typeof e;if(s===a||s===i)return e;n(t)}:function(a,i){for(var s=typeof a,r=n;r-- >0;)if(s===e[r])return a;i(t)}}Object.assign(y.prototype,{subscribe:function(e,t,n){var a=this,i=this._target,s=this._emitter,r=this._listeners,o=function(){var a=f.apply(null,arguments),r={data:a,name:t,original:e};n?!1!==n.call(i,r)&&s.emit.apply(s,[r.name].concat(a)):s.emit.apply(s,[t].concat(a))};if(r[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,s._newListener&&s._removeListener&&!a._onNewListener?(this._onNewListener=function(n){n===t&&null===r[e]&&(r[e]=o,a._on.call(i,e,o))},s.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!s.hasListeners(n)&&r[e]&&(r[e]=null,a._off.call(i,e,o))},r[e]=null,s.on("removeListener",this._onRemoveListener)):(r[e]=o,a._on.call(i,e,o))},unsubscribe:function(e){var t,n,a,i=this,s=this._listeners,r=this._emitter,o=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function c(){i._onNewListener&&(r.off("newListener",i._onNewListener),r.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=S.call(r,i);r._observers.splice(e,1)}if(e){if(!(t=s[e]))return;o.call(l,e,t),delete s[e],--this._listenersCount||c()}else{for(a=(n=d(s)).length;a-- >0;)e=n[a],o.call(l,e,s[e]);this._listeners={},this._listenersCount=0,c()}}});var w=_(["function"]),k=_(["object","function"]);function x(e,t,n){var a,i,s,r=0,o=new e((function(l,c,u){function d(){i&&(i=null),r&&(clearTimeout(r),r=0)}n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),a=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u;var m=function(e){d(),l(e)},h=function(e){d(),c(e)};a?t(m,h,u):(i=[function(e){h(e||Error("canceled"))}],t(m,h,(function(e){if(s)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)})),s=!0),n.timeout>0&&(r=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",r=0,o.cancel(e),c(e)}),n.timeout))}));return a||(o.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),o}function S(e){var t=this._observers;if(!t)return-1;for(var n=t.length,a=0;a<n;a++)if(t[a]._target===e)return a;return-1}function E(e,t,n,a,i){if(!n)return null;if(0===a){var s=typeof t;if("string"===s){var r,o,l=0,c=0,u=this.delimiter,m=u.length;if(-1!==(o=t.indexOf(u))){r=new Array(5);do{r[l++]=t.slice(c,o),c=o+m}while(-1!==(o=t.indexOf(u,c)));r[l++]=t.slice(c),t=r,i=l}else t=[t],i=1}else"object"===s?i=t.length:(t=[t],i=1)}var h,p,f,g,y,v,b,_=null,w=t[a],k=t[a+1];if(a===i)n._listeners&&("function"==typeof n._listeners?(e&&e.push(n._listeners),_=[n]):(e&&e.push.apply(e,n._listeners),_=[n]));else{if("*"===w){for(o=(v=d(n)).length;o-- >0;)"_listeners"!==(h=v[o])&&(b=E(e,t,n[h],a+1,i))&&(_?_.push.apply(_,b):_=b);return _}if("**"===w){for((y=a+1===i||a+2===i&&"*"===k)&&n._listeners&&(_=E(e,t,n,i,i)),o=(v=d(n)).length;o-- >0;)"_listeners"!==(h=v[o])&&("*"===h||"**"===h?(n[h]._listeners&&!y&&(b=E(e,t,n[h],i,i))&&(_?_.push.apply(_,b):_=b),b=E(e,t,n[h],a,i)):b=E(e,t,n[h],h===k?a+2:a,i),b&&(_?_.push.apply(_,b):_=b));return _}n[w]&&(_=E(e,t,n[w],a+1,i))}if((p=n["*"])&&E(e,t,p,a+1,i),f=n["**"])if(a<i)for(f._listeners&&E(e,t,f,i,i),o=(v=d(f)).length;o-- >0;)"_listeners"!==(h=v[o])&&(h===k?E(e,t,f[h],a+2,i):h===w?E(e,t,f[h],a+1,i):((g={})[h]=f[h],E(e,t,{"**":g},a+1,i)));else f._listeners?E(e,t,f,i,i):f["*"]&&f["*"]._listeners&&E(e,t,f["*"],i,i);return _}function A(e,t,n){var a,i,s=0,r=0,o=this.delimiter,l=o.length;if("string"==typeof e)if(-1!==(a=e.indexOf(o))){i=new Array(5);do{i[s++]=e.slice(r,a),r=a+l}while(-1!==(a=e.indexOf(o,r)));i[s++]=e.slice(r)}else i=[e],s=1;else i=e,s=e.length;if(s>1)for(a=0;a+1<s;a++)if("**"===i[a]&&"**"===i[a+1])return;var c,u=this.listenerTree;for(a=0;a<s;a++)if(u=u[c=i[a]]||(u[c]={}),a===s-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,p.call(this,u._listeners.length,c))):u._listeners=t,!0;return!0}function T(e,t,n,a){for(var i,s,r,o,l=d(e),c=l.length,u=e._listeners;c-- >0;)i=e[s=l[c]],r="_listeners"===s?n:n?n.concat(s):[s],o=a||"symbol"==typeof s,u&&t.push(o?r:r.join(this.delimiter)),"object"==typeof i&&T.call(this,i,t,r,o);return t}function C(e){for(var t,n,a,i=d(e),s=i.length;s-- >0;)(t=e[n=i[s]])&&(a=!0,"_listeners"===n||C(t)||delete e[n]);return a}function I(e,t,n){this.emitter=e,this.event=t,this.listener=n}function $(e,t,n){if(!0===n)s=!0;else if(!1===n)a=!0;else{if(!n||"object"!=typeof n)throw TypeError("options should be an object or true");var a=n.async,s=n.promisify,r=n.nextTick,l=n.objectify}if(a||r||s){var c=t,d=t._origin||t;if(r&&!o)throw Error("process.nextTick is not supported");s===i&&(s="AsyncFunction"===t.constructor.name),t=function(){var e=arguments,t=this,n=this.event;return s?r?Promise.resolve():new Promise((function(e){u(e)})).then((function(){return t.event=n,c.apply(t,e)})):(r?process.nextTick:u)((function(){t.event=n,c.apply(t,e)}))},t._async=!0,t._origin=d}return[t,l?new I(this,e,t):this]}function L(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,h.call(this,e)}I.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},L.EventEmitter2=L,L.prototype.listenTo=function(e,t,n){if("object"!=typeof e)throw TypeError("target musts be an object");var a=this;function s(t){if("object"!=typeof t)throw TypeError("events must be an object");var i,s=n.reducers,r=S.call(a,e);i=-1===r?new y(a,e,n):a._observers[r];for(var o,l=d(t),c=l.length,u="function"==typeof s,m=0;m<c;m++)o=l[m],i.subscribe(o,t[o]||o,u?s:s&&s[o])}return n=v(n,{on:i,off:i,reducers:i},{on:w,off:w,reducers:k}),r(t)?s(g(t)):s("string"==typeof t?g(t.split(/\s+/)):t),this},L.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var a,i=n.length,s=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)a=n[i],e&&a._target!==e||(a.unsubscribe(t),s=!0);return s},L.prototype.delimiter=".",L.prototype.setMaxListeners=function(e){e!==i&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},L.prototype.getMaxListeners=function(){return this._maxListeners},L.prototype.event="",L.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},L.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},L.prototype._once=function(e,t,n,a){return this._many(e,1,t,n,a)},L.prototype.many=function(e,t,n,a){return this._many(e,t,n,!1,a)},L.prototype.prependMany=function(e,t,n,a){return this._many(e,t,n,!0,a)},L.prototype._many=function(e,t,n,a,i){var s=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function r(){return 0==--t&&s.off(e,r),n.apply(this,arguments)}return r._origin=n,this._on(e,r,a,i)},L.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var e,t,n,a,i,s,r=arguments[0],o=this.wildcard;if("newListener"===r&&!this._newListener&&!this._events.newListener)return!1;if(o&&(e=r,"newListener"!==r&&"removeListener"!==r&&"object"==typeof r)){if(n=r.length,l)for(a=0;a<n;a++)if("symbol"==typeof r[a]){s=!0;break}s||(r=r.join(this.delimiter))}var c,u=arguments.length;if(this._all&&this._all.length)for(a=0,n=(c=this._all.slice()).length;a<n;a++)switch(this.event=r,u){case 1:c[a].call(this,r);break;case 2:c[a].call(this,r,arguments[1]);break;case 3:c[a].call(this,r,arguments[1],arguments[2]);break;default:c[a].apply(this,arguments)}if(o)c=[],E.call(this,c,e,this.listenerTree,0,n);else{if("function"==typeof(c=this._events[r])){switch(this.event=r,u){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];c.apply(this,t)}return!0}c&&(c=c.slice())}if(c&&c.length){if(u>3)for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];for(a=0,n=c.length;a<n;a++)switch(this.event=r,u){case 1:c[a].call(this);break;case 2:c[a].call(this,arguments[1]);break;case 3:c[a].call(this,arguments[1],arguments[2]);break;default:c[a].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===r)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},L.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var e,t,n,a,i,s,r=arguments[0],o=this.wildcard;if("newListener"===r&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(o&&(e=r,"newListener"!==r&&"removeListener"!==r&&"object"==typeof r)){if(a=r.length,l)for(i=0;i<a;i++)if("symbol"==typeof r[i]){t=!0;break}t||(r=r.join(this.delimiter))}var c,u=[],d=arguments.length;if(this._all)for(i=0,a=this._all.length;i<a;i++)switch(this.event=r,d){case 1:u.push(this._all[i].call(this,r));break;case 2:u.push(this._all[i].call(this,r,arguments[1]));break;case 3:u.push(this._all[i].call(this,r,arguments[1],arguments[2]));break;default:u.push(this._all[i].apply(this,arguments))}if(o?(c=[],E.call(this,c,e,this.listenerTree,0)):c=this._events[r],"function"==typeof c)switch(this.event=r,d){case 1:u.push(c.call(this));break;case 2:u.push(c.call(this,arguments[1]));break;case 3:u.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(d-1),s=1;s<d;s++)n[s-1]=arguments[s];u.push(c.apply(this,n))}else if(c&&c.length){if(c=c.slice(),d>3)for(n=new Array(d-1),s=1;s<d;s++)n[s-1]=arguments[s];for(i=0,a=c.length;i<a;i++)switch(this.event=r,d){case 1:u.push(c[i].call(this));break;case 2:u.push(c[i].call(this,arguments[1]));break;case 3:u.push(c[i].call(this,arguments[1],arguments[2]));break;default:u.push(c[i].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===r)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},L.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},L.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},L.prototype.onAny=function(e){return this._onAny(e,!1)},L.prototype.prependAny=function(e){return this._onAny(e,!0)},L.prototype.addListener=L.prototype.on,L.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},L.prototype._on=function(e,t,n,a){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");this._events||m.call(this);var s,r=this;return a!==i&&(t=(s=$.call(this,e,t,a))[0],r=s[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?(A.call(this,e,t,n),r):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,p.call(this,this._events[e].length,e))):this._events[e]=t,r)},L.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,a=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(a=E.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],a.push({_listeners:n})}for(var s=0;s<a.length;s++){var o=a[s];if(n=o._listeners,r(n)){for(var l=-1,c=0,u=n.length;c<u;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){l=c;break}if(l<0)continue;return this.wildcard?o._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete o._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete o._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&C(this.listenerTree),this},L.prototype.offAny=function(e){var t,n=0,a=0;if(e&&this._all&&this._all.length>0){for(n=0,a=(t=this._all).length;n<a;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,a=t.length;n<a;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},L.prototype.removeListener=L.prototype.off,L.prototype.removeAllListeners=function(e){if(e===i)return!this._events||m.call(this),this;if(this.wildcard){var t,n=E.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&C(this.listenerTree)}else this._events&&(this._events[e]=null);return this},L.prototype.listeners=function(e){var t,n,a,s,r,o=this._events;if(e===i){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!o)return[];for(s=(t=d(o)).length,a=[];s-- >0;)"function"==typeof(n=o[t[s]])?a.push(n):a.push.apply(a,n);return a}if(this.wildcard){if(!(r=this.listenerTree))return[];var l=[],c="string"==typeof e?e.split(this.delimiter):e.slice();return E.call(this,l,c,r,0),l}return o&&(n=o[e])?"function"==typeof n?[n]:n:[]},L.prototype.eventNames=function(e){var t=this._events;return this.wildcard?T.call(this,this.listenerTree,[],null,e):t?d(t):[]},L.prototype.listenerCount=function(e){return this.listeners(e).length},L.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return E.call(this,t,n,this.listenerTree,0),t.length>0}var a=this._events,s=this._all;return!!(s&&s.length||a&&(e===i?d(a).length:a[e]))},L.prototype.listenersAny=function(){return this._all?this._all:[]},L.prototype.waitFor=function(e,t){var n=this,a=typeof t;return"number"===a?t={timeout:t}:"function"===a&&(t={filter:t}),x((t=v(t,{timeout:0,filter:i,handleError:!1,Promise,overload:!1},{filter:w,Promise:b})).Promise,(function(a,i,s){function r(){var s=t.filter;if(!s||s.apply(n,arguments))if(n.off(e,r),t.handleError){var o=arguments[0];o?i(o):a(f.apply(null,arguments).slice(1))}else a(f.apply(null,arguments))}s((function(){n.off(e,r)})),n._on(e,r,!1)}),{timeout:t.timeout,overload:t.overload})};var P=L.prototype;Object.defineProperties(L,{defaultMaxListeners:{get:function(){return P._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");P._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return x((n=v(n,{Promise,timeout:0,overload:!1},{Promise:b})).Promise,(function(n,a,i){var s;if("function"==typeof e.addEventListener)return s=function(){n(f.apply(null,arguments))},i((function(){e.removeEventListener(t,s)})),void e.addEventListener(t,s,{once:!0});var r,o=function(){r&&e.removeListener("error",r),n(f.apply(null,arguments))};"error"!==t&&(r=function(n){e.removeListener(t,o),a(n)},e.once("error",r)),i((function(){r&&e.removeListener("error",r),e.removeListener(t,o)})),e.once(t,o)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(P,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),(a=function(){return L}.call(t,n,t,e))===i||(e.exports=a)}()},57237:(e,t,n)=>{var a=n(84990);a&&a.__esModule&&(a=a.default),e.exports="string"==typeof a?a:a.toString()},58339:(e,t,n)=>{"use strict";n.r(t),n.d(t,{request:()=>y,settings:()=>v,storage:()=>g,type:()=>b});var a=n(58339),i=n(9375),s=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};const r={set(e,t){return s(this,void 0,void 0,(function*(){const n={};return n[e]=t,new Promise(((t,a)=>{o(e).set(n,(function(){chrome.runtime.lastError?a(chrome.runtime.lastError):t()}))}))}))},get(e){return s(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{o(e).get(e,(function(a){chrome.runtime.lastError?n(chrome.runtime.lastError):t(a[e])}))}))}))},remove(e){return s(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{o(e).remove(e,(function(){chrome.runtime.lastError?n(chrome.runtime.lastError):t()}))}))}))},list(e="local"){return s(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{"local"===e?chrome.storage.local.get(null,(function(e){t(e)})):chrome.storage.sync.get(null,(function(e){t(e)}))}))}))},addStyle(e){return s(this,void 0,void 0,(function*(){try{const t=document.createElement("style");t.textContent=e,(document.head||document.body||document.documentElement||document).appendChild(t)}catch(e){console.log(`Could not add css:${e}`)}}))},version:()=>chrome.runtime.getManifest().version,lang(e,t){if(a.settings.get("forceEn")&&"undefined"!=typeof i18n){let n=i18n[e];if(void 0!==t)for(let e=0;e<t.length;e++)n=n.replace(`$${e+1}`,t[e]);return n}return chrome.i18n.getMessage(e,t)},assetUrl:e=>chrome.extension.getURL(`assets/${e}`),injectCssResource(e,t){alert("injectCssResource not supported in webextension")},injectjsResource(e,t){const n=document.createElement("script");n.src=chrome.extension.getURL(`vendor/${e}`),n.onload=function(){this.remove()},t.get(0).appendChild(n)},updateDom(e){const t=document.createElement("script");t.text="\n        document.getElementsByTagName('head')[0].onclick = function(e){\n          try{\n            componentHandler.upgradeDom();\n          }catch(e){\n            console.log(e);\n            setTimeout(function(){\n              componentHandler.upgradeDom();\n            },500);\n          }\n        }",t.onload=function(){this.remove()},e.get(0).appendChild(t)},storageOnChanged(e){chrome.storage.onChanged.addListener(e)}};function o(e){return i.syncRegex.test(e)?chrome.storage.sync:chrome.storage.local}var l=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};const c={xhr(e,t){return l(this,void 0,void 0,(function*(){if(void 0!==c.sendMessage)return c.sendMessage({name:"xhr",method:e,url:t}).then((e=>{if(429===e.status)throw"Rate limit Timeout";return e}));throw"Could not send xhr"}))},sendMessage(e){return l(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){t(e)}))}))}))},notification(e){this.sendMessage({name:"notification",options:e})},database(e,t){return this.sendMessage({name:"database",options:{call:e,param:t}})}};var u=n(2262),d=n(58339),m=n(9e4),h=n(9375),p=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};const f={options:(0,u.qj)({autoTrackingModeanime:"video",readerTracking:!0,autoTrackingModemanga:"instant",enablePages:{},forceEn:!1,rpc:!0,presenceLargeImage:"cover",presenceShowButtons:!0,presenceShowMalsync:!1,userscriptModeButton:!1,syncMode:"MAL",syncModeSimkl:"MAL",localSync:!0,delay:0,videoDuration:85,malTags:!1,malContinue:!0,malResume:!0,usedPage:!0,epPredictions:!0,theme:"auto",themeSidebars:!0,themeColor:"#000000",themeOpacity:100,themeImage:"",minimalWindow:!1,posLeft:"left",miniMALonMal:!1,floatButtonStealth:!1,minimizeBigPopup:!1,floatButtonCorrection:!0,floatButtonHide:!1,autoCloseMinimal:!1,outWay:!0,miniMalWidth:"550px",miniMalHeight:"90%",malThumbnail:100,friendScore:!0,loadPTWForProgress:!1,quicklinks:["9anime","Crunchyroll","Gogoanime","Mangadex","MangaNato","MangaFox","MangaSee","MangaFire","YugenAnime","Zoro","Funimation","Hulu","Netflix","Hidive","Vrv","VIZ","MangaPlus","MangaReader","marin","ComicK"],quicklinksPosition:"default",autofull:!1,autoresume:!1,autoNextEp:!1,highlightAllEp:!1,checkForFiller:!0,crashReport:!0,introSkip:85,introSkipFwd:[17,39],introSkipBwd:[17,37],nextEpShort:[],correctionShort:[67],syncShort:[],progressInterval:120,progressIntervalDefaultAnime:"en/sub",progressIntervalDefaultManga:"en/sub",progressNotificationsAnime:!0,progressNotificationsManga:!0,bookMarksList:!1,customDomains:[],anilistUpdateUi:!0,anilistToken:"",anilistOptions:{displayAdultContent:!0,scoreFormat:"POINT_10"},kitsuToken:"",kitsuOptions:{titleLanguagePreference:"canonical",sfwFilter:!1,ratingSystem:"regular"},simklToken:"",malToken:"",malRefresh:"",shikiToken:"",shikiOptions:{locale:"ru"}}),debounceArray:{},isInit:(0,u.iH)(!1),init(){return p(this,void 0,void 0,(function*(){const e=[];for(const t in this.options){const n=yield d.storage.get(`settings/${t}`);void 0!==n&&(this.options[t]=n,e[t]=/(token|refresh)/i.test(t)&&n?"********":n)}let t;return m.log("Settings",e),d.storage.storageOnChanged(((e,n)=>{if("sync"===n)for(const t in e){const n=e[t];/^settings\//i.test(t)&&(this.options[t.replace("settings/","")]=n.newValue,m.info(`Update ${t} option to ${n.newValue}`))}if("local"===n&&e.rateLimit)try{clearTimeout(t),e.rateLimit.newValue?(m.log("Rate limited"),$(".type-rate").length||h.flashm("Rate limited. Retrying in a moment",{error:!0,type:"rate",permanent:!0})):t=setTimeout((()=>{m.log("No Rate limited"),$(".type-rate").remove()}),5e3)}catch(e){m.error(e)}})),this.isInit.value=!0,this}))},get(e){if(!this.isInit.value)throw"Settings not initialized";return this.options[e]},set(e,t){if(!Object.prototype.hasOwnProperty.call(this.options,e)){const t=Error(`${e} is not a defined option`);throw m.error(t),t}return this.options[e]=t,d.storage.set(`settings/${e}`,t)},setDebounce(e,t){this.options[e]=t,clearTimeout(this.debounceArray[e]),this.debounceArray[e]=setTimeout((()=>{this.set(e,t),delete this.debounceArray[e]}),1e3)},getAsync(e){return p(this,void 0,void 0,(function*(){const t=yield d.storage.get(`settings/${e}`);return void 0===t&&void 0!==this.options[e]?this.options[e]:t}))}},g=r,y=c,v=f,b="webextension"},9e4:(e,t,n)=>{"use strict";n.r(t),n.d(t,{debug:()=>r,error:()=>i,info:()=>s,log:()=>a,m:()=>o});const a=Function.prototype.bind.call(console.log,console,"%cMAL-Sync","background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;"),i=Function.prototype.bind.call(console.error,console,"%cMAL-Sync","background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;"),s=Function.prototype.bind.call(console.info,console,"%cMAL-Sync","background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;"),r=Function.prototype.bind.call(console.debug,console,"%cMAL-Sync","background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;"),o=(e,t="",n=[])=>{let a="white";t||(t=function(e){if(!e)return"#ffffff";e=String(e);let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let n="#";for(let e=0;e<3;e++)n+=`00${(t>>8*e&255).toString(16)}`.substr(-2);return n}(e)),"#"===t[0]&&(a=parseInt(t.replace("#",""),16)>8388607.5?"#000":"#fff");const i=`background-color: ${t}; color: ${a}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;n.push({name:e,style:i});const s={m:(e,t="")=>o(e,t,[...n])},r=n.reduce(((e,t)=>`${e}%c${t.name}`),""),l=n.map((e=>e.style));return s.log=Function.prototype.bind.call(console.log,console,`%cM ${r}`,"background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;",...l),s.error=Function.prototype.bind.call(console.error,console,`%cM ${r}`,"background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;",...l),s.info=Function.prototype.bind.call(console.info,console,`%cM ${r}`,"background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;",...l),s.debug=Function.prototype.bind.call(console.debug,console,`%cM ${r}`,"background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;",...l),s}},9375:(e,t,n)=>{"use strict";n.r(t),n.d(t,{absoluteLink:()=>w,canHideTabs:()=>W,changeDetect:()=>E,checkDoubleExecution:()=>I,clearCache:()=>re,elementInViewport:()=>X,episode:()=>g,favicon:()=>h,flashConfirm:()=>J,flashm:()=>q,fullUrlChangeDetect:()=>S,generateUniqueID:()=>m,getAsyncWaitUntilTrue:()=>T,getBaseText:()=>d,getContinueWaching:()=>R,getEntrySettings:()=>D,getResumeWaching:()=>N,getStatusText:()=>H,getTooltip:()=>F,getUrlFromTags:()=>L,getselect:()=>_,handleMalImages:()=>j,htmlDecode:()=>ne,isDomainMatching:()=>le,isFirefox:()=>ae,lazyload:()=>Z,makeDomainCompatible:()=>se,notifications:()=>z,pageUrl:()=>ee,parseHtml:()=>k,planTo:()=>f,rateLimitExclude:()=>v,returnYYYYMMDD:()=>te,setContinueWaching:()=>O,setEntrySettings:()=>U,setResumeWaching:()=>M,setUrlInTags:()=>P,sortAlphabetically:()=>oe,status:()=>b,statusTag:()=>B,syncRegex:()=>y,timeCache:()=>K,timeDiffToText:()=>V,upperCaseFirstLetter:()=>ce,urlChangeDetect:()=>x,urlParam:()=>u,urlPart:()=>l,urlStrip:()=>c,wait:()=>Q,waitForPageToBeVisible:()=>ie,waitUntilTrue:()=>A,watching:()=>p});var a=n(19947),i=n(58339),s=n(9e4),r=n(9375),o=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};function l(e,t){if(!e)return"";const n=e.split("/");return n[t]?n[t].replace(/[#?].*/,""):""}function c(e){return e.replace(/[#?].*/,"")}function u(e,t){const n=new RegExp(`[?&]${t}=([^&#]*)`).exec(e);return null===n?null:decodeURI(n[1])||0}function d(e){let t=e.text();return e.children().each((function(){t=t.replace(a.$(this).text(),"")})),t}function m(e=10){const t=new Uint32Array(e);return window.crypto.getRandomValues(t),Array.from(t,(e=>e.toString(16))).join("")}function h(e){if(!e)return"";const t=e.match(/^(https?:\/\/)?[^/]+/);return t&&(e=t[0]),`https://favicon.malsync.moe/?domain=${e}`}function p(e){return"manga"===e?"Reading":"Watching"}function f(e){return"manga"===e?"Plan to Read":"Plan to Watch"}function g(e){return"manga"===e?i.storage.lang("UI_Chapter"):i.storage.lang("UI_Episode")}const y=/(^settings\/.*|^updateCheckTime$|^tempVersion$|^local:\/\/|^list-tagSettings$)/,v=/^https:\/\/api.malsync.moe\/(shark|mal\/|nc\/mal\/.*\/progress$)/i;var b;function _(e,t){let n=e.split(`name="${t}"`)[1].split("</select>")[0];if(n.indexOf('selected="selected"')>-1){n=n.split("<option");for(let e=0;e<n.length;++e)if(n[e].indexOf('selected="selected"')>-1)return n[e].split('value="')[1].split('"')[0]}return""}function w(e,t){return void 0===e||e.startsWith("http")||("/"!==e.charAt(0)&&(e=`/${e}`),e=t+e),e}function k(e){return(new DOMParser).parseFromString(`<!doctype html><body>${e}`,"text/html").body.textContent}function x(e){let t=window.location.href;return setInterval((function(){t!==window.location.href&&(t=window.location.href,e())}),100)}function S(e,t=!1){let n="";const a=setInterval((function(){const a=t?c(window.location.href):window.location.href;n!==a&&(n=a,e())}),100);return Number(a)}function E(e,t,n=!1){let a=t();const i=setInterval((function(){const n=t();void 0!==n&&a!==n&&(a=t(),e())}),500);return n&&e(),Number(i)}function A(e,t,n=100){const a=setInterval((function(){e()&&(clearInterval(a),t())}),n);return a}function T(e,t=100){let n,a;const i=()=>{clearTimeout(n),a&&a("AsyncWait stopped")};return{asyncWaitUntilTrue:()=>(i(),new Promise(((i,s)=>{a=s,n=A(e,(()=>i()),t)}))),reset:i}}!function(e){e[e.watching=1]="watching",e[e.completed=2]="completed",e[e.onhold=3]="onhold",e[e.dropped=4]="dropped",e[e.planToWatch=6]="planToWatch"}(b||(b={}));const C=Math.random();function I(){$(".mal-sync-double-detect").length&&$(".mal-sync-double-detect").each((function(e){$(this).text()!==C.toString()&&alert("Double execution detected! Please run MAL-Sync once only.")})),$("body").after(a.html(`<div class="mal-sync-double-detect" style="display: none;">${C.toString()}</div>`))}function L(e){return/malSync::[\d\D]+::/.test(e)?t(e.split("malSync::")[1].split("::")[0]):/last::[\d\D]+::/.test(e)?t(e.split("last::")[1].split("::")[0]):void 0;function t(e){try{return atob(e)}catch(t){return e}}}function P(e,t){if(""===e)return t.replace(/,?(malSync|last)::[^ \n]+?::/,"");if(!i.settings.get("malTags"))return t;const n=`malSync::${btoa(e)}::`;return/(last|malSync)::[\d\D]+::/.test(t)?t.replace(/(last|malSync)::[^^]*?::/,n):`${t},${n}`}function M(e,t,n,a){return o(this,void 0,void 0,(function*(){return i.storage.set(`resume/${n}/${a}`,{url:e,ep:t})}))}function N(e,t){return o(this,void 0,void 0,(function*(){if(i.settings.get("malResume"))return i.storage.get(`resume/${e}/${t}`)}))}function O(e,t,n,a){return o(this,void 0,void 0,(function*(){return i.storage.set(`continue/${n}/${a}`,{url:e,ep:t})}))}function R(e,t){return o(this,void 0,void 0,(function*(){if(i.settings.get("malContinue"))return i.storage.get(`continue/${e}/${t}`)}))}function U(e,t,n,a=""){return o(this,void 0,void 0,(function*(){const s={};if(n){for(const e in n)switch(e){case"u":case"p":s[e]=n[e]}i.settings.get("malTags")?a=P(JSON.stringify(s),a):yield i.storage.set(`tagSettings/${e}/${t}`,JSON.stringify(s))}return Object.values(s).find((e=>Boolean(e)))||(a=P("",a),i.settings.get("malTags")||(yield i.storage.remove(`tagSettings/${e}/${t}`))),a}))}function D(e,t,n=""){return o(this,void 0,void 0,(function*(){const a={u:null,c:null,r:null,p:""};if(i.settings.get("malTags")){const e=L(n);if(e)if("{"===e[0])try{const t=JSON.parse(e);for(const e in a)t[e]&&(a[e]=t[e])}catch(e){s.error(e)}else a.u=e}else{let n=yield i.storage.get(`tagSettings/${e}/${t}`);if(n){n=JSON.parse(n);for(const e in a)n[e]&&(a[e]=n[e])}}const r=yield R(e,t);r&&(a.c=r);const o=yield N(e,t);return o&&(a.r=o),i.settings.get("usedPage")||(a.u=null),a}))}function j(e){return-1!==e.indexOf("questionmark")?i.storage.assetUrl("questionmark.gif"):e}function F(e,t="",n="top"){const a=Math.floor(1e3*Math.random()+1);return`<div id="tt${a}" class="icon material-icons" style="font-size:16px; line-height: 0; color: #7f7f7f; padding-bottom: 20px; padding-left: 3px; ${t}">contact_support</div>  <div class="mdl-tooltip mdl-tooltip--${n} mdl-tooltip--large" for="tt${a}">${e}</div>`}function V(e){let t="";e/=1e3;const n=Math.floor(e/31536e3);e-=31536e3*n,n&&(t+=`${n}y `);const a=Math.floor(e/86400);e-=86400*a,a&&(t+=`${a}d `);const i=Math.floor(e/3600)%24;e-=3600*i,i&&a<2&&(t+=`${i}h `);const s=Math.floor(e/60)%60;return e-=60*s,s&&!a&&i<3&&(t+=`${s}min `),t}function W(){return"undefined"!=typeof browser&&void 0!==browser.tabs.hide}function B(e,t,n){const a={anime:{1:{class:"watching",text:"CW",title:i.storage.lang(`UI_Status_watching_${t}`)},2:{class:"completed",text:"CMPL",title:i.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:i.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:i.storage.lang("UI_Status_Dropped")},6:{class:"plantowatch",text:"PTW",title:i.storage.lang(`UI_Status_planTo_${t}`)},23:{class:"rewatching",text:"RE",title:i.storage.lang(`UI_Status_Rewatching_${t}`)}},manga:{1:{class:"reading",text:"CR",title:i.storage.lang(`UI_Status_watching_${t}`)},2:{class:"completed",text:"CMPL",title:i.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:i.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:i.storage.lang("UI_Status_Dropped")},6:{class:"plantoread",text:"PTR",title:i.storage.lang(`UI_Status_planTo_${t}`)},23:{class:"rewatching",text:"RE",title:i.storage.lang(`UI_Status_Rewatching_${t}`)}}};if($.each([1,2,3,4,6,23],(function(e,t){a.anime[a.anime[t].title]=a.anime[t],a.manga[a.manga[t].title]=a.manga[t]})),e&&a[t][e]){const i=a[t][e];return` <a href="https://myanimelist.net/ownlist/${t}/${n}/edit?hideLayout=1" title="${i.title}" class="Lightbox_AddEdit button_edit ${i.class}">${i.text}</a>`}return!1}function H(e,t){switch(t){case 1:return i.storage.lang(`UI_Status_watching_${e}`);case 2:return i.storage.lang("UI_Status_Completed");case 3:return i.storage.lang("UI_Status_OnHold");case 4:return i.storage.lang("UI_Status_Dropped");case 6:return i.storage.lang(`UI_Status_planTo_${e}`);case 7:return i.storage.lang("UI_Status_All");case 23:return i.storage.lang(`UI_Status_Rewatching_${e}`);default:return""}}function z(e,t,n,a=""){const r={type:"basic",title:t,message:n,iconUrl:a};s.log("Notification",e,r),i.storage.get("notificationHistory").then((t=>{void 0===t&&(t=[]),"object"==typeof t&&(t.length>=10&&t.shift(),t.push({url:e,title:r.title,message:r.message,iconUrl:r.iconUrl,timestamp:Date.now()}),i.storage.set("notificationHistory",t))}));try{return chrome.notifications.create(e,r)}catch(e){s.error(e)}}function K(e,t,n){return o(this,void 0,void 0,(function*(){const a=yield i.storage.get(e);if("object"==typeof a&&(new Date).getTime()<a.timestamp)return a.data;const s=yield t();return i.storage.set(e,{data:s,timestamp:(new Date).getTime()+n}).then((()=>s))}))}function q(e,t){a.$("#flash-div-top").length||function(){i.storage.addStyle('.flashinfo{\n                    transition: max-height 2s, opacity 2s 2s;\n                 }\n                 .mini-stealth .flashinfo{\n                    opacity: 0;\n                 }\n                  #flashinfo-div.hover.mini-stealth .flashinfo.type-update{\n                    opacity: 0.7;\n                 }\n                 #flashinfo-div.hover .flashinfo{\n                    opacity: 1;\n                 }\n                 .flashinfo:hover{\n                    max-height:5000px !important;\n                    z-index: 2147483647;\n                    opacity: 1;\n                    transition: max-height 2s;\n                 }\n                 .flashinfo .synopsis{\n                    transition: max-height 2s, max-width 2s ease 2s;\n                 }\n                 .flashinfo:hover .synopsis{\n                    max-height:9999px !important;\n                    max-width: 500px !important;\n                    transition: max-height 2s;\n                 }\n                 #flashinfo-div{\n                  z-index: 2;\n                  transition: 2s;\n                 }\n                 #flashinfo-div:hover, #flashinfo-div.hover{\n                  z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error {\n                   z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error .type-update{\n                  overflow: visible !important;\n                  opacity: 1 !important;\n                 }\n                 #flashinfo-div.player-error .player-error{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-missing-permissions{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-default{\n                  display: none !important\n                 }\n\n                 #flash-div-top, #flash-div-bottom, #flashinfo-div{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 400;\n                    line-height: 17px;\n                 }\n                 #flash-div-top h2, #flash-div-bottom h2, #flashinfo-div h2{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 700;\n                    line-height: 17px;\n                    padding: 0;\n                    margin: 0;\n                 }\n                 #flash-div-top a, #flash-div-bottom a, #flashinfo-div a{\n                    color: #DF6300;\n                 }');let e="";i.settings.get("floatButtonStealth")&&(e="mini-stealth"),a.$("body").after(a.html(`<div id="flash-div-top" style="text-align: center;pointer-events: none;position: fixed;top:-5px;width:100%;z-index: 2147483647;left: 0;"></div>        <div id="flash-div-bottom" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;z-index: 2147483647;left: 0;"><div id="flash" style="display:none;  background-color: red;padding: 20px; margin: 0 auto;max-width: 60%;          -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 20px;background:rgba(227,0,0,0.6);"></div></div>        <div id="flashinfo-div" class="${e}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;left: 0;">`))}(),s.log("[Flash] Message:",e);let n="#323232";void 0!==t&&void 0!==t.error&&t.error&&(n="#3e0808");let r="#flash-div-bottom";void 0!==t&&void 0!==t.position&&t.position&&(r=`#flash-div-${t.position}`);let o="flash";if(void 0!==t&&void 0!==t.type&&t.type){const e=`type-${t.type}`;a.$(`${r} .${e}, #flashinfo-div .${e}`).removeClass(e).fadeOut({duration:1e3,queue:!1,complete(){a.$(this).remove()}}),o+=` ${e}`}let l,c=`<div class="${o}" style="display:none;">        <div style="display:table; pointer-events: all; padding: 14px 24px 14px 24px; margin: 0 auto; margin-top: 5px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; ">          ${e}        </div>      </div>`;return void 0!==t&&void 0!==t.hoverInfo&&t.hoverInfo?(o+=" flashinfo",c=`<div class="${o}" style="display:none; max-height: 5000px; overflow: hidden;"><div style="display:table; pointer-events: all; margin: 0 auto; margin-top: -2px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; position: relative;"><div style="max-height: 60vh; overflow-y: auto; padding: 14px 24px 14px 24px;">${e}</div></div></div>`,a.$("#flashinfo-div").addClass("hover"),l=a.$(a.html(c)).appendTo("#flashinfo-div"),void 0!==t&&void 0!==t.minimized&&t.minimized&&l.css("max-height","8px")):l=a.$(a.html(c)).appendTo(r),void 0!==t&&void 0!==t.permanent&&t.permanent?l.slideDown(800):void 0!==t&&void 0!==t.hoverInfo&&t.hoverInfo?l.slideDown(800).delay(4e3).queue((function(){a.$("#flashinfo-div").removeClass("hover"),l.css("max-height","8px")})):l.slideDown(800).delay(4e3).slideUp(800,(()=>{a.$(this).remove()})),l}function J(e,t,n=(()=>{}),s=(()=>{}),r=!1){return o(this,void 0,void 0,(function*(){return new Promise((function(o,l){let c=i.storage.lang("Ok"),u=i.storage.lang("Cancel");r&&(c=i.storage.lang("Yes"),u=i.storage.lang("No"));const d=q(e=`<div style="text-align: center;">${e}</div><div style="display: flex; justify-content: space-around;"><button class="Yes" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${c}</button><button class="Cancel" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${u}</button></div>`,{permanent:!0,position:"top",type:t});d.find(".Yes").click((function(e){o(!0),a.$(e.target).parentsUntil(".flash").fadeOut(300,(function(){a.$(this).remove()})),n()})),d.find(".Cancel").click((function(e){o(!1),a.$(e.target).parentsUntil(".flash").fadeOut(300,(function(){a.$(this).remove()})),s()}))}))}))}let G=!1,Y=[];function Z(e,t=".mdl-layout__content"){function n(e,t){if(!a.$(e).is(":visible"))return!1;if(a.$(e).hasClass("lazyBack"))a.$(e).css("background-image",`url(${e.getAttribute("data-src")})`).removeClass("lazyBack");else{const n=new Image,a=e.getAttribute("data-src");n.onload=function(){e.parent?e.parent.replaceChild(n,e):e.src=a,t&&t()},n.src=a}}for(let e=0;e<Y.length;e++)$(Y[e]).addClass("init");Y=[];const i=e.find("img.lazy.init, .lazyBack.init"),s=function(){for(let e=0;e<Y.length;e++)r.elementInViewport(Y[e],600)&&n(Y[e],(function(){Y.splice(e,e)})),$(Y[e]).length||Y.splice(e,e)};for(let e=0;e<i.length;e++)Y.push(i[e]),$(i[e]).removeClass("init");s(),G||(G=!0,e.find(t).scroll((function(){s()})))}function X(e,t=0){const n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.top-t<=(window.innerHeight||document.documentElement.clientHeight)}function Q(e){return new Promise((t=>{setTimeout(t,e)}))}function ee(e,t,n){switch(e){case"mal":return`https://myanimelist.net/${t}/${n}`;case"anilist":return`https://anilist.co/${t}/${n}`;case"kitsu":return`https://kitsu.io/${t}/${n}`;case"simkl":return`https://simkl.com/${t}/${n}`;default:throw`${e} not a valid page`}}function te(e=0){const t=new Date;t.setDate(t.getDate()+e);const n=t.getMonth()<9?`0${t.getMonth()+1}`:t.getMonth()+1,a=t.getDate()<10?`0${t.getDate()}`:t.getDate();return`${t.getFullYear()}-${n}-${a}`}function ne(e){return $("<textarea/>").html(a.html(e)).text()}function ae(){return Boolean("undefined"!=typeof browser&&"undefined"!=typeof chrome)}function ie(){const e=()=>Boolean(!document.visibilityState||"visible"===document.visibilityState);if(e())return Promise.resolve();s.log("Page in background");const{asyncWaitUntilTrue:t}=T((()=>e()));return t().then((()=>{s.log("Page is visible")}))}function se(e){return e.split("/").length<4&&(e+="/"),e.replace(/\?.*/,"?")}function re(){return o(this,void 0,void 0,(function*(){const e=yield i.storage.list();let t=0;a.$.each(e,(function(e,n){r.syncRegex.test(String(e))||/(^tagSettings\/.*)/.test(String(e))||(i.storage.remove(String(e)),t++)})),r.flashm(`Cache Cleared [${t}]`)}))}function oe(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}function le(e,t){const n=new URL(e),{host:a}=n;return a===t||a.endsWith(`.${t}`)}function ce(e){return!e||e.length<2?e:e.charAt(0).toUpperCase()+e.slice(1)}},19947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$:()=>i,html:()=>s});var a=n(27856);const i=jQuery;function s(e){return a.sanitize(e,{SAFE_FOR_JQUERY:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["target"]})}},83744:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,a]of t)n[e]=a;return n}},16245:e=>{"use strict";e.exports=JSON.parse('[{"key":"nineAnime","name":"9anime","domain":"https://9anime.to","database":"9anime","search":{"anime":"https://9anime.to/filter?keyword={searchtermPlus}","manga":null}},{"key":"Crunchyroll","name":"Crunchyroll","domain":"https://www.crunchyroll.com","database":"Crunchyroll","search":{"anime":"https://www.crunchyroll.com/search?q={searchtermPlus}","manga":null}},{"key":"Vrv","name":"Vrv","domain":"https://vrv.co","database":"Vrv","search":{"anime":"https://vrv.co/?q={searchterm}","manga":null}},{"key":"Mangadex","name":"Mangadex","domain":"https://www.mangadex.org","database":"Mangadex","search":{"anime":null,"manga":"https://mangadex.org/titles?q={searchterm}"}},{"key":"Gogoanime","name":"Gogoanime","domain":"https://gogoanime.tv","database":"Gogoanime","search":{"anime":"https://www1.gogoanime.ai/search.html?keyword={searchterm}","manga":null}},{"key":"TurkAnime","name":"TurkAnime","domain":"https://www.turkanime.co","database":null,"search":{"anime":"home","manga":null}},{"key":"animepahe","name":"animepahe","domain":"https://animepahe.com","database":"animepahe","search":{"anime":"home","manga":null}},{"key":"Netflix","name":"Netflix","domain":"https://www.netflix.com","database":"Netflix","search":{"anime":"https://www.netflix.com/search?q={searchterm}","manga":null}},{"key":"Animeflv","name":"Animeflv","domain":"https://animeflv.net","database":null,"search":{"anime":"https://www3.animeflv.net/browse?q={searchtermPlus}","manga":null}},{"key":"Jkanime","name":"Jkanime","domain":"https://jkanime.net","database":null,"search":{"anime":"https://jkanime.net/buscar/{searchterm}","manga":null}},{"key":"Proxer","name":"Proxer","domain":"https://proxer.me","database":null,"search":{"anime":"https://proxer.me/search?s=search&name={searchterm}&typ=all-anime&tags=&notags=#top","manga":"https://proxer.me/search?s=search&name={searchterm}&typ=all-manga&tags=&notags=#top"}},{"key":"Wakanim","name":"Wakanim","domain":"https://www.wakanim.tv","database":null,"search":{"anime":"https://www.wakanim.tv/de/v2/catalogue/search?search={searchterm}","manga":null}},{"key":"Emby","name":"Emby","domain":"http://app.emby.media","database":null,"search":{"anime":"home","manga":null}},{"key":"Plex","name":"Plex","domain":"http://app.plex.tv","database":null,"search":{"anime":"home","manga":null}},{"key":"Aniflix","name":"Aniflix","domain":"https://www1.aniflix.tv","database":null,"search":{"anime":"home","manga":null}},{"key":"KickAssAnime","name":"KickAssAnime","domain":"https://kaas.am","database":null,"search":{"anime":"home","manga":null}},{"key":"Shinden","name":"Shinden","domain":"https://shinden.pl","database":null,"search":{"anime":"home","manga":null}},{"key":"Voiranime","name":"Voiranime","domain":"https://voiranime.com","database":null,"search":{"anime":"https://voiranime.com/?s={searchtermPlus}","manga":null}},{"key":"MangaNato","name":"MangaNato","domain":"https://manganato.com","database":"MangaNato","search":{"anime":null,"manga":"https://manganato.com/search/story/{searchterm(_)[noSpecial]}"}},{"key":"VIZ","name":"VIZ","domain":"https://www.viz.com","database":"VIZ","search":{"anime":null,"manga":"https://www.viz.com/search?search={searchtermPlus}"}},{"key":"NekoSama","name":"NekoSama","domain":"https://neko-sama.fr","database":null,"search":{"anime":"home","manga":null}},{"key":"AnimeOdcinki","name":"AnimeOdcinki","domain":"https://anime-odcinki.pl","database":null,"search":{"anime":"https://anime-odcinki.pl/szukaj/{searchtermPlus}","manga":null}},{"key":"AnimeZone","name":"AnimeZone","domain":"https://www.animezone.pl","database":null,"search":{"anime":"home","manga":null}},{"key":"serimanga","name":"serimanga","domain":"https://serimanga.com","database":null,"search":{"anime":null,"manga":"https://serimanga.com/mangalar?search={searchtermPlus}"}},{"key":"mangadenizi","name":"mangadenizi","domain":"https://mangadenizi.com","database":null,"search":{"anime":null,"manga":"home"}},{"key":"moeclip","name":"moeclip","domain":"https://moeclip.com","database":null,"search":{"anime":"https://moeclip.com/search/{searchtermPlus}","manga":null}},{"key":"mangalivre","name":"Mang Livre","domain":"https://mangalivre.net","database":null,"search":{"anime":null,"manga":"home"}},{"key":"tmofans","name":"tmofans","domain":"https://lectortmo.com","database":null,"search":{"anime":null,"manga":"https://lectortmo.com/library?_pg=1&title={searchtermPlus}"}},{"key":"unionmangas","name":"Union Mangs","domain":"https://unionleitor.top","database":null,"search":{"anime":null,"manga":"home"}},{"key":"MangaPlus","name":"MangaPlus","domain":"https://mangaplus.shueisha.co.jp","database":"MangaPlus","search":{"anime":null,"manga":"https://mangaplus.shueisha.co.jp/search_result?keyword={searchterm}"}},{"key":"JapScan","name":"JapScan","domain":"https://www.japscan.ws","database":null,"search":{"anime":null,"manga":"home"}},{"key":"Hulu","name":"Hulu","domain":"https://www.hulu.com","database":"Hulu","search":{"anime":"home","manga":null}},{"key":"Hidive","name":"Hidive","domain":"https://www.hidive.com","database":"Hidive","search":{"anime":"https://www.hidive.com/search?q={searchtermPlus}","manga":null}},{"key":"FallenAngels","name":"FallenAngels","domain":"https://manga.fascans.com","database":null,"search":{"anime":null,"manga":"home"}},{"key":"PrimeVideo","name":"Amazon Prime Video","domain":"https://www.primevideo.com","database":null,"search":{"anime":"home","manga":null}},{"key":"MangaKatana","name":"MangaKatana","domain":"http://mangakatana.com","database":null,"search":{"anime":null,"manga":"http://mangakatana.com/?search={searchtermPlus}&search_by=book_name"}},{"key":"manga4life","name":"manga4life","domain":"https://manga4life.com","database":null,"search":{"anime":null,"manga":"https://manga4life.com/search/?name={searchterm}"}},{"key":"bato","name":"bato","domain":"https://bato.to","database":null,"search":{"anime":null,"manga":"https://bato.to/search?word={searchtermPlus}"}},{"key":"MangaPark","name":"MangaPark","domain":"https://mangapark.net","database":null,"search":{"anime":null,"manga":"https://mangapark.net/search?word={searchterm}"}},{"key":"AnimesHouse","name":"AnimesHouse","domain":"https://animeshouse.net","database":null,"search":{"anime":"home","manga":null}},{"key":"AnimeXin","name":"AnimeXin","domain":"https://animexinax.com","database":null,"search":{"anime":"https://animexinax.com/?s={searchtermPlus}","manga":null}},{"key":"MonosChinos","name":"MonosChinos","domain":"https://monoschinos2.com","database":null,"search":{"anime":"https://monoschinos2.com/buscar?q={searchtermPlus}","manga":null}},{"key":"AnimeFire","name":"AnimeFire","domain":"https://animefire.net","database":null,"search":{"anime":"home","manga":null}},{"key":"OtakuFR","name":"OtakuFR","domain":"https://otakufr.co","database":null,"search":{"anime":"https://otakufr.co/toute-la-liste-affiches/?q={searchtermPlus}","manga":null}},{"key":"Samehadaku","name":"Samehadaku","domain":"https://samehadaku.vip","database":null,"search":{"anime":"https://samehadaku.vip/?s={searchtermPlus}","manga":null}},{"key":"mangatx","name":"mangatx","domain":"https://mangatx.com","database":null,"search":{"anime":null,"manga":"https://mangatx.com/?s={searchtermPlus}&post_type=wp-manga&post_type=wp-manga"}},{"key":"manhuafast","name":"manhuafast","domain":"https://manhuafast.com","database":null,"search":{"anime":null,"manga":"https://manhuafast.com/?s={searchtermPlus}&post_type=wp-manga&post_type=wp-manga"}},{"key":"TRanimeizle","name":"TRanimeizle","domain":"https://www.tranimeizle.net/","database":null,"search":{"anime":"home","manga":null}},{"key":"AnimeStreamingFR","name":"AnimeStreamingFR","domain":"https://beta.animestreamingfr.fr","database":null,"search":{"anime":"https://beta.animestreamingfr.fr/catalogue/search?query={searchtermPlus}","manga":null}},{"key":"Furyosquad","name":"Furyosquad","domain":"https://furyosquad.com/","database":null,"search":{"anime":null,"manga":"home"}},{"key":"AnimeId","name":"AnimeId","domain":"https://www.animeid.tv","database":null,"search":{"anime":"home","manga":null}},{"key":"MyAnimeListVideo","name":"MyAnimeList","domain":"https://myanimelist.net","database":null,"search":{"anime":"https://myanimelist.net/anime.php?q={searchterm}","manga":"https://myanimelist.net/manga.php?q={searchterm}"}},{"key":"AnimeUnity","name":"AnimeUnity","domain":"https://animeunity.it","database":null,"search":{"anime":"home","manga":null}},{"key":"MangaHere","name":"MangaHere","domain":"http://www.mangahere.cc","database":null,"search":{"anime":null,"manga":"http://www.mangahere.cc/search?title={searchtermPlus}"}},{"key":"MangaFox","name":"MangaFox","domain":"http://fanfox.net","database":"MangaFox","search":{"anime":null,"manga":"http://fanfox.net/search?title={searchtermPlus}"}},{"key":"DesuOnline","name":"DesuOnline","domain":"https://desu-online.pl","database":null,"search":{"anime":"https://desu-online.pl/?s={searchtermPlus}","manga":null}},{"key":"WuxiaWorld","name":"WuxiaWorld","domain":"https://wuxiaworld.site","database":null,"search":{"anime":null,"manga":"https://wuxiaworld.site/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"LeviatanScans","name":"LeviatanScans","domain":"https://en.leviatanscans.com","database":null,"search":{"anime":null,"manga":"https://en.leviatanscans.com/?s={searchtermPlus}"}},{"key":"ReaperScans","name":"ReaperScans","domain":"https://reaperscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"key":"LynxScans","name":"LynxScans","domain":"https://lynxscans.com","database":null,"search":{"anime":null,"manga":"https://lynxscans.com/comics?query={searchtermPlus}"}},{"key":"SKScans","name":"SKScans","domain":"https://skscans.com","database":null,"search":{"anime":null,"manga":"https://skscans.com/?s={searchtermPlus}"}},{"key":"ZeroScans","name":"ZeroScans","domain":"https://zeroscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"key":"DeathTollScans","name":"DeathTollScans","domain":"https://reader.deathtollscans.net","database":null,"search":{"anime":null,"manga":"home"}},{"key":"ManhuaPlus","name":"ManhuaPlus","domain":"https://manhuaplus.com","database":null,"search":{"anime":null,"manga":"https://manhuaplus.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Readm","name":"Readm","domain":"https://readm.org","database":null,"search":{"anime":null,"manga":"home"}},{"key":"tioanime","name":"tioanime","domain":"https://tioanime.com","database":null,"search":{"anime":"https://tioanime.com/directorio?q={searchtermPlus}","manga":null}},{"key":"YugenAnime","name":"YugenAnime","domain":"https://yugen.to","database":"YugenAnime","search":{"anime":"https://yugenanime.ro/search/?q={searchtermPlus}","manga":null}},{"key":"MangaSee","name":"MangaSee","domain":"https://mangasee123.com","database":"MangaSee","search":{"anime":null,"manga":"https://mangasee123.com/search/?name={searchterm}"}},{"key":"Okanime","name":"Okanime","domain":"https://okanime.tv","database":null,"search":{"anime":"https://okanime.tv/search?search={searchtermPlus}","manga":null}},{"key":"BSTO","name":"bs.to","domain":"https://bs.to","database":null,"search":{"anime":"home","manga":null}},{"key":"AsuraScans","name":"AsuraScans","domain":"https://asura.gg","database":null,"search":{"anime":null,"manga":"https://www.asurascans.com/?s={searchtermPlus}"}},{"key":"Jellyfin","name":"Jellyfin","domain":"https://jellyfin.org/","database":null,"search":{"anime":"home","manga":null}},{"key":"An1me","name":"An1me","domain":"https://an1me.nl","database":null,"search":{"anime":"https://an1me.nl/?s={searchtermPlus}&post_type=wp-manga","manga":null}},{"key":"MangaJar","name":"MangaJar","domain":"https://mangajar.com","database":null,"search":{"anime":null,"manga":"https://mangajar.com/search?q={searchtermPlus}"}},{"key":"AnimeDao","name":"AnimeDao","domain":"https://animedao.to","database":null,"search":{"anime":"https://animedao.to/search/?search={searchtermPlus}","manga":null}},{"key":"Otakustv","name":"Otakustv","domain":"https://www.otakustv.com","database":null,"search":{"anime":"https://www.otakustv.com/buscador.php?buscador={searchterm}","manga":null}},{"key":"Komga","name":"Komga","domain":"https://komga.org","database":null,"search":{"anime":null,"manga":"home"}},{"key":"AnimeWho","name":"AnimeWho","domain":"https://animewho.com","database":null,"search":{"anime":"home","manga":null}},{"key":"AnimeSuge","name":"AnimeSuge","domain":"https://animesuge.to","database":null,"search":{"anime":"home","manga":null}},{"key":"Toonily","name":"Toonily","domain":"https://toonily.net","database":null,"search":{"anime":null,"manga":"https://toonily.net/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Fumetsu","name":"Fumetsu","domain":"https://fumetsu.pl","database":null,"search":{"anime":"home","manga":null}},{"key":"FrixySubs","name":"FrixySubs","domain":"https://frixysubs.pl","database":null,"search":{"anime":"home","manga":null}},{"key":"Guya","name":"Guya & Cubari","domain":"https://guya.moe","database":null,"search":{"anime":null,"manga":"home"}},{"key":"MangaHub","name":"MangaHub","domain":"https://mangahub.io","database":null,"search":{"anime":null,"manga":"https://mangahub.io/search?q={searchterm}"}},{"key":"ComicK","name":"ComicK","domain":"https://comick.app","database":"Comick","search":{"anime":null,"manga":"https://comick.app/search?q={searchterm}"}},{"key":"Japanread","name":"Japanread","domain":"https://www.japanread.cc/","database":null,"search":{"anime":null,"manga":"https://www.japanread.cc/manga-list?q={searchterm}"}},{"key":"Bentomanga","name":"Bentomanga","domain":"https://www.bentomanga.com","database":null,"search":{"anime":null,"manga":"https://www.bentomanga.com/manga_list?search={searchterm}"}},{"key":"MangaSushi","name":"MangaSushi","domain":"https://mangasushi.net","database":null,"search":{"anime":null,"manga":"https://mangasushi.net/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"HunlightScans","name":"HunlightScans","domain":"https://hunlight-scans.info/","database":null,"search":{"anime":null,"manga":"https://hunlight-scans.info/comics?query={searchtermPlus}"}},{"key":"TritiniaScans","name":"TritiniaScans","domain":"https://tritinia.com","database":null,"search":{"anime":null,"manga":"https://tritinia.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"ReadManhua","name":"ReadManhua","domain":"https://readmanhua.net","database":null,"search":{"anime":null,"manga":"https://readmanhua.net/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"FlameScans","name":"FlameScans","domain":"https://flamescans.org","database":null,"search":{"anime":null,"manga":"https://flamescans.org/?s={searchtermPlus}"}},{"key":"ImmortalUpdates","name":"ImmortalUpdates","domain":"https://immortalupdates.com","database":null,"search":{"anime":null,"manga":"https://immortalupdates.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Zoro","name":"Zoro","domain":"https://zoro.to","database":"Zoro","search":{"anime":"https://zoro.to/search?keyword={searchtermPlus}","manga":null}},{"key":"Funimation","name":"Funimation","domain":"https://www.funimation.com","database":"Funimation","search":{"anime":"https://www.funimation.com/search/?q={searchterm}","manga":null}},{"key":"Kitsune","name":"Kitsune","domain":"https://beta.kitsune.tv","database":null,"search":{"anime":"https://kitsune.tv/shows?q={searchterm}","manga":null}},{"key":"LHTranslation","name":"LHTranslation","domain":"https://lhtranslation.net","database":null,"search":{"anime":null,"manga":"https://lhtranslation.net/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"MangasOrigines","name":"MangasOrigines","domain":"https://mangas-origines.fr/","database":null,"search":{"anime":null,"manga":"https://mangas-origines.fr/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"BlueSolo","name":"BlueSolo","domain":"https://www.bluesolo.org","database":null,"search":{"anime":null,"manga":"home"}},{"key":"DisasterScans","name":"DisasterScans","domain":"https://disasterscans.com","database":null,"search":{"anime":null,"manga":"https://disasterscans.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"DynastyScans","name":"DynastyScans","domain":"https://dynasty-scans.com","database":null,"search":{"anime":null,"manga":"https://dynasty-scans.com/search?q={searchtermPlus}"}},{"key":"Aniworld","name":"Aniworld","domain":"https://aniworld.to","database":null,"search":{"anime":"https://aniworld.to/search?q={searchterm}","manga":null}},{"key":"BetterAnime","name":"BetterAnime","domain":"https://betteranime.net","database":null,"search":{"anime":"https://betteranime.net/pesquisa?titulo={searchtermPlus}","manga":null}},{"key":"BilibiliComics","name":"BilibiliComics","domain":"https://www.bilibilicomics.com","database":null,"search":{"anime":null,"manga":"https://www.bilibilicomics.com/search?keyword={searchterm( )[noLowercase]}"}},{"key":"MangaReader","name":"MangaReader","domain":"https://mangareader.to","database":"MangaReader","search":{"anime":null,"manga":"https://mangareader.to/search?keyword={searchtermPlus}"}},{"key":"AnimeOnsen","name":"AnimeOnsen","domain":"https://animeonsen.xyz","database":null,"search":{"anime":"https://www.animeonsen.xyz/search/{searchterm}","manga":null}},{"key":"Puray","name":"Puray","domain":"https://puray.moe","database":null,"search":{"anime":"home","manga":null}},{"key":"Animetoast","name":"Animetoast","domain":"https://www.animetoast.cc","database":null,"search":{"anime":"https://www.animetoast.cc/?s={searchterm}","manga":null}},{"key":"MuitoManga","name":"MuitoMang","domain":"https://muitomanga.com","database":null,"search":{"anime":null,"manga":"https://muitomanga.com/buscar?q={searchtermPlus}"}},{"key":"RealmScans","name":"RealmScans","domain":"https://realmscans.com","database":null,"search":{"anime":null,"manga":"https://realmscans.com/?s={searchtermPlus}"}},{"key":"LuminousScans","name":"LuminousScans","domain":"https://luminousscans.com","database":null,"search":{"anime":null,"manga":"https://luminousscans.com/?s={searchtermPlus}"}},{"key":"Animeworld","name":"Animeworld","domain":"https://www.animeworld.tv","database":null,"search":{"anime":"home","manga":null}},{"key":"MangaBuddy","name":"MangaBuddy","domain":"https://mangabuddy.com","database":null,"search":{"anime":null,"manga":"https://mangabuddy.com/search?q={searchtermPlus}"}},{"key":"Vostfree","name":"Vostfree","domain":"https://vostfree.cx","database":null,"search":{"anime":"https://vostfree.tv/index.php?do=search&subaction=search&story={searchterm}","manga":null}},{"key":"VoidScans","name":"VoidScans","domain":"https://void-scans.com","database":null,"search":{"anime":null,"manga":"https://void-scans.com/?s={searchtermPlus}"}},{"key":"ToonAnime","name":"ToonAnime","domain":"https://vvww.toonanime.cc","database":null,"search":{"anime":"https://vvww.toonanime.cc/?story={searchtermPlus}&do=search&subaction=search","manga":null}},{"key":"ADKami","name":"ADKami","domain":"https://www.adkami.com/","database":null,"search":{"anime":"https://www.adkami.com/video?search={searchtermPlus}","manga":null}},{"key":"Kaguya","name":"Kaguya","domain":"https://kaguya.app","database":null,"search":{"anime":"https://kaguya.app/browse?keyword={searchtermPlus}","manga":null}},{"key":"Hdrezka","name":"Hdrezka","domain":"https://hdrezka.ag","database":null,"search":{"anime":"https://hdrezka.ag/search/?do=search&subaction=search&q={searchterm}","manga":null}},{"key":"ADN","name":"ADN","domain":"https://animationdigitalnetwork.fr","database":null,"search":{"anime":"https://animationdigitalnetwork.fr/video?search={searchterm}","manga":null}},{"key":"Aniyan","name":"Aniyan","domain":"https://aniyan.net","database":"Aniyan","search":{"anime":"https://aniyan.net/?s={searchtermPlus}","manga":null}},{"key":"marin","name":"marin","domain":"https://marin.moe","database":"Marin","search":{"anime":"https://marin.moe/anime?search={searchterm}","manga":null}},{"key":"Isekaiscan","name":"Isekaiscan","domain":"https://isekaiscan.com","database":null,"search":{"anime":null,"manga":"https://isekaiscan.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Docchi","name":"Docchi","domain":"https://docchi.pl","database":null,"search":{"anime":"home","manga":null}},{"key":"FRAnime","name":"FRAnime","domain":"https://franime.fr","database":null,"search":{"anime":"https://franime.fr/recherche?search={searchtermPlus}","manga":null}},{"key":"FMTeam","name":"FMTeam","domain":"https://fmteam.fr/","database":null,"search":{"anime":null,"manga":"home"}},{"key":"Animelon","name":"Animelon","domain":"https://www.animelon.com","database":null,"search":{"anime":"https://www.animelon.com/search?searchTerm={searchTerm}","manga":null}},{"key":"AnimeSama","name":"AnimeSama","domain":"https://anime-sama.fr","database":null,"search":{"anime":"https://anime-sama.fr/catalogue/","manga":null}},{"key":"MangaFire","name":"MangaFire","domain":"https://mangafire.to","database":"MangaFire","search":{"anime":null,"manga":"https://mangafire.to/filter?keyword={searchtermPlus}"}},{"key":"Pactedanime","name":"Pactedanime","domain":"https://pactedanime.com","database":null,"search":{"anime":"https://pactedanime.com/?s={searchtermPlus}","manga":null}},{"key":"projectsuki","name":"projectsuki","domain":"https://projectsuki.com","database":null,"search":{"anime":null,"manga":"https://projectsuki.com/search?q={searchtermPlus}"}},{"key":"AnimeOnegai","name":"AnimeOnegai","domain":"https://www.animeonegai.com","database":null,"search":{"anime":"https://www.animeonegai.com/es/search?q={searchterm}","manga":null}},{"key":"FirstKiss","name":"1stKissManga","domain":"https://1stkissmanga.me","database":null,"search":{"anime":null,"manga":"https://1stkissmanga.me/?s={searchtermPlus}"}},{"key":"AnimeKO","name":"AnimeKO","domain":"https://animeko.co","database":null,"search":{"anime":"https://animeko.co/anime?search={searchtermPlus}","manga":null}},{"key":"Animeflix","name":"Animeflix","domain":"https://animeflix.live","database":null,"search":{"anime":"https://animeflix.live/search/{searchterm}","manga":null}}]')}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={id:a,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(3577),t=n(2262);function a(e,t,n,a){let i;try{i=a?e(...a):e()}catch(e){s(e,t,n)}return i}function i(t,n,r,o){if((0,e.mf)(t)){const i=a(t,n,r,o);return i&&(0,e.tI)(i)&&i.catch((e=>{s(e,n,r)})),i}const l=[];for(let e=0;e<t.length;e++)l.push(i(t[e],n,r,o));return l}function s(e,t,n,i=!0){if(t&&t.vnode,t){let i=t.parent;const s=t.proxy,r=n;for(;i;){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,s,r))return;i=i.parent}const o=t.appContext.config.errorHandler;if(o)return void a(o,null,10,[e,s,r])}!function(e,t,n,a=!0){console.error(e)}(e,0,0,i)}let r=!1,o=!1;const l=[];let c=0;const u=[];let d=null,m=0;const h=Promise.resolve();let p=null;function f(e){const t=p||h;return e?t.then(this?e.bind(this):e):t}function g(e){l.length&&l.includes(e,r&&e.allowRecurse?c+1:c)||(null==e.id?l.push(e):l.splice(function(e){let t=c+1,n=l.length;for(;t<n;){const a=t+n>>>1;_(l[a])<e?t=a+1:n=a}return t}(e.id),0,e),y())}function y(){r||o||(o=!0,p=h.then(k))}function v(e,t=(r?c+1:0)){for(;t<l.length;t++){const e=l[t];e&&e.pre&&(l.splice(t,1),t--,e())}}function b(e){if(u.length){const e=[...new Set(u)];if(u.length=0,d)return void d.push(...e);for(d=e,d.sort(((e,t)=>_(e)-_(t))),m=0;m<d.length;m++)d[m]();d=null,m=0}}const _=e=>null==e.id?1/0:e.id,w=(e,t)=>{const n=_(e)-_(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function k(t){o=!1,r=!0,l.sort(w),e.dG;try{for(c=0;c<l.length;c++){const e=l[c];e&&!1!==e.active&&a(e,null,14)}}finally{c=0,l.length=0,b(),r=!1,p=null,(l.length||u.length)&&k(t)}}function x(t,n,...a){if(t.isUnmounted)return;const s=t.vnode.props||e.kT;let r=a;const o=n.startsWith("update:"),l=o&&n.slice(7);if(l&&l in s){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:n,trim:i}=s[t]||e.kT;i&&(r=a.map((t=>(0,e.HD)(t)?t.trim():t))),n&&(r=a.map(e.h5))}let c,u=s[c=(0,e.hR)(n)]||s[c=(0,e.hR)((0,e._A)(n))];!u&&o&&(u=s[c=(0,e.hR)((0,e.rs)(n))]),u&&i(u,t,6,r);const d=s[c+"Once"];if(d){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,i(d,t,6,r)}}function S(t,n,a=!1){const i=n.emitsCache,s=i.get(t);if(void 0!==s)return s;const r=t.emits;let o={},l=!1;if(!(0,e.mf)(t)){const i=t=>{const a=S(t,n,!0);a&&(l=!0,(0,e.l7)(o,a))};!a&&n.mixins.length&&n.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return r||l?((0,e.kJ)(r)?r.forEach((e=>o[e]=null)):(0,e.l7)(o,r),(0,e.Kn)(t)&&i.set(t,o),o):((0,e.Kn)(t)&&i.set(t,null),null)}function E(t,n){return!(!t||!(0,e.F7)(n))&&(n=n.slice(2).replace(/Once$/,""),(0,e.RI)(t,n[0].toLowerCase()+n.slice(1))||(0,e.RI)(t,(0,e.rs)(n))||(0,e.RI)(t,n))}let A=null,T=null;function C(e){const t=A;return A=e,T=e&&e.type.__scopeId||null,t}function I(e,t=A,n){if(!t)return e;if(e._n)return e;const a=(...n)=>{a._d&&bt(-1);const i=C(t);let s;try{s=e(...n)}finally{C(i),a._d&&bt(1)}return s};return a._n=!0,a._c=!0,a._d=!0,a}function L(t){const{type:n,vnode:a,proxy:i,withProxy:r,props:o,propsOptions:[l],slots:c,attrs:u,emit:d,render:m,renderCache:h,data:p,setupState:f,ctx:g,inheritAttrs:y}=t;let v,b;const _=C(t);try{if(4&a.shapeFlag){const e=r||i;v=Mt(m.call(e,e,h,o,f,p,g)),b=u}else{const e=n;v=Mt(e.length>1?e(o,{attrs:u,slots:c,emit:d}):e(o,null)),b=n.props?u:P(u)}}catch(e){ft.length=0,s(e,t,1),v=It(ht)}let w=v;if(b&&!1!==y){const t=Object.keys(b),{shapeFlag:n}=w;t.length&&7&n&&(l&&t.some(e.tR)&&(b=M(b,l)),w=$t(w,b))}return a.dirs&&(w=$t(w),w.dirs=w.dirs?w.dirs.concat(a.dirs):a.dirs),a.transition&&(w.transition=a.transition),v=w,C(_),v}const P=t=>{let n;for(const a in t)("class"===a||"style"===a||(0,e.F7)(a))&&((n||(n={}))[a]=t[a]);return n},M=(t,n)=>{const a={};for(const i in t)(0,e.tR)(i)&&i.slice(9)in n||(a[i]=t[i]);return a};function N(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let i=0;i<a.length;i++){const s=a[i];if(t[s]!==e[s]&&!E(n,s))return!0}return!1}const O={};function R(e,t,n){return U(e,t,n)}function U(n,s,{immediate:r,deep:o,flush:l,onTrack:c,onTrigger:u}=e.kT){var d;const m=(0,t.nZ)()===(null==(d=jt)?void 0:d.scope)?jt:null;let h,p,f=!1,y=!1;if((0,t.dq)(n)?(h=()=>n.value,f=(0,t.yT)(n)):(0,t.PG)(n)?(h=()=>n,o=!0):(0,e.kJ)(n)?(y=!0,f=n.some((e=>(0,t.PG)(e)||(0,t.yT)(e))),h=()=>n.map((n=>(0,t.dq)(n)?n.value:(0,t.PG)(n)?F(n):(0,e.mf)(n)?a(n,m,2):void 0))):h=(0,e.mf)(n)?s?()=>a(n,m,2):()=>{if(!m||!m.isUnmounted)return p&&p(),i(n,m,3,[b])}:e.dG,s&&o){const e=h;h=()=>F(e())}let v,b=e=>{p=x.onStop=()=>{a(e,m,4)}};if(Gt){if(b=e.dG,s?r&&i(s,m,3,[h(),y?[]:void 0,b]):h(),"sync"!==l)return e.dG;{const e=tn();v=e.__watcherHandles||(e.__watcherHandles=[])}}let _=y?new Array(n.length).fill(O):O;const w=()=>{if(x.active)if(s){const t=x.run();(o||f||(y?t.some(((t,n)=>(0,e.aU)(t,_[n]))):(0,e.aU)(t,_)))&&(p&&p(),i(s,m,3,[t,_===O?void 0:y&&_[0]===O?[]:_,b]),_=t)}else x.run()};let k;w.allowRecurse=!!s,"sync"===l?k=w:"post"===l?k=()=>ot(w,m&&m.suspense):(w.pre=!0,m&&(w.id=m.uid),k=()=>g(w));const x=new t.qq(h,k);s?r?w():_=x.run():"post"===l?ot(x.run.bind(x),m&&m.suspense):x.run();const S=()=>{x.stop(),m&&m.scope&&(0,e.Od)(m.scope.effects,x)};return v&&v.push(S),S}function D(t,n,a){const i=this.proxy,s=(0,e.HD)(t)?t.includes(".")?j(i,t):()=>i[t]:t.bind(i,i);let r;(0,e.mf)(n)?r=n:(r=n.handler,a=n);const o=jt;Ht(this);const l=U(s,r.bind(i),a);return o?Ht(o):zt(),l}function j(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function F(n,a){if(!(0,e.Kn)(n)||n.__v_skip)return n;if((a=a||new Set).has(n))return n;if(a.add(n),(0,t.dq)(n))F(n.value,a);else if((0,e.kJ)(n))for(let e=0;e<n.length;e++)F(n[e],a);else if((0,e.DM)(n)||(0,e._N)(n))n.forEach((e=>{F(e,a)}));else if((0,e.PO)(n))for(const e in n)F(n[e],a);return n}function V(t,n){const a=A;if(null===a)return t;const i=Xt(a)||a.proxy,s=t.dirs||(t.dirs=[]);for(let t=0;t<n.length;t++){let[a,r,o,l=e.kT]=n[t];a&&((0,e.mf)(a)&&(a={mounted:a,updated:a}),a.deep&&F(r),s.push({dir:a,instance:i,value:r,oldValue:void 0,arg:o,modifiers:l}))}return t}function W(e,n,a,s){const r=e.dirs,o=n&&n.dirs;for(let l=0;l<r.length;l++){const c=r[l];o&&(c.oldValue=o[l].value);let u=c.dir[s];u&&((0,t.Jd)(),i(u,a,8,[e.el,c,e,n]),(0,t.lk)())}}const B=[Function,Array],H={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:B,onEnter:B,onAfterEnter:B,onEnterCancelled:B,onBeforeLeave:B,onLeave:B,onAfterLeave:B,onLeaveCancelled:B,onBeforeAppear:B,onAppear:B,onAfterAppear:B,onAppearCancelled:B},z={name:"BaseTransition",props:H,setup(e,{slots:n}){const a=Ft(),i=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return le((()=>{e.isMounted=!0})),de((()=>{e.isUnmounting=!0})),e}();let s;return()=>{const r=n.default&&X(n.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){let e=!1;for(const t of r)if(t.type!==ht){o=t,e=!0;break}}const l=(0,t.IU)(e),{mode:c}=l;if(i.isLeaving)return G(o);const u=Y(o);if(!u)return G(o);const d=J(u,l,i,a);Z(u,d);const m=a.subTree,h=m&&Y(m);let p=!1;const{getTransitionKey:f}=u.type;if(f){const e=f();void 0===s?s=e:e!==s&&(s=e,p=!0)}if(h&&h.type!==ht&&(!St(u,h)||p)){const e=J(h,l,i,a);if(Z(h,e),"out-in"===c)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,!1!==a.update.active&&a.update()},G(o);"in-out"===c&&u.type!==ht&&(e.delayLeave=(e,t,n)=>{q(i,h)[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return o}}},K=z;function q(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function J(t,n,a,s){const{appear:r,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:h,onLeave:p,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:y,onAppear:v,onAfterAppear:b,onAppearCancelled:_}=n,w=String(t.key),k=q(a,t),x=(e,t)=>{e&&i(e,s,9,t)},S=(t,n)=>{const a=n[1];x(t,n),(0,e.kJ)(t)?t.every((e=>e.length<=1))&&a():t.length<=1&&a()},E={mode:o,persisted:l,beforeEnter(e){let n=c;if(!a.isMounted){if(!r)return;n=y||c}e._leaveCb&&e._leaveCb(!0);const i=k[w];i&&St(t,i)&&i.el._leaveCb&&i.el._leaveCb(),x(n,[e])},enter(e){let t=u,n=d,i=m;if(!a.isMounted){if(!r)return;t=v||u,n=b||d,i=_||m}let s=!1;const o=e._enterCb=t=>{s||(s=!0,x(t?i:n,[e]),E.delayedLeave&&E.delayedLeave(),e._enterCb=void 0)};t?S(t,[e,o]):o()},leave(e,n){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),a.isUnmounting)return n();x(h,[e]);let s=!1;const r=e._leaveCb=a=>{s||(s=!0,n(),x(a?g:f,[e]),e._leaveCb=void 0,k[i]===t&&delete k[i])};k[i]=t,p?S(p,[e,r]):r()},clone:e=>J(e,n,a,s)};return E}function G(e){if(ee(e))return(e=$t(e)).children=null,e}function Y(e){return ee(e)?e.children?e.children[0]:void 0:e}function Z(e,t){6&e.shapeFlag&&e.component?Z(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function X(e,t=!1,n){let a=[],i=0;for(let s=0;s<e.length;s++){let r=e[s];const o=null==n?r.key:String(n)+String(null!=r.key?r.key:s);r.type===dt?(128&r.patchFlag&&i++,a=a.concat(X(r.children,t,o))):(t||r.type!==ht)&&a.push(null!=o?$t(r,{key:o}):r)}if(i>1)for(let e=0;e<a.length;e++)a[e].patchFlag=-2;return a}const Q=e=>!!e.type.__asyncLoader,ee=e=>e.type.__isKeepAlive;function te(e,t){ae(e,"a",t)}function ne(e,t){ae(e,"da",t)}function ae(e,t,n=jt){const a=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(se(t,a,n),n){let e=n.parent;for(;e&&e.parent;)ee(e.parent.vnode)&&ie(a,t,n,e),e=e.parent}}function ie(t,n,a,i){const s=se(n,t,i,!0);me((()=>{(0,e.Od)(i[n],s)}),a)}function se(e,n,a=jt,s=!1){if(a){const r=a[e]||(a[e]=[]),o=n.__weh||(n.__weh=(...s)=>{if(a.isUnmounted)return;(0,t.Jd)(),Ht(a);const r=i(n,a,e,s);return zt(),(0,t.lk)(),r});return s?r.unshift(o):r.push(o),o}}RegExp,RegExp;const re=e=>(t,n=jt)=>(!Gt||"sp"===e)&&se(e,((...e)=>t(...e)),n),oe=re("bm"),le=re("m"),ce=re("bu"),ue=re("u"),de=re("bum"),me=re("um"),he=re("sp"),pe=re("rtg"),fe=re("rtc");function ge(e,t=jt){se("ec",e,t)}const ye="components";function ve(e,t){return _e(ye,e,!0,t)||e}const be=Symbol.for("v-ndc");function _e(t,n,a=!0,i=!1){const s=A||jt;if(s){const a=s.type;if(t===ye){const t=function(t,n=!0){return(0,e.mf)(t)?t.displayName||t.name:t.name||n&&t.__name}(a,!1);if(t&&(t===n||t===(0,e._A)(n)||t===(0,e.kC)((0,e._A)(n))))return a}const r=we(s[t]||a[t],n)||we(s.appContext[t],n);return!r&&i?a:r}}function we(t,n){return t&&(t[n]||t[(0,e._A)(n)]||t[(0,e.kC)((0,e._A)(n))])}function ke(t,n,a,i){let s;const r=a&&a[i];if((0,e.kJ)(t)||(0,e.HD)(t)){s=new Array(t.length);for(let e=0,a=t.length;e<a;e++)s[e]=n(t[e],e,void 0,r&&r[e])}else if("number"==typeof t){s=new Array(t);for(let e=0;e<t;e++)s[e]=n(e+1,e,void 0,r&&r[e])}else if((0,e.Kn)(t))if(t[Symbol.iterator])s=Array.from(t,((e,t)=>n(e,t,void 0,r&&r[t])));else{const e=Object.keys(t);s=new Array(e.length);for(let a=0,i=e.length;a<i;a++){const i=e[a];s[a]=n(t[i],i,a,r&&r[a])}}else s=[];return a&&(a[i]=s),s}function xe(e,t,n={},a,i){if(A.isCE||A.parent&&Q(A.parent)&&A.parent.isCE)return"default"!==t&&(n.name=t),It("slot",n,a&&a());let s=e[t];s&&s._c&&(s._d=!1),yt();const r=s&&Se(s(n)),o=kt(dt,{key:n.key||r&&r.key||`_${t}`},r||(a?a():[]),r&&1===e._?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Se(e){return e.some((e=>!xt(e)||e.type!==ht&&!(e.type===dt&&!Se(e.children))))?e:null}const Ee=e=>e?Kt(e)?Xt(e)||e.proxy:Ee(e.parent):null,Ae=(0,e.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ee(e.parent),$root:e=>Ee(e.root),$emit:e=>e.emit,$options:e=>Me(e),$forceUpdate:e=>e.f||(e.f=()=>g(e.update)),$nextTick:e=>e.n||(e.n=f.bind(e.proxy)),$watch:e=>D.bind(e)}),Te=(t,n)=>t!==e.kT&&!t.__isScriptSetup&&(0,e.RI)(t,n),Ce={get({_:n},a){const{ctx:i,setupState:s,data:r,props:o,accessCache:l,type:c,appContext:u}=n;let d;if("$"!==a[0]){const t=l[a];if(void 0!==t)switch(t){case 1:return s[a];case 2:return r[a];case 4:return i[a];case 3:return o[a]}else{if(Te(s,a))return l[a]=1,s[a];if(r!==e.kT&&(0,e.RI)(r,a))return l[a]=2,r[a];if((d=n.propsOptions[0])&&(0,e.RI)(d,a))return l[a]=3,o[a];if(i!==e.kT&&(0,e.RI)(i,a))return l[a]=4,i[a];$e&&(l[a]=0)}}const m=Ae[a];let h,p;return m?("$attrs"===a&&(0,t.j)(n,"get",a),m(n)):(h=c.__cssModules)&&(h=h[a])?h:i!==e.kT&&(0,e.RI)(i,a)?(l[a]=4,i[a]):(p=u.config.globalProperties,(0,e.RI)(p,a)?p[a]:void 0)},set({_:t},n,a){const{data:i,setupState:s,ctx:r}=t;return Te(s,n)?(s[n]=a,!0):i!==e.kT&&(0,e.RI)(i,n)?(i[n]=a,!0):!((0,e.RI)(t.props,n)||"$"===n[0]&&n.slice(1)in t||(r[n]=a,0))},has({_:{data:t,setupState:n,accessCache:a,ctx:i,appContext:s,propsOptions:r}},o){let l;return!!a[o]||t!==e.kT&&(0,e.RI)(t,o)||Te(n,o)||(l=r[0])&&(0,e.RI)(l,o)||(0,e.RI)(i,o)||(0,e.RI)(Ae,o)||(0,e.RI)(s.config.globalProperties,o)},defineProperty(t,n,a){return null!=a.get?t._.accessCache[n]=0:(0,e.RI)(a,"value")&&this.set(t,n,a.value,null),Reflect.defineProperty(t,n,a)}};function Ie(t){return(0,e.kJ)(t)?t.reduce(((e,t)=>(e[t]=null,e)),{}):t}let $e=!0;function Le(t,n,a){i((0,e.kJ)(t)?t.map((e=>e.bind(n.proxy))):t.bind(n.proxy),n,a)}function Pe(t,n,a,i){const s=i.includes(".")?j(a,i):()=>a[i];if((0,e.HD)(t)){const a=n[t];(0,e.mf)(a)&&R(s,a)}else if((0,e.mf)(t))R(s,t.bind(a));else if((0,e.Kn)(t))if((0,e.kJ)(t))t.forEach((e=>Pe(e,n,a,i)));else{const i=(0,e.mf)(t.handler)?t.handler.bind(a):n[t.handler];(0,e.mf)(i)&&R(s,i,t)}}function Me(t){const n=t.type,{mixins:a,extends:i}=n,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(n);let c;return l?c=l:s.length||a||i?(c={},s.length&&s.forEach((e=>Ne(c,e,o,!0))),Ne(c,n,o)):c=n,(0,e.Kn)(n)&&r.set(n,c),c}function Ne(e,t,n,a=!1){const{mixins:i,extends:s}=t;s&&Ne(e,s,n,!0),i&&i.forEach((t=>Ne(e,t,n,!0)));for(const i in t)if(a&&"expose"===i);else{const a=Oe[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Oe={data:Re,props:Fe,emits:Fe,methods:je,computed:je,beforeCreate:De,created:De,beforeMount:De,mounted:De,beforeUpdate:De,updated:De,beforeDestroy:De,beforeUnmount:De,destroyed:De,unmounted:De,activated:De,deactivated:De,errorCaptured:De,serverPrefetch:De,components:je,directives:je,watch:function(t,n){if(!t)return n;if(!n)return t;const a=(0,e.l7)(Object.create(null),t);for(const e in n)a[e]=De(t[e],n[e]);return a},provide:Re,inject:function(e,t){return je(Ue(e),Ue(t))}};function Re(t,n){return n?t?function(){return(0,e.l7)((0,e.mf)(t)?t.call(this,this):t,(0,e.mf)(n)?n.call(this,this):n)}:n:t}function Ue(t){if((0,e.kJ)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function De(e,t){return e?[...new Set([].concat(e,t))]:t}function je(t,n){return t?(0,e.l7)(Object.create(null),t,n):n}function Fe(t,n){return t?(0,e.kJ)(t)&&(0,e.kJ)(n)?[...new Set([...t,...n])]:(0,e.l7)(Object.create(null),Ie(t),Ie(null!=n?n:{})):n}function Ve(){return{app:null,config:{isNativeTag:e.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let We=0;function Be(t,n){return function(a,i=null){(0,e.mf)(a)||(a=(0,e.l7)({},a)),null==i||(0,e.Kn)(i)||(i=null);const s=Ve(),r=new Set;let o=!1;const l=s.app={_uid:We++,_component:a,_props:i,_container:null,_context:s,_instance:null,version:nn,get config(){return s.config},set config(e){},use:(t,...n)=>(r.has(t)||(t&&(0,e.mf)(t.install)?(r.add(t),t.install(l,...n)):(0,e.mf)(t)&&(r.add(t),t(l,...n))),l),mixin:e=>(s.mixins.includes(e)||s.mixins.push(e),l),component:(e,t)=>t?(s.components[e]=t,l):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,l):s.directives[e],mount(e,r,c){if(!o){const u=It(a,i);return u.appContext=s,r&&n?n(u,e):t(u,e,c),o=!0,l._container=e,e.__vue_app__=l,Xt(u.component)||u.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,l),runWithContext(e){He=l;try{return e()}finally{He=null}}};return l}}let He=null;function ze(t,n,a=!1){const i=jt||A;if(i||He){const s=i?null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:He._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return a&&(0,e.mf)(n)?n.call(i&&i.proxy):n}}function Ke(n,a,i,s){const[r,o]=n.propsOptions;let l,c=!1;if(a)for(let t in a){if((0,e.Gg)(t))continue;const u=a[t];let d;r&&(0,e.RI)(r,d=(0,e._A)(t))?o&&o.includes(d)?(l||(l={}))[d]=u:i[d]=u:E(n.emitsOptions,t)||t in s&&u===s[t]||(s[t]=u,c=!0)}if(o){const a=(0,t.IU)(i),s=l||e.kT;for(let t=0;t<o.length;t++){const l=o[t];i[l]=qe(r,a,l,s[l],n,!(0,e.RI)(s,l))}}return c}function qe(t,n,a,i,s,r){const o=t[a];if(null!=o){const t=(0,e.RI)(o,"default");if(t&&void 0===i){const t=o.default;if(o.type!==Function&&!o.skipFactory&&(0,e.mf)(t)){const{propsDefaults:e}=s;a in e?i=e[a]:(Ht(s),i=e[a]=t.call(null,n),zt())}else i=t}o[0]&&(r&&!t?i=!1:!o[1]||""!==i&&i!==(0,e.rs)(a)||(i=!0))}return i}function Je(t,n,a=!1){const i=n.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},l=[];let c=!1;if(!(0,e.mf)(t)){const i=t=>{c=!0;const[a,i]=Je(t,n,!0);(0,e.l7)(o,a),i&&l.push(...i)};!a&&n.mixins.length&&n.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!r&&!c)return(0,e.Kn)(t)&&i.set(t,e.Z6),e.Z6;if((0,e.kJ)(r))for(let t=0;t<r.length;t++){const n=(0,e._A)(r[t]);Ge(n)&&(o[n]=e.kT)}else if(r)for(const t in r){const n=(0,e._A)(t);if(Ge(n)){const a=r[t],i=o[n]=(0,e.kJ)(a)||(0,e.mf)(a)?{type:a}:(0,e.l7)({},a);if(i){const t=Xe(Boolean,i.type),a=Xe(String,i.type);i[0]=t>-1,i[1]=a<0||t<a,(t>-1||(0,e.RI)(i,"default"))&&l.push(n)}}}const u=[o,l];return(0,e.Kn)(t)&&i.set(t,u),u}function Ge(e){return"$"!==e[0]}function Ye(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function Ze(e,t){return Ye(e)===Ye(t)}function Xe(t,n){return(0,e.kJ)(n)?n.findIndex((e=>Ze(e,t))):(0,e.mf)(n)&&Ze(n,t)?0:-1}const Qe=e=>"_"===e[0]||"$stable"===e,et=t=>(0,e.kJ)(t)?t.map(Mt):[Mt(t)],tt=(e,t,n)=>{if(t._n)return t;const a=I(((...e)=>et(t(...e))),n);return a._c=!1,a},nt=(t,n,a)=>{const i=t._ctx;for(const a in t){if(Qe(a))continue;const s=t[a];if((0,e.mf)(s))n[a]=tt(0,s,i);else if(null!=s){const e=et(s);n[a]=()=>e}}},at=(e,t)=>{const n=et(t);e.slots.default=()=>n},it=(n,a)=>{if(32&n.vnode.shapeFlag){const i=a._;i?(n.slots=(0,t.IU)(a),(0,e.Nj)(a,"_",i)):nt(a,n.slots={})}else n.slots={},a&&at(n,a);(0,e.Nj)(n.slots,Et,1)},st=(t,n,a)=>{const{vnode:i,slots:s}=t;let r=!0,o=e.kT;if(32&i.shapeFlag){const t=n._;t?a&&1===t?r=!1:((0,e.l7)(s,n),a||1!==t||delete s._):(r=!n.$stable,nt(n,s)),o=n}else n&&(at(t,n),o={default:1});if(r)for(const e in s)Qe(e)||e in o||delete s[e]};function rt(n,i,s,r,o=!1){if((0,e.kJ)(n))return void n.forEach(((t,n)=>rt(t,i&&((0,e.kJ)(i)?i[n]:i),s,r,o)));if(Q(r)&&!o)return;const l=4&r.shapeFlag?Xt(r.component)||r.component.proxy:r.el,c=o?null:l,{i:u,r:d}=n,m=i&&i.r,h=u.refs===e.kT?u.refs={}:u.refs,p=u.setupState;if(null!=m&&m!==d&&((0,e.HD)(m)?(h[m]=null,(0,e.RI)(p,m)&&(p[m]=null)):(0,t.dq)(m)&&(m.value=null)),(0,e.mf)(d))a(d,u,12,[c,h]);else{const a=(0,e.HD)(d),i=(0,t.dq)(d);if(a||i){const t=()=>{if(n.f){const t=a?(0,e.RI)(p,d)?p[d]:h[d]:d.value;o?(0,e.kJ)(t)&&(0,e.Od)(t,l):(0,e.kJ)(t)?t.includes(l)||t.push(l):a?(h[d]=[l],(0,e.RI)(p,d)&&(p[d]=h[d])):(d.value=[l],n.k&&(h[n.k]=d.value))}else a?(h[d]=c,(0,e.RI)(p,d)&&(p[d]=c)):i&&(d.value=c,n.k&&(h[n.k]=c))};c?(t.id=-1,ot(t,s)):t()}}}const ot=function(t,n){var a;n&&n.pendingBranch?(0,e.kJ)(t)?n.effects.push(...t):n.effects.push(t):(a=t,(0,e.kJ)(a)?u.push(...a):d&&d.includes(a,a.allowRecurse?m+1:m)||u.push(a),y())};function lt(n,i){(0,e.E9)().__VUE__=!0;const{insert:r,remove:o,patchProp:u,createElement:d,createText:m,createComment:h,setText:p,setElementText:f,parentNode:y,nextSibling:_,setScopeId:w=e.dG,insertStaticContent:k}=n,A=(e,t,n,a=null,i=null,s=null,r=!1,o=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!St(e,t)&&(a=ae(e),Y(e,i,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case mt:T(e,t,n,a);break;case ht:C(e,t,n,a);break;case pt:null==e&&I(t,n,a,r);break;case dt:j(e,t,n,a,i,s,r,o,l);break;default:1&d?$(e,t,n,a,i,s,r,o,l):6&d?F(e,t,n,a,i,s,r,o,l):(64&d||128&d)&&c.process(e,t,n,a,i,s,r,o,l,se)}null!=u&&i&&rt(u,e&&e.ref,s,t||e,!t)},T=(e,t,n,a)=>{if(null==e)r(t.el=m(t.children),n,a);else{const n=t.el=e.el;t.children!==e.children&&p(n,t.children)}},C=(e,t,n,a)=>{null==e?r(t.el=h(t.children||""),n,a):t.el=e.el},I=(e,t,n,a)=>{[e.el,e.anchor]=k(e.children,t,n,a,e.el,e.anchor)},$=(e,t,n,a,i,s,r,o,l)=>{r=r||"svg"===t.type,null==e?P(t,n,a,i,s,r,o,l):R(e,t,i,s,r,o,l)},P=(t,n,a,i,s,o,l,c)=>{let m,h;const{type:p,props:g,shapeFlag:y,transition:v,dirs:b}=t;if(m=t.el=d(t.type,o,g&&g.is,g),8&y?f(m,t.children):16&y&&O(t.children,m,null,i,s,o&&"foreignObject"!==p,l,c),b&&W(t,null,i,"created"),M(m,t,t.scopeId,l,i),g){for(const n in g)"value"===n||(0,e.Gg)(n)||u(m,n,null,g[n],o,t.children,i,s,ne);"value"in g&&u(m,"value",null,g.value),(h=g.onVnodeBeforeMount)&&Rt(h,i,t)}b&&W(t,null,i,"beforeMount");const _=(!s||s&&!s.pendingBranch)&&v&&!v.persisted;_&&v.beforeEnter(m),r(m,n,a),((h=g&&g.onVnodeMounted)||_||b)&&ot((()=>{h&&Rt(h,i,t),_&&v.enter(m),b&&W(t,null,i,"mounted")}),s)},M=(e,t,n,a,i)=>{if(n&&w(e,n),a)for(let t=0;t<a.length;t++)w(e,a[t]);if(i&&t===i.subTree){const t=i.vnode;M(e,t,t.scopeId,t.slotScopeIds,i.parent)}},O=(e,t,n,a,i,s,r,o,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=o?Nt(e[c]):Mt(e[c]);A(null,l,t,n,a,i,s,r,o)}},R=(t,n,a,i,s,r,o)=>{const l=n.el=t.el;let{patchFlag:c,dynamicChildren:d,dirs:m}=n;c|=16&t.patchFlag;const h=t.props||e.kT,p=n.props||e.kT;let g;a&&ct(a,!1),(g=p.onVnodeBeforeUpdate)&&Rt(g,a,n,t),m&&W(n,t,a,"beforeUpdate"),a&&ct(a,!0);const y=s&&"foreignObject"!==n.type;if(d?U(t.dynamicChildren,d,l,a,i,y,r):o||K(t,n,l,null,a,i,y,r,!1),c>0){if(16&c)D(l,n,h,p,a,i,s);else if(2&c&&h.class!==p.class&&u(l,"class",null,p.class,s),4&c&&u(l,"style",h.style,p.style,s),8&c){const e=n.dynamicProps;for(let n=0;n<e.length;n++){const r=e[n],o=h[r],c=p[r];c===o&&"value"!==r||u(l,r,o,c,s,t.children,a,i,ne)}}1&c&&t.children!==n.children&&f(l,n.children)}else o||null!=d||D(l,n,h,p,a,i,s);((g=p.onVnodeUpdated)||m)&&ot((()=>{g&&Rt(g,a,n,t),m&&W(n,t,a,"updated")}),i)},U=(e,t,n,a,i,s,r)=>{for(let o=0;o<t.length;o++){const l=e[o],c=t[o],u=l.el&&(l.type===dt||!St(l,c)||70&l.shapeFlag)?y(l.el):n;A(l,c,u,null,a,i,s,r,!0)}},D=(t,n,a,i,s,r,o)=>{if(a!==i){if(a!==e.kT)for(const l in a)(0,e.Gg)(l)||l in i||u(t,l,a[l],null,o,n.children,s,r,ne);for(const l in i){if((0,e.Gg)(l))continue;const c=i[l],d=a[l];c!==d&&"value"!==l&&u(t,l,d,c,o,n.children,s,r,ne)}"value"in i&&u(t,"value",a.value,i.value)}},j=(e,t,n,a,i,s,o,l,c)=>{const u=t.el=e?e.el:m(""),d=t.anchor=e?e.anchor:m("");let{patchFlag:h,dynamicChildren:p,slotScopeIds:f}=t;f&&(l=l?l.concat(f):f),null==e?(r(u,n,a),r(d,n,a),O(t.children,n,d,i,s,o,l,c)):h>0&&64&h&&p&&e.dynamicChildren?(U(e.dynamicChildren,p,n,i,s,o,l),(null!=t.key||i&&t===i.subTree)&&ut(e,t,!0)):K(e,t,n,d,i,s,o,l,c)},F=(e,t,n,a,i,s,r,o,l)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?i.ctx.activate(t,n,a,r,l):V(t,n,a,i,s,r,l):B(e,t,l)},V=(n,i,r,o,l,c,u)=>{const d=n.component=function(n,a,i){const s=n.type,r=(a?a.appContext:n.appContext)||Ut,o={uid:Dt++,vnode:n,type:s,parent:a,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new t.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Je(s,r),emitsOptions:S(s,r),emit:null,emitted:null,propsDefaults:e.kT,inheritAttrs:s.inheritAttrs,ctx:e.kT,data:e.kT,props:e.kT,attrs:e.kT,slots:e.kT,refs:e.kT,setupState:e.kT,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=a?a.root:o,o.emit=x.bind(null,o),n.ce&&n.ce(o),o}(n,o,l);if(ee(n)&&(d.ctx.renderer=se),function(n,i=!1){Gt=i;const{props:r,children:o}=n.vnode,l=Kt(n);!function(n,a,i,s=!1){const r={},o={};(0,e.Nj)(o,Et,1),n.propsDefaults=Object.create(null),Ke(n,a,r,o);for(const e in n.propsOptions[0])e in r||(r[e]=void 0);i?n.props=s?r:(0,t.Um)(r):n.type.props?n.props=r:n.props=o,n.attrs=o}(n,r,l,i),it(n,o);const c=l?function(n,i){const r=n.type;n.accessCache=Object.create(null),n.proxy=(0,t.Xl)(new Proxy(n.ctx,Ce));const{setup:o}=r;if(o){const r=n.setupContext=o.length>1?function(e){const n=t=>{e.exposed=t||{}};return{get attrs(){return function(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get:(n,a)=>((0,t.j)(e,"get","$attrs"),n[a])}))}(e)},slots:e.slots,emit:e.emit,expose:n}}(n):null;Ht(n),(0,t.Jd)();const l=a(o,n,0,[n.props,r]);if((0,t.lk)(),zt(),(0,e.tI)(l)){if(l.then(zt,zt),i)return l.then((e=>{Yt(n,e,i)})).catch((e=>{s(e,n,0)}));n.asyncDep=l}else Yt(n,l,i)}else Zt(n,i)}(n,i):void 0;Gt=!1}(d),d.asyncDep){if(l&&l.registerDep(d,H),!n.el){const e=d.subTree=It(ht);C(null,e,i,r)}}else H(d,n,i,r,l,c,u)},B=(e,t,n)=>{const a=t.component=e.component;if(function(e,t,n){const{props:a,children:i,component:s}=e,{props:r,children:o,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!o||o&&o.$stable)||a!==r&&(a?!r||N(a,r,c):!!r);if(1024&l)return!0;if(16&l)return a?N(a,r,c):!!r;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(r[n]!==a[n]&&!E(c,n))return!0}}return!1}(e,t,n)){if(a.asyncDep&&!a.asyncResolved)return void z(a,t,n);a.next=t,function(e){const t=l.indexOf(e);t>c&&l.splice(t,1)}(a.update),a.update()}else t.el=e.el,a.vnode=t},H=(n,a,i,s,r,o,l)=>{const c=n.effect=new t.qq((()=>{if(n.isMounted){let t,{next:a,bu:i,u:s,parent:c,vnode:u}=n,d=a;ct(n,!1),a?(a.el=u.el,z(n,a,l)):a=u,i&&(0,e.ir)(i),(t=a.props&&a.props.onVnodeBeforeUpdate)&&Rt(t,c,a,u),ct(n,!0);const m=L(n),h=n.subTree;n.subTree=m,A(h,m,y(h.el),ae(h),n,r,o),a.el=m.el,null===d&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(n,m.el),s&&ot(s,r),(t=a.props&&a.props.onVnodeUpdated)&&ot((()=>Rt(t,c,a,u)),r)}else{let t;const{el:l,props:c}=a,{bm:u,m:d,parent:m}=n,h=Q(a);if(ct(n,!1),u&&(0,e.ir)(u),!h&&(t=c&&c.onVnodeBeforeMount)&&Rt(t,m,a),ct(n,!0),l&&oe){const e=()=>{n.subTree=L(n),oe(l,n.subTree,n,r,null)};h?a.type.__asyncLoader().then((()=>!n.isUnmounted&&e())):e()}else{const e=n.subTree=L(n);A(null,e,i,s,n,r,o),a.el=e.el}if(d&&ot(d,r),!h&&(t=c&&c.onVnodeMounted)){const e=a;ot((()=>Rt(t,m,e)),r)}(256&a.shapeFlag||m&&Q(m.vnode)&&256&m.vnode.shapeFlag)&&n.a&&ot(n.a,r),n.isMounted=!0,a=i=s=null}}),(()=>g(u)),n.scope),u=n.update=()=>c.run();u.id=n.uid,ct(n,!0),u()},z=(n,a,i)=>{a.component=n;const s=n.vnode.props;n.vnode=a,n.next=null,function(n,a,i,s){const{props:r,attrs:o,vnode:{patchFlag:l}}=n,c=(0,t.IU)(r),[u]=n.propsOptions;let d=!1;if(!(s||l>0)||16&l){let t;Ke(n,a,r,o)&&(d=!0);for(const s in c)a&&((0,e.RI)(a,s)||(t=(0,e.rs)(s))!==s&&(0,e.RI)(a,t))||(u?!i||void 0===i[s]&&void 0===i[t]||(r[s]=qe(u,c,s,void 0,n,!0)):delete r[s]);if(o!==c)for(const t in o)a&&(0,e.RI)(a,t)||(delete o[t],d=!0)}else if(8&l){const t=n.vnode.dynamicProps;for(let i=0;i<t.length;i++){let s=t[i];if(E(n.emitsOptions,s))continue;const l=a[s];if(u)if((0,e.RI)(o,s))l!==o[s]&&(o[s]=l,d=!0);else{const t=(0,e._A)(s);r[t]=qe(u,c,t,l,n,!1)}else l!==o[s]&&(o[s]=l,d=!0)}}d&&(0,t.X$)(n,"set","$attrs")}(n,a.props,s,i),st(n,a.children,i),(0,t.Jd)(),v(),(0,t.lk)()},K=(e,t,n,a,i,s,r,o,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:m,shapeFlag:h}=t;if(m>0){if(128&m)return void J(c,d,n,a,i,s,r,o,l);if(256&m)return void q(c,d,n,a,i,s,r,o,l)}8&h?(16&u&&ne(c,i,s),d!==c&&f(n,d)):16&u?16&h?J(c,d,n,a,i,s,r,o,l):ne(c,i,s,!0):(8&u&&f(n,""),16&h&&O(d,n,a,i,s,r,o,l))},q=(t,n,a,i,s,r,o,l,c)=>{t=t||e.Z6,n=n||e.Z6;const u=t.length,d=n.length,m=Math.min(u,d);let h;for(h=0;h<m;h++){const e=n[h]=c?Nt(n[h]):Mt(n[h]);A(t[h],e,a,null,s,r,o,l,c)}u>d?ne(t,s,r,!0,!1,m):O(n,a,i,s,r,o,l,c,m)},J=(t,n,a,i,s,r,o,l,c)=>{let u=0;const d=n.length;let m=t.length-1,h=d-1;for(;u<=m&&u<=h;){const e=t[u],i=n[u]=c?Nt(n[u]):Mt(n[u]);if(!St(e,i))break;A(e,i,a,null,s,r,o,l,c),u++}for(;u<=m&&u<=h;){const e=t[m],i=n[h]=c?Nt(n[h]):Mt(n[h]);if(!St(e,i))break;A(e,i,a,null,s,r,o,l,c),m--,h--}if(u>m){if(u<=h){const e=h+1,t=e<d?n[e].el:i;for(;u<=h;)A(null,n[u]=c?Nt(n[u]):Mt(n[u]),a,t,s,r,o,l,c),u++}}else if(u>h)for(;u<=m;)Y(t[u],s,r,!0),u++;else{const p=u,f=u,g=new Map;for(u=f;u<=h;u++){const e=n[u]=c?Nt(n[u]):Mt(n[u]);null!=e.key&&g.set(e.key,u)}let y,v=0;const b=h-f+1;let _=!1,w=0;const k=new Array(b);for(u=0;u<b;u++)k[u]=0;for(u=p;u<=m;u++){const e=t[u];if(v>=b){Y(e,s,r,!0);continue}let i;if(null!=e.key)i=g.get(e.key);else for(y=f;y<=h;y++)if(0===k[y-f]&&St(e,n[y])){i=y;break}void 0===i?Y(e,s,r,!0):(k[i-f]=u+1,i>=w?w=i:_=!0,A(e,n[i],a,null,s,r,o,l,c),v++)}const x=_?function(e){const t=e.slice(),n=[0];let a,i,s,r,o;const l=e.length;for(a=0;a<l;a++){const l=e[a];if(0!==l){if(i=n[n.length-1],e[i]<l){t[a]=i,n.push(a);continue}for(s=0,r=n.length-1;s<r;)o=s+r>>1,e[n[o]]<l?s=o+1:r=o;l<e[n[s]]&&(s>0&&(t[a]=n[s-1]),n[s]=a)}}for(s=n.length,r=n[s-1];s-- >0;)n[s]=r,r=t[r];return n}(k):e.Z6;for(y=x.length-1,u=b-1;u>=0;u--){const e=f+u,t=n[e],m=e+1<d?n[e+1].el:i;0===k[u]?A(null,t,a,m,s,r,o,l,c):_&&(y<0||u!==x[y]?G(t,a,m,2):y--)}}},G=(e,t,n,a,i=null)=>{const{el:s,type:o,transition:l,children:c,shapeFlag:u}=e;if(6&u)G(e.component.subTree,t,n,a);else if(128&u)e.suspense.move(t,n,a);else if(64&u)o.move(e,t,n,se);else if(o!==dt)if(o!==pt)if(2!==a&&1&u&&l)if(0===a)l.beforeEnter(s),r(s,t,n),ot((()=>l.enter(s)),i);else{const{leave:e,delayLeave:a,afterLeave:i}=l,o=()=>r(s,t,n),c=()=>{e(s,(()=>{o(),i&&i()}))};a?a(s,o,c):c()}else r(s,t,n);else(({el:e,anchor:t},n,a)=>{let i;for(;e&&e!==t;)i=_(e),r(e,n,a),e=i;r(t,n,a)})(e,t,n);else{r(s,t,n);for(let e=0;e<c.length;e++)G(c[e],t,n,a);r(e.anchor,t,n)}},Y=(e,t,n,a=!1,i=!1)=>{const{type:s,props:r,ref:o,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:m}=e;if(null!=o&&rt(o,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const h=1&u&&m,p=!Q(e);let f;if(p&&(f=r&&r.onVnodeBeforeUnmount)&&Rt(f,t,e),6&u)te(e.component,n,a);else{if(128&u)return void e.suspense.unmount(n,a);h&&W(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,i,se,a):c&&(s!==dt||d>0&&64&d)?ne(c,t,n,!1,!0):(s===dt&&384&d||!i&&16&u)&&ne(l,t,n),a&&Z(e)}(p&&(f=r&&r.onVnodeUnmounted)||h)&&ot((()=>{f&&Rt(f,t,e),h&&W(e,null,t,"unmounted")}),n)},Z=e=>{const{type:t,el:n,anchor:a,transition:i}=e;if(t===dt)return void X(n,a);if(t===pt)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=_(e),o(e),e=n;o(t)})(e);const s=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:a}=i,r=()=>t(n,s);a?a(e.el,s,r):r()}else s()},X=(e,t)=>{let n;for(;e!==t;)n=_(e),o(e),e=n;o(t)},te=(t,n,a)=>{const{bum:i,scope:s,update:r,subTree:o,um:l}=t;i&&(0,e.ir)(i),s.stop(),r&&(r.active=!1,Y(o,t,n,a)),l&&ot(l,n),ot((()=>{t.isUnmounted=!0}),n),n&&n.pendingBranch&&!n.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===n.pendingId&&(n.deps--,0===n.deps&&n.resolve())},ne=(e,t,n,a=!1,i=!1,s=0)=>{for(let r=s;r<e.length;r++)Y(e[r],t,n,a,i)},ae=e=>6&e.shapeFlag?ae(e.component.subTree):128&e.shapeFlag?e.suspense.next():_(e.anchor||e.el),ie=(e,t,n)=>{null==e?t._vnode&&Y(t._vnode,null,null,!0):A(t._vnode||null,e,t,null,null,null,n),v(),b(),t._vnode=e},se={p:A,um:Y,m:G,r:Z,mt:V,mc:O,pc:K,pbc:U,n:ae,o:n};let re,oe;return i&&([re,oe]=i(se)),{render:ie,hydrate:re,createApp:Be(ie,re)}}function ct({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ut(t,n,a=!1){const i=t.children,s=n.children;if((0,e.kJ)(i)&&(0,e.kJ)(s))for(let e=0;e<i.length;e++){const t=i[e];let n=s[e];1&n.shapeFlag&&!n.dynamicChildren&&((n.patchFlag<=0||32===n.patchFlag)&&(n=s[e]=Nt(s[e]),n.el=t.el),a||ut(t,n)),n.type===mt&&(n.el=t.el)}}const dt=Symbol.for("v-fgt"),mt=Symbol.for("v-txt"),ht=Symbol.for("v-cmt"),pt=Symbol.for("v-stc"),ft=[];let gt=null;function yt(e=!1){ft.push(gt=e?null:[])}let vt=1;function bt(e){vt+=e}function _t(t){return t.dynamicChildren=vt>0?gt||e.Z6:null,ft.pop(),gt=ft[ft.length-1]||null,vt>0&&gt&&gt.push(t),t}function wt(e,t,n,a,i,s){return _t(Ct(e,t,n,a,i,s,!0))}function kt(e,t,n,a,i){return _t(It(e,t,n,a,i,!0))}function xt(e){return!!e&&!0===e.__v_isVNode}function St(e,t){return e.type===t.type&&e.key===t.key}const Et="__vInternal",At=({key:e})=>null!=e?e:null,Tt=({ref:n,ref_key:a,ref_for:i})=>("number"==typeof n&&(n=""+n),null!=n?(0,e.HD)(n)||(0,t.dq)(n)||(0,e.mf)(n)?{i:A,r:n,k:a,f:!!i}:n:null);function Ct(t,n=null,a=null,i=0,s=null,r=(t===dt?0:1),o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&At(n),ref:n&&Tt(n),scopeId:T,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:A};return l?(Ot(c,a),128&r&&t.normalize(c)):a&&(c.shapeFlag|=(0,e.HD)(a)?8:16),vt>0&&!o&&gt&&(c.patchFlag>0||6&r)&&32!==c.patchFlag&&gt.push(c),c}const It=function(n,a=null,i=null,s=0,r=null,o=!1){if(n&&n!==be||(n=ht),xt(n)){const e=$t(n,a,!0);return i&&Ot(e,i),vt>0&&!o&&gt&&(6&e.shapeFlag?gt[gt.indexOf(n)]=e:gt.push(e)),e.patchFlag|=-2,e}if(function(t){return(0,e.mf)(t)&&"__vccOpts"in t}(n)&&(n=n.__vccOpts),a){a=function(n){return n?(0,t.X3)(n)||Et in n?(0,e.l7)({},n):n:null}(a);let{class:n,style:i}=a;n&&!(0,e.HD)(n)&&(a.class=(0,e.C_)(n)),(0,e.Kn)(i)&&((0,t.X3)(i)&&!(0,e.kJ)(i)&&(i=(0,e.l7)({},i)),a.style=(0,e.j5)(i))}return Ct(n,a,i,s,r,(0,e.HD)(n)?1:(e=>e.__isSuspense)(n)?128:(e=>e.__isTeleport)(n)?64:(0,e.Kn)(n)?4:(0,e.mf)(n)?2:0,o,!0)};function $t(t,n,a=!1){const{props:i,ref:s,patchFlag:r,children:o}=t,l=n?function(...t){const n={};for(let a=0;a<t.length;a++){const i=t[a];for(const t in i)if("class"===t)n.class!==i.class&&(n.class=(0,e.C_)([n.class,i.class]));else if("style"===t)n.style=(0,e.j5)([n.style,i.style]);else if((0,e.F7)(t)){const a=n[t],s=i[t];!s||a===s||(0,e.kJ)(a)&&a.includes(s)||(n[t]=a?[].concat(a,s):s)}else""!==t&&(n[t]=i[t])}return n}(i||{},n):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&At(l),ref:n&&n.ref?a&&s?(0,e.kJ)(s)?s.concat(Tt(n)):[s,Tt(n)]:Tt(n):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==dt?-1===r?16:16|r:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$t(t.ssContent),ssFallback:t.ssFallback&&$t(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Lt(e=" ",t=0){return It(mt,null,e,t)}function Pt(e="",t=!1){return t?(yt(),kt(ht,null,e)):It(ht,null,e)}function Mt(t){return null==t||"boolean"==typeof t?It(ht):(0,e.kJ)(t)?It(dt,null,t.slice()):"object"==typeof t?Nt(t):It(mt,null,String(t))}function Nt(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:$t(e)}function Ot(t,n){let a=0;const{shapeFlag:i}=t;if(null==n)n=null;else if((0,e.kJ)(n))a=16;else if("object"==typeof n){if(65&i){const e=n.default;return void(e&&(e._c&&(e._d=!1),Ot(t,e()),e._c&&(e._d=!0)))}{a=32;const e=n._;e||Et in n?3===e&&A&&(1===A.slots._?n._=1:(n._=2,t.patchFlag|=1024)):n._ctx=A}}else(0,e.mf)(n)?(n={default:n,_ctx:A},a=32):(n=String(n),64&i?(a=16,n=[Lt(n)]):a=8);t.children=n,t.shapeFlag|=a}function Rt(e,t,n,a=null){i(e,t,7,[n,a])}const Ut=Ve();let Dt=0;let jt=null;const Ft=()=>jt||A;let Vt,Wt,Bt="__VUE_INSTANCE_SETTERS__";(Wt=(0,e.E9)()[Bt])||(Wt=(0,e.E9)()[Bt]=[]),Wt.push((e=>jt=e)),Vt=e=>{Wt.length>1?Wt.forEach((t=>t(e))):Wt[0](e)};const Ht=e=>{Vt(e),e.scope.on()},zt=()=>{jt&&jt.scope.off(),Vt(null)};function Kt(e){return 4&e.vnode.shapeFlag}let qt,Jt,Gt=!1;function Yt(n,a,i){(0,e.mf)(a)?n.type.__ssrInlineRender?n.ssrRender=a:n.render=a:(0,e.Kn)(a)&&(n.setupState=(0,t.WL)(a)),Zt(n,i)}function Zt(n,a,i){const s=n.type;if(!n.render){if(!a&&qt&&!s.render){const t=s.template||Me(n).template;if(t){const{isCustomElement:a,compilerOptions:i}=n.appContext.config,{delimiters:r,compilerOptions:o}=s,l=(0,e.l7)((0,e.l7)({isCustomElement:a,delimiters:r},i),o);s.render=qt(t,l)}}n.render=s.render||e.dG,Jt&&Jt(n)}Ht(n),(0,t.Jd)(),function(n){const a=Me(n),i=n.proxy,s=n.ctx;$e=!1,a.beforeCreate&&Le(a.beforeCreate,n,"bc");const{data:r,computed:o,methods:l,watch:c,provide:u,inject:d,created:m,beforeMount:h,mounted:p,beforeUpdate:f,updated:g,activated:y,deactivated:v,beforeDestroy:b,beforeUnmount:_,destroyed:w,unmounted:k,render:x,renderTracked:S,renderTriggered:E,errorCaptured:A,serverPrefetch:T,expose:C,inheritAttrs:I,components:$,directives:L,filters:P}=a;if(d&&function(n,a,i=e.dG){(0,e.kJ)(n)&&(n=Ue(n));for(const i in n){const s=n[i];let r;r=(0,e.Kn)(s)?"default"in s?ze(s.from||i,s.default,!0):ze(s.from||i):ze(s),(0,t.dq)(r)?Object.defineProperty(a,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):a[i]=r}}(d,s,null),l)for(const t in l){const n=l[t];(0,e.mf)(n)&&(s[t]=n.bind(i))}if(r){const a=r.call(i,i);(0,e.Kn)(a)&&(n.data=(0,t.qj)(a))}if($e=!0,o)for(const t in o){const n=o[t],a=(0,e.mf)(n)?n.bind(i,i):(0,e.mf)(n.get)?n.get.bind(i,i):e.dG,r=!(0,e.mf)(n)&&(0,e.mf)(n.set)?n.set.bind(i):e.dG,l=Qt({get:a,set:r});Object.defineProperty(s,t,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const e in c)Pe(c[e],s,i,e);if(u){const t=(0,e.mf)(u)?u.call(i):u;Reflect.ownKeys(t).forEach((e=>{!function(e,t){if(jt){let n=jt.provides;const a=jt.parent&&jt.parent.provides;a===n&&(n=jt.provides=Object.create(a)),n[e]=t}}(e,t[e])}))}function M(t,n){(0,e.kJ)(n)?n.forEach((e=>t(e.bind(i)))):n&&t(n.bind(i))}if(m&&Le(m,n,"c"),M(oe,h),M(le,p),M(ce,f),M(ue,g),M(te,y),M(ne,v),M(ge,A),M(fe,S),M(pe,E),M(de,_),M(me,k),M(he,T),(0,e.kJ)(C))if(C.length){const e=n.exposed||(n.exposed={});C.forEach((t=>{Object.defineProperty(e,t,{get:()=>i[t],set:e=>i[t]=e})}))}else n.exposed||(n.exposed={});x&&n.render===e.dG&&(n.render=x),null!=I&&(n.inheritAttrs=I),$&&(n.components=$),L&&(n.directives=L)}(n),(0,t.lk)(),zt()}function Xt(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,t.WL)((0,t.Xl)(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Ae?Ae[n](e):void 0,has:(e,t)=>t in e||t in Ae}))}const Qt=(e,n)=>(0,t.Fl)(e,n,Gt),en=Symbol.for("v-scx"),tn=()=>ze(en),nn="3.3.4",an="undefined"!=typeof document?document:null,sn=an&&an.createElement("template"),rn={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const i=t?an.createElementNS("http://www.w3.org/2000/svg",e):an.createElement(e,n?{is:n}:void 0);return"select"===e&&a&&null!=a.multiple&&i.setAttribute("multiple",a.multiple),i},createText:e=>an.createTextNode(e),createComment:e=>an.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>an.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,i,s){const r=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==s&&(i=i.nextSibling););else{sn.innerHTML=a?`<svg>${e}</svg>`:e;const i=sn.content;if(a){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},on=/\s*!important$/;function ln(t,n,a){if((0,e.kJ)(a))a.forEach((e=>ln(t,n,e)));else if(null==a&&(a=""),n.startsWith("--"))t.setProperty(n,a);else{const i=function(t,n){const a=un[n];if(a)return a;let i=(0,e._A)(n);if("filter"!==i&&i in t)return un[n]=i;i=(0,e.kC)(i);for(let e=0;e<cn.length;e++){const a=cn[e]+i;if(a in t)return un[n]=a}return n}(t,n);on.test(a)?t.setProperty((0,e.rs)(i),a.replace(on,""),"important"):t[i]=a}}const cn=["Webkit","Moz","ms"],un={},dn="http://www.w3.org/1999/xlink";function mn(e,t,n,a){e.addEventListener(t,n,a)}const hn=/(?:Once|Passive|Capture)$/;let pn=0;const fn=Promise.resolve(),gn=()=>pn||(fn.then((()=>pn=0)),pn=Date.now()),yn=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const vn="transition",bn="animation",_n=(t,{slots:n})=>function(t,n,a){const i=arguments.length;return 2===i?(0,e.Kn)(n)&&!(0,e.kJ)(n)?xt(n)?It(t,null,[n]):It(t,n):It(t,null,n):(i>3?a=Array.prototype.slice.call(arguments,2):3===i&&xt(a)&&(a=[a]),It(t,n,a))}(K,function(t){const n={};for(const e in t)e in wn||(n[e]=t[e]);if(!1===t.css)return n;const{name:a="v",type:i,duration:s,enterFromClass:r=`${a}-enter-from`,enterActiveClass:o=`${a}-enter-active`,enterToClass:l=`${a}-enter-to`,appearFromClass:c=r,appearActiveClass:u=o,appearToClass:d=l,leaveFromClass:m=`${a}-leave-from`,leaveActiveClass:h=`${a}-leave-active`,leaveToClass:p=`${a}-leave-to`}=t,f=function(t){if(null==t)return null;if((0,e.Kn)(t))return[Sn(t.enter),Sn(t.leave)];{const e=Sn(t);return[e,e]}}(s),g=f&&f[0],y=f&&f[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:k,onBeforeAppear:x=v,onAppear:S=b,onAppearCancelled:E=_}=n,A=(e,t,n)=>{An(e,t?d:l),An(e,t?u:o),n&&n()},T=(e,t)=>{e._isLeaving=!1,An(e,m),An(e,p),An(e,h),t&&t()},C=e=>(t,n)=>{const a=e?S:b,s=()=>A(t,e,n);kn(a,[t,s]),Tn((()=>{An(t,e?c:r),En(t,e?d:l),xn(a)||In(t,i,g,s)}))};return(0,e.l7)(n,{onBeforeEnter(e){kn(v,[e]),En(e,r),En(e,o)},onBeforeAppear(e){kn(x,[e]),En(e,c),En(e,u)},onEnter:C(!1),onAppear:C(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>T(e,t);En(e,m),document.body.offsetHeight,En(e,h),Tn((()=>{e._isLeaving&&(An(e,m),En(e,p),xn(w)||In(e,i,y,n))})),kn(w,[e,n])},onEnterCancelled(e){A(e,!1),kn(_,[e])},onAppearCancelled(e){A(e,!0),kn(E,[e])},onLeaveCancelled(e){T(e),kn(k,[e])}})}(t),n);_n.displayName="Transition";const wn={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},kn=(_n.props=(0,e.l7)({},H,wn),(t,n=[])=>{(0,e.kJ)(t)?t.forEach((e=>e(...n))):t&&t(...n)}),xn=t=>!!t&&((0,e.kJ)(t)?t.some((e=>e.length>1)):t.length>1);function Sn(t){return(0,e.He)(t)}function En(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function An(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Tn(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Cn=0;function In(e,t,n,a){const i=e._endId=++Cn,s=()=>{i===e._endId&&a()};if(n)return setTimeout(s,n);const{type:r,timeout:o,propCount:l}=function(e,t){const n=window.getComputedStyle(e),a=e=>(n[e]||"").split(", "),i=a(`${vn}Delay`),s=a(`${vn}Duration`),r=$n(i,s),o=a(`${bn}Delay`),l=a(`${bn}Duration`),c=$n(o,l);let u=null,d=0,m=0;return t===vn?r>0&&(u=vn,d=r,m=s.length):t===bn?c>0&&(u=bn,d=c,m=l.length):(d=Math.max(r,c),u=d>0?r>c?vn:bn:null,m=u?u===vn?s.length:l.length:0),{type:u,timeout:d,propCount:m,hasTransform:u===vn&&/\b(transform|all)(,|$)/.test(a(`${vn}Property`).toString())}}(e,t);if(!r)return a();const c=r+"end";let u=0;const d=()=>{e.removeEventListener(c,m),s()},m=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),o+1),e.addEventListener(c,m)}function $n(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>Ln(t)+Ln(e[n]))))}function Ln(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}const Pn=t=>{const n=t.props["onUpdate:modelValue"]||!1;return(0,e.kJ)(n)?t=>(0,e.ir)(n,t):n};function Mn(e){e.target.composing=!0}function Nn(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const On={created(t,{modifiers:{lazy:n,trim:a,number:i}},s){t._assign=Pn(s);const r=i||s.props&&"number"===s.props.type;mn(t,n?"change":"input",(n=>{if(n.target.composing)return;let i=t.value;a&&(i=i.trim()),r&&(i=(0,e.h5)(i)),t._assign(i)})),a&&mn(t,"change",(()=>{t.value=t.value.trim()})),n||(mn(t,"compositionstart",Mn),mn(t,"compositionend",Nn),mn(t,"change",Nn))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(t,{value:n,modifiers:{lazy:a,trim:i,number:s}},r){if(t._assign=Pn(r),t.composing)return;if(document.activeElement===t&&"range"!==t.type){if(a)return;if(i&&t.value.trim()===n)return;if((s||"number"===t.type)&&(0,e.h5)(t.value)===n)return}const o=null==n?"":n;t.value!==o&&(t.value=o)}},Rn={deep:!0,created(t,{value:n,modifiers:{number:a}},i){const s=(0,e.DM)(n);mn(t,"change",(()=>{const n=Array.prototype.filter.call(t.options,(e=>e.selected)).map((t=>a?(0,e.h5)(Dn(t)):Dn(t)));t._assign(t.multiple?s?new Set(n):n:n[0])})),t._assign=Pn(i)},mounted(e,{value:t}){Un(e,t)},beforeUpdate(e,t,n){e._assign=Pn(n)},updated(e,{value:t}){Un(e,t)}};function Un(t,n){const a=t.multiple;if(!a||(0,e.kJ)(n)||(0,e.DM)(n)){for(let i=0,s=t.options.length;i<s;i++){const s=t.options[i],r=Dn(s);if(a)(0,e.kJ)(n)?s.selected=(0,e.hq)(n,r)>-1:s.selected=n.has(r);else if((0,e.WV)(Dn(s),n))return void(t.selectedIndex!==i&&(t.selectedIndex=i))}a||-1===t.selectedIndex||(t.selectedIndex=-1)}}function Dn(e){return"_value"in e?e._value:e.value}const jn={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Fn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),Fn(e,!0),a.enter(e)):a.leave(e,(()=>{Fn(e,!1)})):Fn(e,t))},beforeUnmount(e,{value:t}){Fn(e,t)}};function Fn(e,t){e.style.display=t?e._vod:"none"}const Vn=(0,e.l7)({patchProp:(t,n,a,s,r=!1,o,l,c,u)=>{"class"===n?function(e,t,n){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(t,s,r):"style"===n?function(t,n,a){const i=t.style,s=(0,e.HD)(a);if(a&&!s){if(n&&!(0,e.HD)(n))for(const e in n)null==a[e]&&ln(i,e,"");for(const e in a)ln(i,e,a[e])}else{const e=i.display;s?n!==a&&(i.cssText=a):n&&t.removeAttribute("style"),"_vod"in t&&(i.display=e)}}(t,a,s):(0,e.F7)(n)?(0,e.tR)(n)||function(t,n,a,s,r=null){const o=t._vei||(t._vei={}),l=o[n];if(s&&l)l.value=s;else{const[a,c]=function(t){let n;if(hn.test(t)){let e;for(n={};e=t.match(hn);)t=t.slice(0,t.length-e[0].length),n[e[0].toLowerCase()]=!0}return[":"===t[2]?t.slice(3):(0,e.rs)(t.slice(2)),n]}(n);if(s){const l=o[n]=function(t,n){const a=t=>{if(t._vts){if(t._vts<=a.attached)return}else t._vts=Date.now();i(function(t,n){if((0,e.kJ)(n)){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{e.call(t),t._stopped=!0},n.map((e=>t=>!t._stopped&&e&&e(t)))}return n}(t,a.value),n,5,[t])};return a.value=t,a.attached=gn(),a}(s,r);mn(t,a,l,c)}else l&&(function(e,t,n,a){e.removeEventListener(t,n,a)}(t,a,l,c),o[n]=void 0)}}(t,n,0,s,l):("."===n[0]?(n=n.slice(1),1):"^"===n[0]?(n=n.slice(1),0):function(t,n,a,i){return i?"innerHTML"===n||"textContent"===n||!!(n in t&&yn.test(n)&&(0,e.mf)(a)):"spellcheck"!==n&&"draggable"!==n&&"translate"!==n&&("form"!==n&&(("list"!==n||"INPUT"!==t.tagName)&&(("type"!==n||"TEXTAREA"!==t.tagName)&&((!yn.test(n)||!(0,e.HD)(a))&&n in t))))}(t,n,s,r))?function(t,n,a,i,s,r,o){if("innerHTML"===n||"textContent"===n)return i&&o(i,s,r),void(t[n]=null==a?"":a);const l=t.tagName;if("value"===n&&"PROGRESS"!==l&&!l.includes("-")){t._value=a;const e=null==a?"":a;return("OPTION"===l?t.getAttribute("value"):t.value)!==e&&(t.value=e),void(null==a&&t.removeAttribute(n))}let c=!1;if(""===a||null==a){const i=typeof t[n];"boolean"===i?a=(0,e.yA)(a):null==a&&"string"===i?(a="",c=!0):"number"===i&&(a=0,c=!0)}try{t[n]=a}catch(e){}c&&t.removeAttribute(n)}(t,n,s,o,l,c,u):("true-value"===n?t._trueValue=s:"false-value"===n&&(t._falseValue=s),function(t,n,a,i,s){if(i&&n.startsWith("xlink:"))null==a?t.removeAttributeNS(dn,n.slice(6,n.length)):t.setAttributeNS(dn,n,a);else{const i=(0,e.Pq)(n);null==a||i&&!(0,e.yA)(a)?t.removeAttribute(n):t.setAttribute(n,i?"":a)}}(t,n,s,r))}},rn);let Wn;var Bn=n(27856);function Hn(){return Bn()}const zn={install(e,t={},n=Hn){e.directive("dompurify-html",function(e={},t=Hn){const n=t();!function(e,t){const n=e.hooks??{};let a;for(a in n){const e=n[a];void 0!==e&&t.addHook(a,e)}}(e,n);const a=function(t,a){const i=a.value;if(a.oldValue===i)return;const s=`${i}`,r=a.arg,o=e.namedConfigurations,l=e.default??{};t.innerHTML=o&&void 0!==r?n.sanitize(s,o[r]??l):n.sanitize(s,l)};return{mounted:a,updated:a}}(t,n))}};var Kn=n(58339);function qn(t,n,a){const i=((...t)=>{const n=(Wn||(Wn=lt(Vn))).createApp(...t),{mount:a}=n;return n.mount=t=>{const i=function(t){return(0,e.HD)(t)?document.querySelector(t):t}(t);if(!i)return;const s=n._component;(0,e.mf)(s)||s.render||s.template||(s.template=i.innerHTML),i.innerHTML="";const r=a(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},n})(t);i.use(zn,{default:{ADD_ATTR:["target"]},namedConfigurations:{noMedia:{FORBID_TAGS:["img","svg","picture","video","audio"]}}}),a&&a.use&&a.use(i);let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error("Can't find root element");if(a&&a.shadowDom){let e;s.shadowRoot?(e=s.shadowRoot,e.innerHTML=""):e=s.attachShadow({mode:"open"}),s=e.appendChild(document.createElement("div"))}const r={};return i.mixin({beforeCreate(){this.$options.styles&&!r[this.$options.__file]&&(s.appendChild(function(e,t=""){const n=document.createElement("style");n.type="text/css",n.setAttribute("data-name",t);const a=document.createTextNode(e);return n.appendChild(a),n}(this.$options.styles.join("\n"),this.$options.__file)),r[this.$options.__file]=!0)},methods:{lang:Kn.storage.lang,getOption:e=>Kn.settings.get(e)}}),i.directive("visible",((e,t)=>{e.style.visibility=t.value?"visible":"hidden"})),i.mount(s)}var Jn,Gn,Yn,Zn=n(9375),Xn=n(58339),Qn=n(9e4);function ea(e,t){const n={id:e,type:t.toUpperCase()};return Xn.request.xhr("POST",{url:"https://graphql.anilist.co",headers:{"Content-Type":"application/json",Accept:"application/json"},data:JSON.stringify({query:"\n  query ($id: Int, $type: MediaType) {\n    Media (id: $id, type: $type) {\n      id\n      idMal\n    }\n  }\n  ",variables:n})}).then((e=>{const t=JSON.parse(e.responseText);return Qn.log(t),function(e,t=!1){if(void 0!==e.errors)for(let n=0,a=e.errors.length;n<a;n++){const a=e.errors[n];switch(a.status){case 400:if(!t)return Zn.flashm(Xn.storage.lang("Error_Authenticate",["https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token"]),{error:!0,type:"error"}),"noLogin";case 404:if(!t){Zn.flashm(`anilist: ${a.message}`,{error:!0,type:"error"});break}default:throw t||Zn.flashm(`anilist: ${a.message}`,{error:!0,type:"error"}),a.message}}}(t),t.data.Media.idMal}))}(Gn=Jn||(Jn={}))[Gn.NoState=0]="NoState",Gn[Gn.Watching=1]="Watching",Gn[Gn.Completed=2]="Completed",Gn[Gn.Onhold=3]="Onhold",Gn[Gn.Dropped=4]="Dropped",Gn[Gn.PlanToWatch=6]="PlanToWatch",Gn[Gn.All=7]="All",Gn[Gn.Rewatching=23]="Rewatching",function(e){e[e.NoScore=0]="NoScore",e[e.R1=1]="R1",e[e.R2=2]="R2",e[e.R3=3]="R3",e[e.R4=4]="R4",e[e.R5=5]="R5",e[e.R6=6]="R6",e[e.R7=7]="R7",e[e.R8=8]="R8",e[e.R9=9]="R9",e[e.R10=10]="R10"}(Yn||(Yn={}));var ta=n(9e4);let na;if(function(){try{return localStorage.getItem("x"),!0}catch(e){return ta.info("Local storage is not available",e),!1}}())na=localStorage;else{let e={};na={getItem:t=>t in e?e[t]:null,setItem(t,n){e[t]=n},removeItem(t){t in e&&delete e[t]},clear(){e={}}}}const aa=na;var ia=n(58339),sa=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};class ra{constructor(e,t,n=!0,a=0){return this.key=e,this.ttl=t,this.localStorage=n,this.refetchTtl=a,this}containsValue(e){return null!=e}valueValid(e,t){return!(!e||!e.timestamp)&&(new Date).getTime()<e.timestamp+t}ttlValid(e){return this.valueValid(e,this.ttl)}refetchTtlValid(e){return this.valueValid(e,this.refetchTtl)}hasValue(){return sa(this,void 0,void 0,(function*(){const e=yield this.getStorage();return!(!this.containsValue(e)||!this.ttlValid(e))}))}hasValueAndIsNotEmpty(){return sa(this,void 0,void 0,(function*(){const e=yield this.getStorage();return!!(this.containsValue(e)&&void 0!==e.data&&null!==e.data&&Object.keys(e.data).length&&this.ttlValid(e))}))}fullState(){return sa(this,void 0,void 0,(function*(){const e=yield this.getStorage(),t=this.containsValue(e)&&this.refetchTtlValid(e),n=this.ttlValid(e);return{value:e,hasValue:t,isValid:n,refetch:t&&!n}}))}getValue(){return sa(this,void 0,void 0,(function*(){return(yield this.getStorage()).data}))}setValue(e){return sa(this,void 0,void 0,(function*(){const t={data:e,timestamp:(new Date).getTime()};return this.localStorage?aa.setItem(this.key,JSON.stringify(t)):ia.storage.set(this.key,t)}))}clearValue(){return sa(this,void 0,void 0,(function*(){return this.localStorage?aa.removeItem(this.key):ia.storage.remove(this.key)}))}getStorage(){return sa(this,void 0,void 0,(function*(){return this.localStorage?JSON.parse(aa.getItem(this.key)):ia.storage.get(this.key)}))}}n(58339);var oa=n(56387),la=n(9e4),ca=n(58339);const ua=Math.floor(1e9*Math.random()),da=new oa.EventEmitter2({wildcard:!0});function ma(e,...t){la.m("Global").m("Emit").debug(e,...t),da.emit(`${e}`,...t),void 0!==ca&&ca&&"webextension"===ca.type&&chrome.runtime.sendMessage({name:"emitter",item:{event:e,params:t,id:ua}})}void 0!==ca&&ca&&"webextension"===ca.type&&chrome.runtime.onMessage.addListener(((e,t,n)=>{e.name&&"emitter"===e.name&&(la.m("Global").m("Event").debug(e.item.id,e.item.event,e.item.params),e.item.id!==ua&&da.emit(e.item.event,...e.item.params))}));var ha=n(58339);class pa extends Error{constructor(e){super(e),this.name="NotAutenticatedError"}}class fa extends Error{constructor(e){super(e),this.name="UrlNotSupportedError"}}class ga extends Error{constructor(e){super(e),this.name="ServerOfflineError"}}class ya extends Error{constructor(e){super(e),this.name="NotFoundError"}}class va extends Error{constructor(e){super(e),this.name="UnexpectedResponseError"}}function ba(e,t){return e instanceof pa?ha.storage.lang("Error_Authenticate",[t]):e instanceof ga?"Server Offline":e instanceof fa?`Incorrect url provided [${e.message}]`:e instanceof ya?"Could not find this entry":e.message}var _a,wa,ka=n(58339),xa=n(9e4),Sa=n(9375),Ea=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};Object.seal(da);class Aa{constructor(e=1,t="anime",n="default"){return this.status=e,this.listType=t,this.sort=n,this.done=!1,this.loading=!1,this.firstLoaded=!1,this.seperateRewatching=!1,this.modes={frontend:!1,sortAiring:!1,initProgress:!1,cached:!1},this.username="",this.offset=0,this.templist=[],this.api=ka,this.cacheObj=void 0,this.status=Number(this.status),this.logger=xa.m("[S]","#348fff"),this}setTemplist(e){return this.templist=e,this}getTemplist(){return this.templist}setSort(e){if(this.firstLoaded||this.loading)throw"To late to change sort";this.sort=e}isDone(){return this.done}isLoading(){return this.loading}isFirstLoaded(){return this.firstLoaded}getCompleteList(){return Ea(this,void 0,void 0,(function*(){do{yield this.getNext()}while(!this.done);return this.modes.sortAiring&&(yield this.sortAiringList()),this.modes.cached&&this.getCache().setValue(this.templist.slice(0,18)),this.firstLoaded=!0,this.templist}))}getNextPage(){return Ea(this,void 0,void 0,(function*(){return this.done?this.templist:!this.modes.frontend||1!==this.status||"default"!==this.sort&&"unread"!==this.sort?(yield this.getNext(),this.modes.cached&&this.getCache().setValue(this.templist.slice(0,24)),this.firstLoaded=!0,this.templist):(this.modes.sortAiring=!0,this.getCompleteList())}))}getNext(){return Ea(this,void 0,void 0,(function*(){this.loading=!0;const e=yield this.getPart();this.templist=this.templist.concat(e),this.loading=!1}))}getCached(){return Ea(this,void 0,void 0,(function*(){if(yield this.getCache().hasValue()){const e=yield this.getCache().getValue();return e.forEach((e=>{(e=this.fn(e)).watchedEp="",e.score=""})),e}return[]}))}initFrontendMode(){this.modes.frontend=!0,this.updateListener=da.on("update.*",(e=>{if(xa.log("update",e),e.cacheKey){const t=this.templist.find((t=>t.cacheKey===e.cacheKey));xa.log(t),t&&e.state&&(t.watchedEp=e.state.episode,t.score=e.state.score,t.status=e.state.status)}}),{objectify:!0})}destroy(){this.updateListener&&this.updateListener.off()}getUsername(){return this.getUserObject().then((e=>e.username))}getSortingOptions(e=!1){const t=[{icon:"filter_list",title:ka.storage.lang("settings_progress_default"),value:"default"}];return 1===this.status&&"manga"===this.listType&&t.push({icon:"adjust",title:ka.storage.lang("list_sorting_unread"),value:"unread"}),this._getSortingOptions().forEach((n=>{if(!e){if(n.asc){const e=Object.assign({},n);delete e.asc,e.value+="_asc",e.title+=" Ascending",t.push(e)}delete n.asc}t.push(n)})),t}flashmError(e){Sa.flashm(this.errorMessage(e),{error:!0,type:"error"})}errorMessage(e){return ba(e,this.authenticationUrl)}fn(e,t=""){return Ea(this,void 0,void 0,(function*(){let n=null;return e.fn={continueUrl:()=>null!==n?n:Sa.getContinueWaching(e.type,e.cacheKey).then((t=>{const a=parseInt(e.watchedEp.toString());return void 0===t||t.ep!==a+1?"":(n=t.url,n)})),initProgress:()=>new Za(e.cacheKey,e.type).init().then((t=>{e.fn.progress=t})),progress:!1},e.options=yield Sa.getEntrySettings(e.type,e.cacheKey,e.tags),t&&(e.options.u=t),(this.modes.sortAiring||this.modes.initProgress)&&(yield e.fn.initProgress()),e}))}initProgress(){return Ea(this,void 0,void 0,(function*(){const e=[];this.templist.forEach((t=>{e.push(t.fn.initProgress())})),yield Promise.all(e)}))}sortAiringList(){return Ea(this,void 0,void 0,(function*(){if("unread"===this.sort)return void this.sortUnread();const e=[];let t=[],n=[];function a(e,t){let n=e.fn.progress.getPredictionTimestamp(),a=t.fn.progress.getPredictionTimestamp();return n||(n=999999999999),a||(a=n),n-a}this.templist.forEach((a=>{const i=a.fn.progress;"anime"===this.listType?i&&i.isAiring()&&i.getPredictionTimestamp()?a.watchedEp<i.getCurrentEpisode()?t.push(a):n.push(a):e.push(a):i&&i.isAiring()&&i.getCurrentEpisode()&&a.watchedEp&&a.watchedEp<i.getCurrentEpisode()&&a.watchedEp+6>i.getCurrentEpisode()?t.push(a):e.push(a)})),t=t.sort(a).reverse(),n=n.sort(a),this.templist=t.concat(n,e)}))}sortUnread(){this.templist=this.templist.sort((function(e,t){let n=1e4,a=1e4;if(e.fn.progress&&e.fn.progress.getCurrentEpisode()){const t=e.fn.progress.getCurrentEpisode()-e.watchedEp;t>0&&(n=t)}if(t.fn.progress&&t.fn.progress.getCurrentEpisode()){const e=t.fn.progress.getCurrentEpisode()-t.watchedEp;e>0&&(a=e)}return n-a}))}getCache(){return this.cacheObj||(this.cacheObj=new ra(`list/${this.name}/${this.listType}/${this.status}/${this.sort}`,1728e5)),this.cacheObj}}n(19947),n(9375),n(58339),n(58339),function(e){e[e.watching=Jn.Watching]="watching",e[e.completed=Jn.Completed]="completed",e[e.on_hold=Jn.Onhold]="on_hold",e[e.dropped=Jn.Dropped]="dropped",e[e.plan_to_watch=Jn.PlanToWatch]="plan_to_watch"}(_a||(_a={})),function(e){e[e.reading=Jn.Watching]="reading",e[e.completed=Jn.Completed]="completed",e[e.on_hold=Jn.Onhold]="on_hold",e[e.dropped=Jn.Dropped]="dropped",e[e.plan_to_read=Jn.PlanToWatch]="plan_to_read"}(wa||(wa={})),n(58339),n(9e4);var Ta=n(9e4),Ca=n(58339);const Ia=Ta.m("anilist","#3db4f2");function $a(e,t=null){const n={CURRENT:1,PLANNING:6,COMPLETED:2,DROPPED:4,PAUSED:3,REPEATING:1};return null!==t?Object.keys(n).find((e=>n[e]===t)):n[e]}var La;function Pa(e,t){return Number.isNaN(e)||!e?`anilist:${t}`:e}function Ma(e,t,n=!0){return a=this,i=void 0,r=function*(){if(n&&!Ca.settings.get("anilistToken"))throw new pa("No token found");const a={"Content-Type":"application/json",Accept:"application/json"};return Ca.settings.get("anilistToken")&&(a.Authorization=`Bearer ${Ca.settings.get("anilistToken")}`),Ca.request.xhr("POST",{url:"https://graphql.anilist.co",headers:a,data:JSON.stringify({query:e,variables:t})}).then((a=>{if(a.status>499&&a.status<600||0===a.status)throw new ga(`Server Offline status: ${a.status}`);if(403===a.status)throw new Error(Ca.storage.lang("Error_Blocked",["AniList"]));const i=function(e){try{return JSON.parse(e)}catch(e){throw new va(e.message)}}(a.responseText);if(void 0!==i.errors&&i.errors.length){Ia.error("[SINGLE]","Error",i.errors);const a=i.errors[0];switch(a.status){case 400:if("Invalid token"===a.message&&!n)return Ca.settings.set("anilistToken",null),Ma(e,t,n);if("validation"===a.message)throw new Error("Wrong request format");if(a.message.includes("invalid"))throw new Error("Wrong request format");throw new pa(a.message);case 404:throw new ya(a.message);default:throw new Error(a.message)}}return i}))},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{l(r.next(e))}catch(e){t(e)}}function o(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){t.done?e(t.value):function(e){return e instanceof s?e:new s((function(t){t(e)}))}(t.value).then(n,o)}l((r=r.apply(a,i||[])).next())}));var a,i,s,r}function Na(e){return!e||e.endsWith("/default.jpg")?"":e}!function(e){e[e.CURRENT=Jn.Watching]="CURRENT",e[e.PLANNING=Jn.PlanToWatch]="PLANNING",e[e.COMPLETED=Jn.Completed]="COMPLETED",e[e.DROPPED=Jn.Dropped]="DROPPED",e[e.PAUSED=Jn.Onhold]="PAUSED",e[e.REPEATING=Jn.Rewatching]="REPEATING"}(La||(La={}));var Oa=n(58339),Ra=n(9e4),Ua=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};class Da extends Aa{constructor(){super(...arguments),this.name="AniList",this.compact=!1,this.seperateRewatching=!0,this.authenticationUrl="https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token"}getUserObject(){return Ma("\n    query {\n      Viewer {\n        name\n        id\n        avatar {\n          large\n        }\n        options {\n          displayAdultContent\n        }\n        mediaListOptions {\n          scoreFormat\n        }\n      }\n    }\n    ",[],!0).then((e=>{if(e.data.Viewer.options&&e.data.Viewer.mediaListOptions){const t=Oa.settings.get("anilistOptions");t.displayAdultContent=e.data.Viewer.options.displayAdultContent,t.scoreFormat=e.data.Viewer.mediaListOptions.scoreFormat,Oa.settings.set("anilistOptions",t)}return{username:e.data.Viewer.name,picture:e.data.Viewer.avatar.large||"",href:`https://anilist.co/user/${e.data.Viewer.id}`}}))}deauth(){return Oa.settings.set("anilistToken","")}accessToken(){return this.api.settings.get("anilistToken")}_getSortingOptions(){return[{icon:"sort_by_alpha",title:Oa.storage.lang("list_sorting_alpha"),value:"alpha"},{icon:"history",title:Oa.storage.lang("list_sorting_history"),value:"updated",asc:!0},{icon:"score",title:Oa.storage.lang("list_sorting_score"),value:"score",asc:!0}]}getOrder(e){switch(e){case"alpha":return"MEDIA_TITLE_ENGLISH";case"updated":return"UPDATED_TIME_DESC";case"updated_asc":return"UPDATED_TIME";case"score":return"SCORE_DESC";case"score_asc":return"SCORE";default:return 1===this.status||this.status,this.getOrder("updated")}}getPart(){return Ua(this,void 0,void 0,(function*(){this.offset<1&&(this.offset=1),Ra.log("[UserList][AniList]",`username: ${this.username}`,`status: ${this.status}`,`offset: ${this.offset}`),this.username||(this.username=yield this.getUsername());let e="\n    query ($page: Int, $userName: String, $type: MediaType, $status: MediaListStatus, $sort: [MediaListSort] ) {\n      Page (page: $page, perPage: 100) {\n        pageInfo {\n          hasNextPage\n        }\n        mediaList (status: $status, type: $type, userName: $userName, sort: $sort) {\n          status\n          score(format: POINT_100)\n          progress\n          progressVolumes\n          notes\n          media {\n            siteUrl\n            id\n            idMal\n            episodes\n            chapters\n            volumes\n            status\n            averageScore\n            coverImage{\n              large\n              extraLarge\n            }\n            bannerImage\n            title {\n              userPreferred\n            }\n          }\n        }\n      }\n    }\n    ";this.compact&&(e="\n      query ($page: Int, $userName: String, $type: MediaType, $status: MediaListStatus, $sort: [MediaListSort]) {\n        Page (page: $page, perPage: 100) {\n          pageInfo {\n            hasNextPage\n          }\n          mediaList (status: $status, type: $type, userName: $userName, sort: $sort) {\n            progress\n            media {\n              id\n              idMal\n            }\n          }\n        }\n      }\n      ");const t={page:this.offset,userName:this.username,type:this.listType.toUpperCase(),status:La[parseInt(this.status.toString())],sort:null},n=this.getOrder(this.sort);return n&&(t.sort=n),Ma(e,t,!0).then((e=>{Ra.log("res",e);const t=e.data.Page.mediaList;return this.offset+=1,e.data.Page.pageInfo.hasNextPage||(this.done=!0),this.prepareData(t,this.listType)}))}))}prepareData(e,t){var n,a;return Ua(this,void 0,void 0,(function*(){const i=[];for(let s=0;s<e.length;s++){const r=e[s];let o;o="anime"===t?yield this.fn({uid:r.media.id,malId:r.media.idMal,apiCacheKey:null!==(n=r.media.idMal)&&void 0!==n?n:`anilist:${r.media.id}`,cacheKey:Pa(r.media.idMal,r.media.id),type:t,title:r.media.title.userPreferred,url:r.media.siteUrl,watchedEp:r.progress,totalEp:r.media.episodes,status:$a(r.status),score:Math.round(r.score/10),image:Na(r.media.coverImage.large),imageLarge:Na(r.media.coverImage.extraLarge),imageBanner:Na(r.media.bannerImage),tags:r.notes,airingState:r.anime_airing_status}):yield this.fn({uid:r.media.id,malId:r.media.idMal,apiCacheKey:null!==(a=r.media.idMal)&&void 0!==a?a:`anilist:${r.media.id}`,cacheKey:Pa(r.media.idMal,r.media.id),type:t,title:r.media.title.userPreferred,url:r.media.siteUrl,watchedEp:r.progress,totalEp:r.media.chapters,status:$a(r.status),score:Math.round(r.score/10),image:Na(r.media.coverImage.large),imageLarge:Na(r.media.coverImage.extraLarge),imageBanner:Na(r.media.bannerImage),tags:r.notes,airingState:r.anime_airing_status}),null===o.totalEp&&(o.totalEp=0),i.push(o)}return i}))}prepareCompact(e,t){const n=[];for(let t=0;t<e.length;t++){const a=e[t];n.push({malid:a.media.idMal,id:a.media.id,watchedEp:a.progress,cacheKey:Pa(a.media.idMal,a.media.id)})}return n}}var ja,Fa=n(9e4);n(58339),Fa.m("kitsu","#d65e43"),n(58339),n(9e4),n(9e4),n(58339),n(58339),n(9e4),n(58339),function(e){e[e.watching=Jn.Watching]="watching",e[e.planned=Jn.PlanToWatch]="planned",e[e.completed=Jn.Completed]="completed",e[e.dropped=Jn.Dropped]="dropped",e[e.on_hold=Jn.Onhold]="on_hold",e[e.rewatching=Jn.Rewatching]="rewatching"}(ja||(ja={})),n(58339),n(9e4),n(58339),n(9e4),n(9375),n(58339);var Va=n(58339),Wa=n(9e4),Ba=n(9375),Ha=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};function za(e,t){return Ha(this,void 0,void 0,(function*(){if(!t)return{};const n=yield Va.request.xhr("GET",`https://api.malsync.moe/nc/mal/${e}/${t}/pr`);return JSON.parse(n.responseText)}))}var Ka=n(58339);function qa(e,t=!0){if(!e)return"";const n=Date.now();let a,i;if(n>e?(i=!1,a=n-e):(i=!0,a=e-n),a<3e4)return Ka.storage.lang("bookmarksItem_now");let s=function(e){let t="";return 1===e.y?t+=` ${e.y} ${Ka.storage.lang("bookmarksItem_Year")}`:e.y>1&&(t+=` ${e.y} ${Ka.storage.lang("bookmarksItem_Years")}`),1===e.d?t+=` ${e.d} ${Ka.storage.lang("bookmarksItem_Day")}`:e.d>1&&(t+=` ${e.d} ${Ka.storage.lang("bookmarksItem_Days")}`),1===e.h?t+=` ${e.h} ${Ka.storage.lang("bookmarksItem_Hour")}`:e.h>1&&(t+=` ${e.h} ${Ka.storage.lang("bookmarksItem_Hours")}`),1===e.m?t+=` ${e.m} ${Ka.storage.lang("bookmarksItem_min")}`:e.m>1&&(t+=` ${e.m} ${Ka.storage.lang("bookmarksItem_mins")}`),1===e.s?t+=` ${e.s} ${Ka.storage.lang("bookmarksItem_sec")}`:e.s>1&&(t+=` ${e.s} ${Ka.storage.lang("bookmarksItem_secs")}`),t.trim()}((r=function(e){let t,n,a,i;i=Math.floor(e/1e3),a=Math.floor(i/60),i%=60,n=Math.floor(a/60),a%=60,t=Math.floor(n/24),n%=24;const s=Math.floor(t/365);return t%=365,{y:s,d:t,h:n,m:a,s:i}}(a)).y>1?r.d>182?{y:r.y+1,d:0,h:0,m:0,s:0}:{y:r.y,d:0,h:0,m:0,s:0}:r.y?{y:r.y,d:r.d,h:0,m:0,s:0}:r.d>3?r.h>11?{y:0,d:r.d+1,h:0,m:0,s:0}:{y:0,d:r.d,h:0,m:0,s:0}:r.d?{y:0,d:r.d,h:r.h,m:0,s:0}:r.h>5?r.m>29?{y:0,d:0,h:r.h+1,m:0,s:0}:{y:0,d:0,h:r.h,m:0,s:0}:r.h?{y:0,d:0,h:r.h,m:r.m,s:0}:r.m>14?{y:0,d:0,h:0,m:r.m,s:0}:{y:0,d:0,h:0,m:r.m,s:r.s});var r;return!i&&t&&(s=Ka.storage.lang("bookmarksItem_ago",[s])),s}var Ja=n(9e4),Ga=n(58339),Ya=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};class Za{constructor(e,t){return this.cacheKey=e,this.type=t,this.releaseItem=void 0,this.logger=Ja.m("progress").m(e.toString()),this}initReleaseProgress(e){return Ya(this,void 0,void 0,(function*(){e&&(yield function(e,t,n="default",a=Wa.m("release")){return Ha(this,void 0,void 0,(function*(){if(n||(n="default"),(a=a.m(e.uid.toString())).log(e.title,e.cacheKey,e.apiCacheKey,`Mode: ${n}`),!e.apiCacheKey)return void a.log("No Api Cache Id");if(!Va.settings.get("epPredictions"))return void a.log("epPredictions disabled");const i=yield Va.storage.get(`release/${t}/${e.cacheKey}`);a.m("Load").log(i);let s,r=!1;if(i&&i.mode&&i.mode!==n&&(r=!0),i&&i.timestamp&&Date.now()-i.timestamp<12e4&&!r)return void a.log("Up to date");if(i&&i.finished&&i.timestamp&&Date.now()-i.timestamp<6048e5&&!r)return void a.log("Fininshed");if(i&&!i.value&&i.timestamp&&Date.now()-i.timestamp<864e5&&!r)return void a.log("Nulled");r&&a.log("Update forced"),"off"===n&&(a.log("Disabled"),e.xhr=[]),void 0!==e.xhr?s=e.xhr:(s=yield za(t,e.apiCacheKey),yield Ba.wait(500)),a.log(s);const o=function(e,t,n){const a={};if(!e.length)return null;let i;if("default"===t?(a.mainId="anime"===n?Va.settings.get("progressIntervalDefaultAnime"):Va.settings.get("progressIntervalDefaultManga"),a.fallback="en/sub"):a.mainId=t,a.fallbackPrediction="jp/dub",a.mainId){const t=e.find((e=>e.id===a.mainId));t&&(i=t)}if(a.fallback&&!i){const t=e.find((e=>e.id===a.fallback));t&&(i=t)}if(a.fallbackPrediction&&i&&!i.predicition&&i.lastEp&&i.lastEp.timestamp){const t=e.find((e=>e.id===a.fallbackPrediction)),n=i.lastEp.timestamp+6048e5;n&&t&&t.predicition&&(i.lastEp.total===t.lastEp.total?Math.abs(n-t.predicition.timestamp)<108e6&&(i.predicition={timestamp:n,probability:"medium"}):t.lastEp.total&&i.lastEp.total===t.lastEp.total-1&&Math.abs(n-(t.predicition.timestamp-6048e5))<108e6&&(i.predicition={timestamp:n,probability:"medium"}))}if(a.fallbackPrediction&&!i){const t=e.find((e=>e.id===a.fallbackPrediction));t&&t.lastEp&&t.predicition&&0===t.lastEp.total&&(i=t,i.predicition.probability="medium")}return i||null}(s,n,t);o||a.log("No value for the selected mode");let l=!1;o&&o.state&&"complete"===o.state&&(l=!0),a.m("Save").log(o),i&&i.value&&function(e,t,n,a){Ha(this,void 0,void 0,(function*(){try{if("anime"===a&&!Va.settings.get("progressNotificationsAnime")||"manga"===a&&!Va.settings.get("progressNotificationsManga"))return;if(e&&n&&n&&t.lastEp&&void 0!==t.lastEp.total&&n.lastEp&&n.lastEp.total&&t.lang===n.lang&&t.type===n.type&&t.lastEp.total<n.lastEp.total&&e.watchedEp+1===n.lastEp.total){let t;t=e.single?{title:e.title,text:Va.storage.lang(`syncPage_malObj_nextEp_${a}`,[n.lastEp.total]),sticky:!0,image:yield e.single.getImage(),url:e.single.getStreamingUrl()?e.single.getStreamingUrl():e.single.getUrl()}:{title:e.title,text:Va.storage.lang(`syncPage_malObj_nextEp_${a}`,[n.lastEp.total]),sticky:!0,image:e.image,url:e.options&&e.options.u?e.options.u:e.url},Va.request.notification(t)}}catch(e){Wa.error("Could not check notification Progress",e)}}))}(e,i.value,o,t),yield Va.storage.set(`release/${t}/${e.cacheKey}`,{timestamp:Date.now(),value:o,mode:n,finished:l})}))}(e,this.type,e.progressMode));const t=yield Ga.storage.get(`release/${this.type}/${this.cacheKey}`);this.logger.m("Init Release").log(t),t&&(function(e){if(e&&e.timestamp){const t=(new Date).getTime()-e.timestamp;if(e.finished&&t<6048e5)return!1;if(!e.value&&t<864e5)return!1;if(t<864e5)return!1}return!0}(t)?this.logger.log("Too old"):this.releaseItem=t)}))}getProgressCurrentEpisode(){const e=this.releaseItem;return e&&e.value&&e.value.lastEp&&e.value.lastEp.total?e.value.lastEp.total:null}isProgressFinished(){const e=this.releaseItem;return!(!e||!e.finished)}getProgressPrediction(){const e=this.releaseItem;return e&&e.value&&e.value.predicition&&e.value.predicition.timestamp?e.value.predicition.timestamp:null}getProgressLastTimestamp(){const e=this.releaseItem;return e&&e.value&&e.value.lastEp&&e.value.lastEp.timestamp?e.value.lastEp.timestamp:null}init(e=!1){return Ya(this,void 0,void 0,(function*(){return yield Promise.all([this.initReleaseProgress(e)]),this}))}getCurrentEpisode(){return Ga.settings.get("epPredictions")?this.getProgressCurrentEpisode():null}isFinished(){return this.isProgressFinished()}isAiring(){return!this.isFinished()}getPredictionTimestamp(){return!this.getProgressPrediction()||(new Date).getTime()>this.getProgressPrediction()?NaN:this.getProgressPrediction()}getPrediction(){return qa(this.getPredictionTimestamp())}getPredictionText(){const e=this.getPrediction();return e?Ga.storage.lang(`prediction_Episode_${this.type}`,[e]):""}getLastTimestamp(){return this.getProgressLastTimestamp()}getLast(e=!0){return qa(this.getLastTimestamp(),e)}getLastText(){const e=this.getLast(!1);return e?Ga.storage.lang(`prediction_Last_${this.type}`,[e]):""}getAuto(){const e=this.getPrediction();if(e)return e;return this.getLast()||""}getAutoText(){const e=this.getPredictionText();if(e)return e;return this.getLastText()||""}getColor(){return"#f57c00"}getBars(e,t){const n=this.getCurrentEpisode(),a={totalWidth:100,epWidth:0,predWidth:0};if(!t)if(a.totalWidth=0,e&&(!n||e>=n))t=Math.ceil(1.2*e);else{if(!n||e&&!(e<n))return a;t=Math.ceil(1.2*n)}return e&&(a.epWidth=e/t*100,a.epWidth>100&&(a.epWidth=100)),n&&(a.predWidth=n/t*100,a.predWidth>100&&(a.predWidth=100)),a}}class Xa extends Error{constructor(e){super(e),this.name="SafeError"}}var Qa=n(58339);const ei={ui:{module:"dropdown"},getOptions:()=>[{value:0,label:Qa.storage.lang("UI_Score_Not_Rated")},{value:100,label:Qa.storage.lang("UI_Score_Masterpiece")},{value:90,label:Qa.storage.lang("UI_Score_Great")},{value:80,label:Qa.storage.lang("UI_Score_VeryGood")},{value:70,label:Qa.storage.lang("UI_Score_Good")},{value:60,label:Qa.storage.lang("UI_Score_Fine")},{value:50,label:Qa.storage.lang("UI_Score_Average")},{value:40,label:Qa.storage.lang("UI_Score_Bad")},{value:30,label:Qa.storage.lang("UI_Score_VeryBad")},{value:20,label:Qa.storage.lang("UI_Score_Horrible")},{value:10,label:Qa.storage.lang("UI_Score_Appalling")}],valueToOptionValue:e=>e?e<10?10:10*Math.round(e/10):0,optionValueToValue:e=>e?Number(e):0};var ti=n(9e4),ni=n(58339),ai=n(9375),ii=n(19947),si=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};Object.seal(da);class ri{constructor(e){return this.url=e,this.type=null,this.rewatchingSupport=!0,this.ids={mal:NaN,ani:NaN,kitsu:{id:NaN,slug:""},simkl:NaN},this.options=null,this.progress=!1,this.updateProgress=!1,this._onList=!1,this._authenticated=!1,this.handleUrl(e),this.logger=ti.m("[S]","#348fff"),this}getType(){return this.type}getUrl(){return this.url}supportsRewatching(){return this.rewatchingSupport}getApiCacheKey(){return this.getKey(["ANILIST"])}getRulesCacheKey(){return this.getKey(["ANILIST","KITSU"],!1)}setStatus(e){return e=Number(e),this._setStatus(e),this}getStatus(){return this.isOnList()?this._getStatus():Jn.NoState}getScoreMode(){return ei}setScore(e){return(e=parseInt(`${e}`))||(e=0),this._setScore(e),this}getScore(){return this._getScore()||0}setAbsoluteScore(e){return e=parseInt(`${e}`),this._setAbsoluteScore(e),this}getAbsoluteScore(){return this._getAbsoluteScore()||0}setEpisode(e){return e=parseInt(`${e}`),this.getTotalEpisodes()&&e>this.getTotalEpisodes()&&(e=this.getTotalEpisodes()),this._setEpisode(e),this}getEpisode(){return this._getEpisode()}setVolume(e){return this._setVolume(e),this}getVolume(){return this._getVolume()}setStreamingUrl(e){return this.options&&(this.options.u=e),this}getStreamingUrl(){if(this.options&&this.options.u)return this.options.u}cleanTags(){this.options=null}initProgress(){return si(this,void 0,void 0,(function*(){const e=yield za(this.getType(),this.getApiCacheKey());return new Za(this.getCacheKey(),this.getType()).init({uid:this.getCacheKey(),apiCacheKey:this.getApiCacheKey(),title:this.getTitle(),cacheKey:this.getCacheKey(),progressMode:this.getProgressMode(),watchedEp:this.getEpisode(),single:this,xhr:e}).then((t=>{this.updateProgress=!1,this.progress=t,this.progressXhr=e}))}))}getProgress(){return!!this.progress&&this.progress}getProgressFormated(){const e=[],t=new Intl.DisplayNames("en",{type:"language"});return ti.log(this.progressXhr),this.progressXhr&&Object.keys(this.progressXhr).length&&this.progressXhr.forEach((n=>{e.push({type:n.type,key:n.id,state:n.state,label:t.of(n.lang.replace(/^jp$/,"ja"))||n.lang,dropped:"dropped"===n.state||"discontinued"===n.state,episode:n.lastEp&&n.lastEp.total?n.lastEp.total:0,lastEp:n.lastEp,predicition:n.prediction})})),e}getProgressOptions(){return this.getProgressFormated().filter((e=>"complete"!==e.state))}getProgressCompleted(){return this.getProgressFormated().filter((e=>"complete"===e.state))}getProgressMode(){return this.options&&this.options.p?this.options.p:""}setProgressMode(e){this.options&&(this.options.p=e,this.updateProgress=!0),ni.settings.get("malTags")||ai.setEntrySettings(this.type,this.getCacheKey(),this.options,this._getTags()).then((()=>this.initProgress()))}getProgressKey(){let e=this.getProgressMode();if(e||(e="anime"===this.getType()?ni.settings.get("progressIntervalDefaultAnime"):ni.settings.get("progressIntervalDefaultManga")),!e)return null;const t=/^([^/]*)\/(.*)$/.exec(e);return t?{key:e,lang:t[1],type:t[2]}:null}getPageRelations(){const e=this.shortName,t=[];return this.ids.mal&&"MAL"!==e&&t.push({name:"MAL",icon:"https://cdn.myanimelist.net/images/favicon.ico",link:`https://myanimelist.net/${this.type}/${this.ids.mal}`}),this.ids.ani&&"AniList"!==e&&t.push({name:"AniList",icon:"https://anilist.co/img/icons/favicon-32x32.png",link:`https://anilist.co/${this.type}/${this.ids.ani}`}),this.ids.kitsu.id&&"Kitsu"!==e&&t.push({name:"Kitsu",icon:"https://kitsu.io/favicon-32x32-3e0ecb6fc5a6ae681e65dcbc2bdf1f17.png",link:`https://kitsu.io/${this.type}/${this.ids.kitsu.id}`}),this.ids.simkl&&"Simkl"!==e&&t.push({name:"Simkl",icon:"https://eu.simkl.in/img_favicon/v2/favicon-32x32.png",link:`https://simkl.com/${this.type}/${this.ids.simkl}`}),t}fillRelations(){return Promise.resolve()}update(){return this.logger.log("[SINGLE]","Update info",this.ids),this.lastError=null,this._update().catch((e=>{throw this.lastError=e,e})).then((()=>(this.persistanceState=this.getStateEl(),ai.getEntrySettings(this.type,this.getCacheKey(),this._getTags())))).then((e=>{this.options=e,this.registerEvent(),this.emitUpdate("state")}))}sync(){return si(this,void 0,void 0,(function*(){return this.logger.log("[SINGLE]","Sync",this.ids),this.lastError=null,this._setTags(yield ai.setEntrySettings(this.type,this.getCacheKey(),this.options,this._getTags())),this._sync().catch((e=>{throw this.lastError=e,e})).then((()=>{this.undoState=this.persistanceState,this.updateProgress&&this.initProgress(),this._onList=!0,this.emitUpdate()}))}))}emitUpdate(e="update"){ma(`${e}.${this.getCacheKey()}`,{id:this.getPageId(),type:this.getType(),cacheKey:this.getCacheKey(),state:this.getStateEl(),meta:{title:this.getTitle(),image:this.getImage(),malId:this.getMalId(),totalEp:this.getTotalEpisodes(),url:this.getUrl()}})}delete(){return si(this,void 0,void 0,(function*(){return this._delete().then((()=>{this._onList=!1,ma(`delete.${this.getCacheKey()}`,{id:this.getPageId(),type:this.getType(),cacheKey:this.getCacheKey()})}))}))}registerEvent(){this.globalUpdateEvent||(this.globalUpdateEvent=da.on(`update.${this.getCacheKey()}`,(e=>this.updateEvent(e))))}updateEvent(e){this.isDirty()?this.logger.log("Ignore event"):e&&e.state&&(this.setStateEl(e.state),this.persistanceState=this.getStateEl(),da.emit("syncPage_fillUi"))}isDirty(){return JSON.stringify(this.persistanceState)!==JSON.stringify(this.getStateEl())||this.updateProgress}undo(){if(this.logger.log("[SINGLE]","Undo",this.undoState),!this.undoState)throw new Xa("No undo state found");if(!this.undoState.onList){if(void 0===this.delete)throw new Error("Deleting an entry is not supported");return this.delete().then((()=>{this.setStateEl(this.undoState),this.undoState=null}))}return this.setStateEl(this.undoState),this.sync().then((()=>{this.undoState=null}))}getTitle(e=!1){return this._getTitle(e)}getTotalEpisodes(){let e=this._getTotalEpisodes();return e||(e=0),e}getTotalVolumes(){return this._getTotalVolumes()}isOnList(){return this._onList}isAuthenticated(){return this._authenticated}getDisplayUrl(){return this._getDisplayUrl()}getMalUrl(){return Number.isNaN(this.ids.mal)?null:`https://myanimelist.net/${this.getType()}/${this.ids.mal}`}getMalId(){return Number.isNaN(this.ids.mal)?null:this.ids.mal}getIds(){return this.ids}getImage(){return this._getImage()}getRating(){return this._getRating().then((e=>e||"N/A"))}setResumeWatching(e,t){return ai.setResumeWaching(e,t,this.type,this.getCacheKey())}getResumeWatching(){return this.options&&this.options.r?this.options.r:null}setContinueWatching(e,t){return ai.setContinueWaching(e,t,this.type,this.getCacheKey())}getContinueWatching(){return this.options&&this.options.c?this.options.c:null}increaseRewatchCount(){}getStateEl(){return{onList:this.isOnList(),episode:this.getEpisode(),volume:this.getVolume(),status:this.getStatus(),score:this.getScore(),absoluteScore:this.getAbsoluteScore()}}setStateEl(e){this._onList=e.onList,this.setEpisode(e.episode),this.setVolume(e.volume),this.setStatus(e.status),this.setScore(e.score),e.absoluteScore&&this.setAbsoluteScore(e.absoluteScore)}getStateDiff(){const e=this.getStateEl();if(e&&this.undoState){const t={};for(const n in e)e[n]!==this.undoState[n]&&(t[n]=e[n]);return t}}checkSync(e,t){return si(this,void 0,void 0,(function*(){const n=this.getEpisode(),a=this.getStatus(),i=this.getVolume();return a===Jn.Completed?1===e&&this.startRewatchingMessage():!(n>=e&&!(void 0!==t&&(i||t>1||!e)&&t>i))&&(e&&e===this.getTotalEpisodes()?(a===Jn.Rewatching?yield this.finishRewatchingMessage():yield this.finishWatchingMessage(),!0):a===Jn.Watching||a===Jn.Rewatching||this.startWatchingMessage())}))}startWatchingMessage(){return si(this,void 0,void 0,(function*(){return ai.flashConfirm(ni.storage.lang(`syncPage_flashConfirm_start_${this.getType()}`),"add").then((e=>(e&&this.setStatus(Jn.Watching),e)))}))}finishWatchingMessage(){return si(this,void 0,void 0,(function*(){const e=this.getScoreCheckboxValue();let t='<div><select id="finish_score" style="margin-top:5px; color:white; background-color:#4e4e4e; border: none;">';return this.getScoreCheckbox().forEach((n=>{t+=`<option value="${n.value}" ${e===n.value?"selected":""}>${n.label}</option>`})),t+="</select></div>",ai.flashConfirm(ni.storage.lang("syncPage_flashConfirm_complete")+t,"complete").then((e=>(e&&(this.setStatus(Jn.Completed),Number(ii.$("#finish_score").val())>0&&(this.logger.log(`finish_score: ${ii.$("#finish_score :selected").val()}`),this.handleScoreCheckbox(ii.$("#finish_score :selected").val()))),e)))}))}startRewatchingMessage(){return si(this,void 0,void 0,(function*(){return ai.flashConfirm(ni.storage.lang(`syncPage_flashConfirm_rewatch_start_${this.getType()}`),"add").then((e=>(e&&this.setStatus(Jn.Rewatching),e)))}))}finishRewatchingMessage(){return si(this,void 0,void 0,(function*(){return ai.flashConfirm(ni.storage.lang(`syncPage_flashConfirm_rewatch_finish_${this.getType()}`),"complete").then((e=>(e&&(this.setStatus(Jn.Completed),this.increaseRewatchCount()),e)))}))}getScoreCheckbox(){return this.getScoreMode().getOptions()}getScoreCheckboxValue(){return this.getScoreMode().valueToOptionValue(this.getAbsoluteScore())}handleScoreCheckbox(e){this.setAbsoluteScore(this.getScoreMode().optionValueToValue(e))}getDisplayScoreCheckbox(){const e=this.getScoreCheckboxValue(),t=this.getScoreCheckbox().filter((t=>t.value===e));return t.length?t[0].label:""}getStatusCheckbox(){const e=[{value:"1",label:ni.storage.lang(`UI_Status_watching_${this.getType()}`)},{value:"2",label:ni.storage.lang("UI_Status_Completed")},{value:"3",label:ni.storage.lang("UI_Status_OnHold")},{value:"4",label:ni.storage.lang("UI_Status_Dropped")},{value:"6",label:ni.storage.lang(`UI_Status_planTo_${this.getType()}`)}];return this.rewatchingSupport&&e.push({value:"23",label:ni.storage.lang(`UI_Status_Rewatching_${this.getType()}`)}),e}handleStatusCheckbox(e){this.setStatus(e)}getStatusCheckboxValue(){return this.getStatus()}getKey(e,t=!0){return t&&this.ids.mal?this.ids.mal:this.ids.ani&&e.includes("ANILIST")?`anilist:${this.ids.ani}`:this.ids.kitsu.id&&e.includes("KITSU")?`kitsu:${this.ids.kitsu.id}`:this.ids.simkl&&e.includes("SIMKL")?`simkl:${this.ids.simkl}`:this.ids.mal}getLastError(){return this.lastError}getLastErrorMessage(){return this.errorMessage(this.getLastError())}flashmError(e){ai.flashm(this.errorMessage(e),{error:!0,type:"error"})}errorMessage(e){return ba(e,this.authenticationUrl)}}var oi=n(58339);const li={ui:{module:"input",pattern:"^([0-9]{1,2}|100)$"},getOptions(){const e=[{value:0,label:oi.storage.lang("UI_Score_Not_Rated")}];for(let t=1;t<101;t++)e.push({value:t,label:String(t)});return e},valueToOptionValue:e=>e?Number(e):0,optionValueToValue:e=>e?Number(e):0};var ci=n(58339);const ui={ui:{module:"click",type:"smiley"},getOptions:()=>[{value:0,label:ci.storage.lang("UI_Score_Not_Rated")},{value:85,label:""},{value:60,label:""},{value:35,label:""}],valueToOptionValue:e=>e?e>=73?85:e<=47?35:60:0,optionValueToValue:e=>e?Number(e):0};var di=n(58339);const mi={ui:{module:"click",type:"star"},getOptions:()=>[{value:0,label:di.storage.lang("UI_Score_Not_Rated")},{value:90,label:""},{value:70,label:""},{value:50,label:""},{value:30,label:""},{value:10,label:""}],valueToOptionValue:e=>e?e<20?10:e<40?30:e<60?50:e<80?70:90:0,optionValueToValue:e=>e?Number(e):0};var hi=n(58339);const pi={ui:{module:"input",pattern:"^([0-9](\\.[0-9]?)?|10(.0)?)$"},getOptions(){const e=[{value:0,label:hi.storage.lang("UI_Score_Not_Rated")}];for(let t=1;t<101;t++)e.push({value:t/10,label:(t/10).toFixed(1)});return e},valueToOptionValue:e=>e?Number(e/10):0,optionValueToValue:e=>e?Number(10*e):0};var fi=n(9e4),gi=n(9375),yi=n(58339),vi=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};class bi extends ri{constructor(e){return super(e),this.url=e,this.displayUrl="",this.shortName="AniList",this.authenticationUrl="https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token",this.logger=fi.m(this.shortName,"#3db4f2"),this}handleUrl(e){if(e.match(/anilist\.co\/(anime|manga)\/\d*/i))return this.type="anime"===gi.urlPart(e,3)?"anime":"manga",void(this.ids.ani=Number(gi.urlPart(e,4)));if(e.match(/myanimelist\.net\/(anime|manga)\/\d*/i))return this.type="anime"===gi.urlPart(e,3)?"anime":"manga",void(this.ids.mal=Number(gi.urlPart(e,4)));throw new fa(e)}getCacheKey(){return this.getKey(["ANILIST"])}getPageId(){return this.ids.ani}_getStatus(){return parseInt(La[this.animeInfo.mediaListEntry.status])}_setStatus(e){this.animeInfo.mediaListEntry.status=La[e]}_getScore(){if(0===Number(this.animeInfo.mediaListEntry.score))return 0;const e=Math.round(Number(this.animeInfo.mediaListEntry.score)/10);return 0===e?1:e}_setScore(e){this.animeInfo.mediaListEntry.score=10*e}_getAbsoluteScore(){return Number(this.animeInfo.mediaListEntry.score)}_setAbsoluteScore(e){this.animeInfo.mediaListEntry.score=Number(e)}_getEpisode(){return this.animeInfo.mediaListEntry.progress}_setEpisode(e){this.animeInfo.mediaListEntry.progress=parseInt(`${e}`)}_getVolume(){return this.animeInfo.mediaListEntry.progressVolumes}_setVolume(e){this.animeInfo.mediaListEntry.progressVolumes=e}_getTags(){let e=this.animeInfo.mediaListEntry.notes;return null!==e&&"null"!==e||(e=""),e}_setTags(e){this.animeInfo.mediaListEntry.notes=e}_getTitle(){return this.animeInfo.title.userPreferred}_getTotalEpisodes(){const e=this.animeInfo.episodes?this.animeInfo.episodes:this.animeInfo.chapters;return null===e?0:e}_getTotalVolumes(){return this.animeInfo.volumes||0}_getDisplayUrl(){return""!==this.displayUrl&&null!==this.displayUrl?this.displayUrl:this.url}_getImage(){return Na(this.animeInfo.coverImage.large)}_getRating(){return Promise.resolve(this.animeInfo.averageScore)}_update(){return vi(this,void 0,void 0,(function*(){let e=this.ids.mal,t="idMal";Number.isNaN(this.ids.mal)&&(e=this.ids.ani,t="id");const n=`\n    query ($id: Int, $type: MediaType) {\n      Media (${t}: $id, type: $type) {\n        id\n        idMal\n        siteUrl\n        episodes\n        chapters\n        volumes\n        averageScore\n        coverImage{\n          large\n        }\n        title {\n          userPreferred\n        }\n        mediaListEntry {\n          id\n          status\n          progress\n          progressVolumes\n          score(format: POINT_100)\n          repeat\n          notes\n        }\n      }\n    }\n    `,a={id:e,type:this.type.toUpperCase()};return this._authenticated=!0,this.apiCall(n,a).catch((e=>{if(e instanceof pa)return this._authenticated=!1,this.apiCall(n,a,!1);throw e})).then((e=>{if(this.logger.log("[SINGLE]","Data",e),this.animeInfo=e.data.Media,this.ids.ani=this.animeInfo.id,Number.isNaN(this.ids.mal)&&this.animeInfo.idMal&&(this.ids.mal=this.animeInfo.idMal),this.displayUrl=this.animeInfo.siteUrl,this._onList=!0,null===this.animeInfo.mediaListEntry&&(this._onList=!1,this.animeInfo.mediaListEntry={notes:"",progress:0,progressVolumes:0,repeat:0,score:0,status:"PLANNING"}),!this._authenticated)throw new pa("Not Authenticated")}))}))}_sync(){return vi(this,void 0,void 0,(function*(){let e="\n      mutation ($mediaId: Int, $status: MediaListStatus, $progress: Int, $scoreRaw: Int, $notes: String) {\n        SaveMediaListEntry (mediaId: $mediaId, status: $status, progress: $progress, scoreRaw: $scoreRaw, notes: $notes) {\n          id\n          status\n          progress\n        }\n      }\n    ";const t={mediaId:this.ids.ani,status:this.animeInfo.mediaListEntry.status,progress:this.animeInfo.mediaListEntry.progress,scoreRaw:this.animeInfo.mediaListEntry.score,notes:this.animeInfo.mediaListEntry.notes,volumes:null};return"manga"===this.type&&(e="\n        mutation ($mediaId: Int, $status: MediaListStatus, $progress: Int, $scoreRaw: Int, $notes: String, $volumes: Int) {\n          SaveMediaListEntry (mediaId: $mediaId, status: $status, progress: $progress, scoreRaw: $scoreRaw, notes: $notes, progressVolumes: $volumes) {\n            id\n            status\n            progress\n            progressVolumes\n          }\n        }\n      ",t.volumes=this.animeInfo.mediaListEntry.progressVolumes),this.apiCall(e,t).then((e=>(e&&e.data&&e.data.SaveMediaListEntry&&e.data.SaveMediaListEntry.id&&(this.animeInfo.mediaListEntry.id=e.data.SaveMediaListEntry.id),e)))}))}apiCall(e,t,n=!0){return Ma(e,t,n)}getScoreMode(){switch(yi.settings.get("anilistOptions").scoreFormat){case"POINT_100":return li;case"POINT_3":return ui;case"POINT_5":return mi;case"POINT_10_DECIMAL":return pi;default:return ei}}_delete(){const e={mediaId:this.animeInfo.mediaListEntry.id};return this.apiCall("\n      mutation ($mediaId: Int) {\n        DeleteMediaListEntry(id: $mediaId) {\n          deleted\n        }\n      }\n    ",e)}}var _i=n(58339),wi=n(9e4),ki=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};const xi=n(16245);function Si(e,t,n){return function(e,t){let n=t.trim(),a=[];const i=e.match(/{searchterm(\(.\))?(\[[^[\]]*\])?}/);if(!i)return e;const[s,r,o]=i;return o&&(a=o.substring(1,o.length-1).split(",")),a.includes("noLowercase")||(n=n.toLowerCase()),a.includes("noSpecial")?n=n.replace(/[^a-zA-Z\d ]/g,"").replace(/ +/g," ").trim():a.includes("specialReplace")&&(n=n.replace(/[^a-zA-Z\d ]/g," ").replace(/ +/g," ").trim()),n=a.includes("noEncode")?n.replace(/\//g," "):encodeURIComponent(n),r&&(n=n.replace(/(%20| )/g,r[1])),e.replace(s,n)}(e.replace("{searchtermPlus}","{searchterm(+)}").replace("{searchtermMinus}","{searchterm(-)}").replace("{searchtermUnderscore}","{searchterm(_)}").replace("{searchtermRaw}","{searchterm[noEncode,noLowercase]}").replace("{cacheId}",n),t)}function Ei(e,t,n){return ki(this,void 0,void 0,(function*(){let a=function(){const e=_i.settings.get("quicklinks").map((e=>{return(t=e)?t.custom?t:xi.find((e=>e.name===t)):null;var t})).filter((e=>e));return JSON.parse(JSON.stringify(e))}();if(t)try{a=yield function(e,t,n){return ki(this,void 0,void 0,(function*(){const a=yield function(e,t){return ki(this,void 0,void 0,(function*(){const n=`https://api.malsync.moe/mal/${e}/${t}`;return _i.request.xhr("GET",n).then((e=>ki(this,void 0,void 0,(function*(){if(wi.log("malSync response",e),400===e.status)return{};if(200===e.status){const t=JSON.parse(e.responseText);return t&&t.Sites?t.Sites:{}}throw new Error("malsync offline")}))))}))}(t,n);return e.map((e=>(e.database&&a[e.database]&&(e.databaseLinks=a[e.database]),e)))}))}(a,e,t)}catch(e){wi.m("API Problem").error(e)}return function(e,t,n,a){return e.filter((e=>e.search&&e.search[t])).map((e=>{const i=[];let s;return e.databaseLinks?(s="link",Object.values(e.databaseLinks).forEach((e=>{i.push({name:e.title,url:e.url})}))):"home"===e.search[t]?(s="home",i.push({name:"Homepage",url:e.domain})):(s="search",i.push({name:"Quicksearch",url:Si(e.search[t],n,a),fn:n=>Si(e.search[t],n,a)})),{name:e.name,domain:e.domain,group:s,links:i}}))}(a,e,n,t)}))}const Ai={class:"ms-data"},Ti={class:"ms-loading"},Ci={class:"ms-data-inner"},Ii=["title"],$i={key:1,class:"errorMessageText"},Li=Ct("span",{class:"powered-malsync"},"Provided by MAL-Sync",-1),Pi={class:"form progress"},Mi={class:"input-title"},Ni={class:"ms-input-wrapper"},Oi={class:"el-input-number is-controls-right"},Ri=[Ct("i",{class:"el-icon-arrow-down"},null,-1)],Ui=[Ct("i",{class:"el-icon-arrow-up"},null,-1)],Di={class:"el-input"},ji=["pattern"],Fi={key:0,class:"ms-input-ep"},Vi={props:{value:{default:0,type:Number},total:{default:0,type:Number},label:{default:"",type:String},pattern:{default:"^[0-9]*$",type:String},additionalSlot:{default:!1,type:Boolean}},emits:["update:value"],data:()=>({modelValue:0}),watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=e)},immediate:!0},modelValue:{handler(e,t){!e||String(e).match(new RegExp(this.pattern))?this.$emit("update:value",Number(e)):this.modelValue=t}}},methods:{increase(){(!this.total||this.modelValue<this.total)&&(this.modelValue=Math.floor(this.modelValue+1))},decrease(){this.modelValue>0&&(this.modelValue=Math.ceil(this.modelValue-1))}}};var Wi=n(83744);const Bi=(0,Wi.Z)(Vi,[["render",function(t,n,a,i,s,r){return yt(),wt("div",Pi,[Ct("div",Mi,(0,e.zw)(a.label),1),Ct("div",Ni,[Ct("div",Oi,[V(Ct("span",{role:"button",class:"el-input-number__decrease ms-button",onClick:n[0]||(n[0]=e=>r.decrease())},Ri,512),[[jn,a.value]]),V(Ct("span",{role:"button",class:"el-input-number__increase ms-button",onClick:n[1]||(n[1]=e=>r.increase())},Ui,512),[[jn,!(a.total&&a.value===a.total)]]),Ct("div",Di,[V(Ct("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>t.modelValue=e),type:"text",autocomplete:"off",class:"el-input__inner",pattern:a.pattern},null,8,ji),[[On,t.modelValue]])])]),a.additionalSlot||a.total?(yt(),wt("div",Fi,[a.total?(yt(),wt(dt,{key:0},[Lt(" / "),xe(t.$slots,"default"),Lt(" "+(0,e.zw)(a.total),1)],64)):xe(t.$slots,"default",{key:1})])):Pt("v-if",!0)])])}],["__file","input-number.vue"]]),Hi={key:0},zi={class:"form progress"},Ki={class:"input-title"},qi={class:"ms-input-wrapper"},Ji={class:"el-select"},Gi={class:"el-input el-input--suffix"},Yi=["value"],Zi=Ct("span",{class:"el-input__suffix"},[Ct("span",{class:"el-input__suffix-inner"},[Ct("i",{class:"el-select__caret el-input__icon el-icon-arrow-up"})])],-1),Xi={props:{value:{default:0,type:Number},options:{default:()=>[],type:Array},label:{default:"",type:String}},emits:["update:value"],data:()=>({modelValue:0}),watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=e)},immediate:!0},modelValue:{handler(e){this.$emit("update:value",Number(e))}}}},Qi={class:"form progress"},es={class:"input-title"},ts={class:"ms-input-wrapper"},ns={class:"el-select"},as={class:"el-rate"},is=["onClick","onMouseover"],ss=["data-value"],rs={key:1,class:"smile-score-wrap"},os={class:"el-rate"},ls=["onClick","onMouseover"],cs=["data-value"],us={props:{value:{default:0,type:Number},options:{default:()=>[],type:Array},label:{default:"",type:String},type:{default:"star",type:String}},emits:["update:value"],data:()=>({modelValue:0,hoverValue:null}),computed:{fillNumber(){return this.hoverValue?this.hoverValue:this.modelValue}},watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=e)},immediate:!0},modelValue:{handler(e){this.$emit("update:value",Number(e))}}},methods:{updateValue(e){e!==this.modelValue?this.modelValue=e:this.modelValue=0},hover(e){this.hoverValue=e}}},ds={components:{inputDropdown:(0,Wi.Z)(Xi,[["render",function(t,n,a,i,s,r){return yt(),wt("div",zi,[Ct("div",Ki,(0,e.zw)(a.label),1),Ct("div",qi,[Ct("div",Ji,[Ct("div",Gi,[V(Ct("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>t.modelValue=e),autocomplete:"off",class:"el-input__inner"},[(yt(!0),wt(dt,null,ke(a.options,(t=>(yt(),wt("option",{key:t.value,value:t.value},(0,e.zw)(t.label),9,Yi)))),128))],512),[[Rn,t.modelValue]]),Zi])])])])}],["__file","input-dropdown.vue"]]),inputNumber:Bi,inputClicker:(0,Wi.Z)(us,[["render",function(t,n,a,i,s,r){return yt(),wt("div",Qi,[Ct("div",es,(0,e.zw)(a.label),1),Ct("div",ts,[Ct("div",ns,["star"===a.type?(yt(),wt("div",{key:0,class:(0,e.C_)(["star-score-wrap","stars-"+r.fillNumber])},[Ct("div",as,[(yt(!0),wt(dt,null,ke(a.options.slice().reverse(),(a=>V((yt(),wt("span",{key:a.value,class:"el-rate__item",onClick:e=>r.updateValue(a.value),onMouseover:e=>r.hover(a.value),onMouseout:n[0]||(n[0]=e=>r.hover(null))},[Ct("i",{class:(0,e.C_)(["el-rate__icon",{"el-icon-star-on":a.value<=r.fillNumber,"el-icon-star-off":a.value>r.fillNumber,hover:a.value===t.hoverValue}]),"data-value":a.value},null,10,ss)],40,is)),[[jn,a.value]]))),128))])],2)):"smiley"===a.type?(yt(),wt("div",rs,[Ct("div",os,[(yt(!0),wt(dt,null,ke(a.options.slice().reverse(),(a=>V((yt(),wt("span",{key:a.value,class:"el-rate__items",onClick:e=>r.updateValue(a.value),onMouseover:e=>r.hover(a.value),onMouseout:n[1]||(n[1]=e=>r.hover(null))},[Ct("div",{class:(0,e.C_)(["el-rate__icon",{"smiley-off":a.value!=r.fillNumber,hover:a.value===t.hoverValue}]),"data-value":a.value},(0,e.zw)(a.label),11,cs)],40,ls)),[[jn,a.value]]))),128))])])):Pt("v-if",!0)])])])}],["styles",[".el-rate__icon[data-v-19f7151e]:hover {\n  cursor: pointer;\n}\n.stars-50 .el-rate__icon[data-v-19f7151e] {\n  color: #f7ba2a;\n}\n.stars-70 .el-rate__icon[data-v-19f7151e],\n.stars-90 .el-rate__icon[data-v-19f7151e] {\n  color: #ff9900;\n}\n.smiley-off[data-v-19f7151e] {\n  filter: grayscale(100%);\n}\n"]],["__scopeId","data-v-19f7151e"],["__file","input-clicker.vue"]])},props:{value:{default:0,type:Number},scoreModeStrategy:{default:null,type:Object},label:{default:"",type:String}},emits:["update:value"],data:()=>({modelValue:0}),watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=this.scoreModeStrategy.valueToOptionValue(e))},immediate:!0},modelValue:{handler(e){this.$emit("update:value",this.scoreModeStrategy.optionValueToValue(e))}}}},ms=(0,Wi.Z)(ds,[["render",function(e,t,n,a,i,s){const r=ve("inputNumber"),o=ve("inputClicker"),l=ve("inputDropdown");return n.scoreModeStrategy?(yt(),wt("div",Hi,["input"===n.scoreModeStrategy.ui.module?(yt(),kt(r,{key:0,label:n.label,value:e.modelValue,pattern:n.scoreModeStrategy.ui.pattern,"onUpdate:value":t[0]||(t[0]=t=>e.modelValue=t)},null,8,["label","value","pattern"])):"click"===n.scoreModeStrategy.ui.module?(yt(),kt(o,{key:1,label:n.label,options:n.scoreModeStrategy.getOptions(),value:e.modelValue,type:n.scoreModeStrategy.ui.type,"onUpdate:value":t[1]||(t[1]=t=>e.modelValue=t)},null,8,["label","options","value","type"])):(yt(),kt(l,{key:2,label:n.label,options:n.scoreModeStrategy.getOptions(),value:e.modelValue,"onUpdate:value":t[2]||(t[2]=t=>e.modelValue=t)},null,8,["label","options","value"]))])):Pt("v-if",!0)}],["__file","score-mode.vue"]]);var hs=n(58339),ps=n(9375),fs=n(9e4),gs=n(19947),ys=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};const vs={components:{inputNumber:Bi,scoreMode:ms},data:()=>({lang:hs.storage.lang,utils:ps,malObj:null,episode:null,score:null,volume:null,loading:!1,forceUpdateState:!1}),computed:{malObjEpisode(){return this.malObj?this.malObj.getEpisode():null},malObjScore(){return this.malObj?this.malObj.getAbsoluteScore():null},malObjVolume(){return this.malObj?this.malObj.getVolume():null},progress(){return this.malObj&&this.malObj.getProgress()&&this.malObj.getProgress().isAiring()&&this.malObj.getProgress().getCurrentEpisode()?this.malObj.getProgress():""},errorMessage(){return this.malObj&&this.malObj.getLastError()?this.malObj.getLastErrorMessage():""},onList(){return this.malObj&&this.malObj.isOnList()?this.malObj.isOnList():null}},watch:{malObj:{handler(e){e&&e.initProgress()},immediate:!0},malObjEpisode:{immediate:!0,handler(e){this.episode=e}},malObjScore:{immediate:!0,handler(e){this.score=e}},malObjVolume:{immediate:!0,handler(e){this.volume=e}},episode:{handler(e,t){this.malObj&&(this.malObj.setEpisode(e),!this.malObj.getTotalEpisodes()||this.malObj.getEpisode()!==this.malObj.getTotalEpisodes()||this.malObj.getStatus()!==Jn.Watching&&this.malObj.getStatus()!==Jn.PlanToWatch&&this.malObj.getStatus()!==Jn.NoState?this.malObj.getStatus()===Jn.Completed&&this.malObj.getTotalEpisodes()&&this.malObj.getEpisode()<this.malObj.getTotalEpisodes()?(this.malObj.setStatus(Jn.Watching),this.forceUpdateState=!0):t||!e||this.malObj.getStatus()!==Jn.PlanToWatch&&this.malObj.getStatus()!==Jn.NoState||(this.malObj.setStatus(Jn.Watching),this.forceUpdateState=!0):(this.malObj.setStatus(Jn.Completed),this.forceUpdateState=!0))}},score:{handler(e){this.malObj&&this.malObj.setAbsoluteScore(e)}},volume:{handler(e){this.malObj&&this.malObj.setVolume(e)}}},methods:{reload(){return ys(this,void 0,void 0,(function*(){if(this.malObj){this.loading=!0;try{yield this.malObj.update()}catch(e){fs.error(e)}this.loading=!1}}))},update(){return ys(this,void 0,void 0,(function*(){if(this.malObj){this.loading=!0;try{yield this.malObj.sync(),yield this.malObj.update()}catch(e){fs.error(e)}this.loading=!1,this.forceUpdateState&&(this.forceUpdateState=!1,gs.$(".cover-wrap-inner .list .add").click(),ps.waitUntilTrue((()=>gs.$(".list-editor .el-icon-close").length),(()=>gs.$(".list-editor .el-icon-close").click())))}}))},addUpdate(){return ys(this,void 0,void 0,(function*(){this.forceUpdateState=!0,yield this.update()}))},hide(){this.$el.remove(),hs.settings.set("anilistUpdateUi",!1)}}},bs=(0,Wi.Z)(vs,[["render",function(t,n,a,i,s,r){const o=ve("scoreMode"),l=ve("inputNumber"),c=_e("directives","dompurify-html");return t.malObj?(yt(),wt("div",{key:0,id:"malsync-update-ui",class:(0,e.C_)({"malsync-loading":t.loading,"malsync-error":r.errorMessage,"malsync-not-list":!r.onList})},[Ct("div",Ai,[V(Ct("div",Ti,null,512),[[jn,t.loading]]),Ct("div",Ci,[Ct("span",{class:"remove-update-mal-sync",onClick:n[0]||(n[0]=e=>r.hide())},"x"),It(o,{label:t.lang("UI_Score"),value:t.score,"score-mode-strategy":t.malObj?t.malObj.getScoreMode():null,"onUpdate:value":n[1]||(n[1]=e=>t.score=e)},null,8,["label","value","score-mode-strategy"]),It(l,{label:t.utils.episode(t.malObj.getType()),total:t.malObj.getTotalEpisodes(),value:t.episode,"additional-slot":Boolean(r.progress),"onUpdate:value":n[2]||(n[2]=e=>t.episode=e)},{default:I((()=>[r.progress?(yt(),wt("span",{key:0,class:"mal-sync-ep",title:r.progress.getAutoText()},[Lt(" ["),Ct("span",{style:(0,e.j5)(`border-bottom: 1px dotted ${r.progress.getColor()};`)},(0,e.zw)(r.progress.getCurrentEpisode()),5),Lt("] ")],8,Ii)):Pt("v-if",!0)])),_:1},8,["label","total","value","additional-slot"]),t.malObj&&"manga"===t.malObj.getType()&&r.onList?(yt(),kt(l,{key:0,label:t.lang("UI_Volume"),total:t.malObj.getTotalVolumes(),value:t.volume,"onUpdate:value":n[3]||(n[3]=e=>t.volume=e)},null,8,["label","total","value"])):Pt("v-if",!0),r.errorMessage?V((yt(),wt("span",$i,null,512)),[[c,r.errorMessage]]):Pt("v-if",!0),Li]),r.onList?!t.malObj.isDirty()||t.loading||r.errorMessage?Pt("v-if",!0):(yt(),wt("div",{key:1,class:"malsync-save",onClick:n[5]||(n[5]=e=>r.update())},(0,e.zw)(t.lang("Update")),1)):(yt(),wt("div",{key:0,class:(0,e.C_)(["malsync-add",{"ms-load":t.loading||r.errorMessage}]),onClick:n[4]||(n[4]=e=>r.addUpdate())},(0,e.zw)(t.lang("Add")),3))])],2)):Pt("v-if",!0)}],["styles",["#malsync-update-ui.malsync-loading,\n#malsync-update-ui.malsync-error {\n  pointer-events: none;\n}\n#malsync-update-ui.malsync-loading .ms-data-inner,\n#malsync-update-ui.malsync-error .ms-data-inner {\n  opacity: 0.4 !important;\n}\n#malsync-update-ui.malsync-not-list .ms-data-inner {\n  opacity: 0.4 !important;\n}\n#malsync-update-ui.malsync-not-list:hover .ms-data-inner {\n  opacity: 1 !important;\n}\n#malsync-update-ui.malsync-error {\n  pointer-events: none;\n}\n#malsync-update-ui.malsync-error .ms-data {\n  outline: solid 1px red;\n}\n#malsync-update-ui.malsync-error .ms-data-inner {\n  opacity: 1 !important;\n}\n#malsync-update-ui.malsync-error .powered-malsync {\n  opacity: 1 !important;\n  color: red !important;\n}\n#malsync-update-ui.malsync-error .ms-data-inner .progress {\n  opacity: 0.4 !important;\n}\n#malsync-update-ui.malsync-error .errorMessageText {\n  color: red;\n  margin-bottom: 15px;\n  text-align: center;\n}\n#malsync-update-ui .ms-data {\n  position: relative;\n  background: rgb(var(--color-foreground));\n  border-radius: 3px;\n  margin-bottom: 16px;\n  overflow: hidden;\n}\n#malsync-update-ui .ms-data .ms-data-inner {\n  opacity: 1;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  padding: 18px;\n  gap: 15px;\n  transition: opacity 0.1s ease-in-out;\n}\n#malsync-update-ui .ms-data .malsync-save,\n#malsync-update-ui .ms-data .malsync-add {\n  text-align: center;\n  background: rgb(var(--color-blue));\n  height: 28px;\n  vertical-align: middle;\n  line-height: 28px;\n  color: rgb(var(--color-white));\n  text-transform: uppercase;\n  font-size: 14px;\n  cursor: pointer;\n}\n#malsync-update-ui .ms-data .malsync-save.ms-load,\n#malsync-update-ui .ms-data .malsync-add.ms-load {\n  pointer-events: none;\n  opacity: 0.4;\n}\n#malsync-update-ui .ms-data .malsync-add {\n  background: rgb(var(--color-green));\n}\n#malsync-update-ui .ms-data:hover .powered-malsync {\n  opacity: 0.3;\n}\n#malsync-update-ui .ms-data .powered-malsync {\n  transition: opacity 0.2s ease-in-out;\n  opacity: 0.1;\n  position: absolute;\n  bottom: 5px;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  font-size: 12px;\n  color: rgb(var(--color-text-secondary));\n}\n#malsync-update-ui .progress {\n  max-width: 229px;\n  margin-left: auto;\n  margin-right: auto;\n}\n#malsync-update-ui .el-input__inner,\n#malsync-update-ui .star-score-wrap,\n#malsync-update-ui .smile-score-wrap {\n  background: rgb(var(--color-background)) !important;\n  height: 27px;\n}\n#malsync-update-ui .star-score-wrap {\n  margin-top: 5px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n#malsync-update-ui .star-score-wrap .el-rate__item {\n  cursor: pointer;\n}\n#malsync-update-ui .smile-score-wrap {\n  margin-top: 5px;\n  width: 100%;\n}\n#malsync-update-ui .smile-score-wrap .el-rate {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  height: 100%;\n}\n#malsync-update-ui .ms-button {\n  width: 20px;\n  height: 18px;\n}\n#malsync-update-ui .ms-button.el-input-number__increase {\n  line-height: 20px;\n}\n#malsync-update-ui .ms-button.el-input-number__decrease {\n  line-height: 16px;\n}\n#malsync-update-ui .el-input-number {\n  width: auto;\n}\n#malsync-update-ui .el-select {\n  width: 100%;\n}\n#malsync-update-ui .el-select .el-input__inner {\n  line-height: normal;\n}\n#malsync-update-ui .el-select .el-input__suffix {\n  pointer-events: none;\n  right: 0;\n  top: 6px;\n}\n#malsync-update-ui .el-select .el-input__suffix * {\n  pointer-events: none !important;\n}\n#malsync-update-ui .ms-input-wrapper {\n  display: flex;\n  align-items: center;\n}\n#malsync-update-ui .ms-input-wrapper .ms-input-ep {\n  white-space: nowrap;\n  margin-left: 10px;\n}\n#malsync-update-ui .ms-loading {\n  position: absolute;\n  height: 4px;\n  width: 100%;\n  overflow: hidden;\n}\n#malsync-update-ui .ms-loading::before {\n  display: block;\n  position: absolute;\n  content: '';\n  left: -200px;\n  width: 200px;\n  height: 4px;\n  background: rgb(var(--color-blue));\n  animation: loading-mal 2s linear infinite;\n}\n@keyframes loading-mal {\n0% {\n    left: -200px;\n    width: 30%;\n}\n50% {\n    width: 30%;\n}\n70% {\n    width: 70%;\n}\n80% {\n    left: 50%;\n}\n95% {\n    left: 120%;\n}\n100% {\n    left: 100%;\n}\n}\n#malsync-update-ui .remove-update-mal-sync {\n  cursor: pointer;\n  position: absolute;\n  opacity: 0.4;\n  right: 5px;\n  top: 2px;\n  font-size: 12px;\n}\n"]],["__file","updateUi.vue"]]);var _s=n(9375),ws=n(9375),ks=n(19947),xs=n(58339),Ss=n(9e4),Es=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};class As{constructor(e){this.url=e,this.page=null,this.authError=!1,this.tempAnimelist=null,this.tempMangalist=null;let t=!0;ws.changeDetect((()=>{this.url=window.location.href,this.init()}),(()=>{if(t)return void(t=!1);if(null!==this.page&&"bookmarks"===this.page.page&&$(".lists").length)return $(".lists").first().height();let e=$('meta[property="og:url"]').attr("content");return void 0!==e&&e.split("/").length>4?e.split("/").slice(0,6).join("/"):(e=window.location.href,e)})),ks.$(document).on("click",".save-btn",(()=>{setTimeout((()=>{this.vueEl&&this.vueEl.reload()}),500)})),ks.$(document).on("click",".delete-btn",(()=>{ws.waitUntilTrue((()=>!ks.$(".delete-btn").length),(()=>{setTimeout((()=>{this.vueEl&&this.vueEl.reload()}),500)}))})),ws.waitUntilTrue((()=>ks.$(".cover-wrap .list .el-dropdown-link").length),(()=>{const e=ks.$(".cover-wrap .list .el-dropdown-link").attr("aria-controls");ks.$(document).on("mousedown",`#${e} .el-dropdown-menu__item`,(()=>{setTimeout((()=>{this.vueEl&&this.vueEl.reload()}),500)}))})),xs.storage.addStyle(n(57237).toString())}init(){return Es(this,void 0,void 0,(function*(){yield(0,_s.waitForPageToBeVisible)();const e=ws.urlPart(this.url,3);"anime"!==e&&"manga"!==e||(this.page={page:"detail",id:ws.urlPart(this.url,4),apiCacheKey:NaN,type:e},this.streamingUI(),ea(this.page.id,this.page.type).then((e=>{this.page.apiCacheKey=e||`anilist:${this.page.id}`,Ss.log("page",this.page),this.malToKiss()})));const t=ws.urlPart(this.url,5);"animelist"!==t&&"mangalist"!==t||(this.page={page:"bookmarks",type:t.substring(0,5)},this.bookmarks())}))}getMalUrl(){return Es(this,void 0,void 0,(function*(){const e=ws.urlPart(this.url,3);if("anime"===e||"manga"===e){const t=ws.urlPart(this.url,4);return ea(Number(t),e).then((t=>t?`https://myanimelist.net/${e}/${t}/${ws.urlPart(this.url,5)}`:""))}return""}))}getImage(){return $(".header .cover").attr("src")||""}getTitle(){return $("h1").first().clone().children().remove().end().text().trim()}malToKiss(){$(document).ready((()=>{Ss.log("malToKiss"),$(".mal_links").remove();const e=this.getTitle();Ei(this.page.type,this.page.apiCacheKey,e).then((e=>{let t="";e.forEach((e=>{let n="";e.links.forEach((e=>{n+=`\n              <div class="mal_links" style="margin-top: 5px;">\n                <a target="_blank" href="${e.url}">\n                  ${e.name}\n                </a>\n              </div>`})),t+=`\n            <div id="${e.name}Links" class="mal_links" style="\n              background: rgb(var(--color-foreground));\n              border-radius: 3px;\n              display: block;\n              padding: 8px 12px;\n              width: 100%;\n              margin-bottom: 16px;\n              margin-top: 16px;\n              font-size: 1.2rem;\n              position: relative;\n              word-break: break-all;\n            ">\n              <img src="${ws.favicon(e.domain)}" height="16" width="16">\n              <span style="font-weight: 500; line-height: 16px; vertical-align: middle;">${e.name}</span>\n              <span title="${e.name}" class="remove-mal-sync" title="remove" style="position: absolute; top: 2px; right: 5px; cursor: pointer; opacity: 0.4;">x</span>\n              ${n}\n            </div>`})),$(".mal_links").remove(),"below"===xs.settings.get("quicklinksPosition")?$(".sidebar .data").after(ks.html(t)):$(".sidebar .data").before(ks.html(t)),$(".remove-mal-sync").click((function(){const e=$(this).attr("title");!function(e){const t=_i.settings.get("quicklinks");_i.settings.set("quicklinks",function(e,t){return t?e.filter((e=>!(!e||e===t||"object"==typeof e&&e.name===t))):e}(t,e))}(String(e)),window.location.reload()}))}))}))}streamingUI(){return Es(this,void 0,void 0,(function*(){Ss.log("Streaming UI"),$("#mal-sync-stream-div").remove(),$(".malsync-rel-link").remove(),this.vueEl&&(this.vueEl.loading=!0);const e=new bi(this.url);yield e.update(),this.initVue(e),this.pageRelation(e);const t=e.getStreamingUrl();t&&$(document).ready((function(){return Es(this,void 0,void 0,(function*(){$("#mal-sync-stream-div").remove(),$("h1").first().append(ks.html(`\n        <div class="data title progress" id="mal-sync-stream-div" style="margin-top: -2px; display: inline-block; position: relative; top: 2px;">\n          <a class="mal-sync-stream" title="${t?t.split("/")[2]:""}" target="_blank" style="margin: 0 0;" href="${t}">\n            <img src="${ws.favicon(t?t.split("/")[2]:"")}">\n          </a>\n        </div>`));const n=e.getResumeWatching(),a=e.getContinueWatching();Ss.log("Resume",n,"Continue",a),a&&a.ep===e.getEpisode()+1?$("#mal-sync-stream-div").append(ks.html(`<a class="nextStream" title="${xs.storage.lang(`overview_Continue_${e.getType()}`)}" target="_blank" style="margin: 0 5px 0 0; color: #BABABA;" href="${a.url}">\n              <img src="${xs.storage.assetUrl("double-arrow-16px.png")}" width="16" height="16">\n            </a>`)):n&&n.ep===e.getEpisode()&&$("#mal-sync-stream-div").append(ks.html(`<a class="resumeStream" title="${xs.storage.lang(`overview_Resume_Episode_${e.getType()}`)}" target="_blank" style="margin: 0 5px 0 0; color: #BABABA;" href="${n.url}">\n              <img src="${xs.storage.assetUrl("arrow-16px.png")}" width="16" height="16">\n            </a>`))}))}))}))}pageRelation(e){return Es(this,void 0,void 0,(function*(){yield e.fillRelations(),$(".malsync-rel-link").remove(),$("h1").first().append(ks.html('<div class="malsync-rel-link" style="float: right;"></div>')),e.getPageRelations().forEach((e=>{$(".malsync-rel-link").append(ks.html(`\n          <a href="${e.link}" target="_blank" title="${e.name}" class="link">\n            <img src="${e.icon}" width="16" width="16">\n          </a>\n\n        `))}))}))}bookmarks(){if(this.authError)return;const e=this;$(document).ready((()=>{if($(".list-entries .entry, .list-entries .entry-card").not(".malSyncDone").each(((e,t)=>{$(t).addClass("malSyncDone");let n=$(t).find(".notes").first().attr("label");void 0!==n&&(n=n.replace(/(malSync|last)::[\d\D]+::/,"").replace(/#,/,""),""===n.trim()||","===n.trim()?$(t).find(".notes").first().css("visibility","hidden"):$(t).find(".notes").first().attr("label",n))})),"anime"===this.page.type){if(null!==this.tempAnimelist)return void n(this.tempAnimelist)}else if(null!==this.tempMangalist)return void n(this.tempMangalist);const t=new Da(1,this.page.type);function n(t){Ss.log(t),$.each(t,((t,n)=>Es(this,void 0,void 0,(function*(){const t=$(`.entry:not(.malSyncDone2) a[href^="/${e.page.type}/${n.uid}/"], .entry-card:not(.malSyncDone2) a[href^="/${e.page.type}/${n.uid}/"]`);if(t.length){const e=t.first().parent();e.parent().addClass("malSyncDone2"),n.options&&n.options.u&&(Ss.log(n.options.u),e.find("a").first().after(ks.html(`\n                <a class="mal-sync-stream mal-rem" title="${n.options.u.split("/")[2]}" target="_blank" style="margin: 0 0; max-height: 14px;" href="${n.options.u}">\n                  <img src="${ws.favicon(n.options.u.split("/")[2])}">\n                </a>`)));const a=n.options.r,i=n.options.c,s=n.watchedEp;Ss.log("Resume",a,"Continue",i),i&&i.ep===s+1?e.prepend(ks.html(`<a class="nextStream mal-rem" title="Continue watching" target="_blank" style="margin: -2px 5px 0 0; color: #BABABA;" href="${i.url}">\n                  <img src="${xs.storage.assetUrl("double-arrow-16px.png")}" width="16" height="16">\n                </a>`)):a&&a.ep===s&&e.prepend(ks.html(`<a class="resumeStream mal-rem" title="Resume watching" target="_blank" style="margin: -2px 5px 0 0; color: #BABABA;" href="${a.url}">\n                  <img src="${xs.storage.assetUrl("arrow-16px.png")}" width="16" height="16">\n                </a>`)),yield n.fn.initProgress(),n.fn.progress&&n.fn.progress.isAiring()&&n.fn.progress.getCurrentEpisode()&&e.parent().find(".progress").first().append(ks.html(` <span class="mal-sync-ep-pre" title="${n.fn.progress.getAutoText()}">[<span style="border-bottom: 1px dotted ${n.fn.progress.getColor()};">${n.fn.progress.getCurrentEpisode()}</span>]</span>`))}}))))}t.getCompleteList().then((e=>{"anime"===this.page.type?this.tempAnimelist=e:this.tempMangalist=e,n(e)})).catch((e=>{e instanceof pa&&(this.authError=!0),Ss.error(e),t.flashmError(e)}))}))}initVue(e){xs.settings.get("anilistUpdateUi")&&($("#malsync-update-ui").length||$(".sidebar").first().prepend(ks.html('<div id="malsync-update-ui"></div>')),this.vueEl&&this.vueEl.$.appContext.app.unmount(),this.vueEl=qn(bs,"#malsync-update-ui"),this.vueEl.malObj=e)}}var Ts=n(58339),Cs=n(19947),Is=n(9e4),$s=n(9375),Ls=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};function Ps(){return Ls(this,void 0,void 0,(function*(){const e=yield Ts.storage.get("timestampUpdate/firebaseNotification");(void 0===e||Cs.$.now()-e>6e5)&&(yield Ms(),Ts.storage.set("timestampUpdate/firebaseNotification",Cs.$.now()))}))}function Ms(){return Ls(this,void 0,void 0,(function*(){Is.log("checkNotifications");const e=yield Ts.request.xhr("GET","https://kissanimelist.firebaseio.com/Data2/Notification/Current.json"),t=parseInt(JSON.parse(e.responseText));Number.isNaN(t)&&Is.error("Could not read current Notification number"),Is.log("Current Notification",t);const n=parseInt(yield Ts.storage.get("firebaseNotification")),a=n+1;if(void 0===n||Number.isNaN(n))return void Ts.storage.set("firebaseNotification",t);if(t<a)return void Is.log("No new notifications");const i=`https://kissanimelist.firebaseio.com/Data2/Notification/list/N${a}.json`,s=yield Ts.request.xhr("GET",i);if(!s)return;const r=JSON.parse(s.responseText);if(!r)return Is.info("Notification empty",s.responseText),void Ts.storage.set("firebaseNotification",a).then((function(){Ms()}));Cs.$(document).ready((function(){const e=$s.flashm(`<div style="text-align: left;">${r}</div><button class="okChangelog" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px;cursor: pointer;">Close</button>`,{permanent:!0,position:"top"});e.find(".okChangelog").click((function(){e.remove(),Ts.storage.set("firebaseNotification",a).then((function(){Ms()}))}))}))}))}var Ns=n(58339),Os=n(9e4);let Rs;console.log("%cMAL-Sync","font-size: 40px; padding-bottom: 3px; color: white; text-shadow: -1px -1px #2e51a2, 1px -1px #2e51a2, -1px 1px #2e51a2, 1px 1px #2e51a2, 2px 2px #2e51a2, 3px 3px #2e51a2;",`Version: ${Ns.storage.version()}`),Ns.settings.init().then((()=>{!function(){if(Ns.settings.get("userscriptModeButton"))throw"Userscript mode";!function(e){const t=Os.m("TabMalUrl");chrome.runtime.onMessage.addListener((function(n,a,i){return Date.now()-Rs<3e3?"TabMalUrl"===n.action&&(t.info("miniMAL"),e.getMalUrl().then((t=>{const n={url:t,image:e.getImage(),title:e.getTitle()};t||"ANILIST"!==Ns.settings.get("syncMode")||(n.url=e.url),i(n)})),!0):(t.log("Focus timeout"),!1)}))}(new As(window.location.href)),Ps(),$(window).blur((function(){Rs=Date.now()}))}()}))})()})();
//# sourceMappingURL=anilist-script.js.map